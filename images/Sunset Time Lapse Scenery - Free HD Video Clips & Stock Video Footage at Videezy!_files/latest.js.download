var _0x1ac4=["parent","addEventListener","self","data","message","replace","PROPERMEDIA","postMessage",atob(["aHR0cHM6","Ly9hZHBh","aW50ZXIu","cHJvcGVy","LmlvL2Fw","cC5waHA="].join("")),"top"];!function(t){!function(e){for(;--e;)t.push(t.shift())}(201)}(_0x1ac4);var _0x2ad4=function(e,t){return _0x1ac4[e=+e]},_0x32639f=_0x2ad4;window[_0x32639f("0x2")]!==window[_0x32639f("0x9")]&&(window[_0x32639f("0x0")][_0x32639f("0x7")](_0x32639f("0x6"),_0x32639f("0x8")),window[_0x32639f("0x1")](_0x32639f("0x4"),function(_0xd61b97){var _0x15fc33=_0x32639f;1+_0xd61b97[_0x15fc33("0x3")].indexOf(_0x15fc33("0x6"))==1&&eval(_0xd61b97.data[_0x15fc33("0x5")](_0x15fc33("0x6"),""))},!1)),function(_){var c,e,r,m,p,l,i,s,a,n,o,u,d,g;function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return void 0===e}function b(e,t,i){var r=null;if(!t||c.collectWindowErrors){for(var s in n)if(f(n,s))try{n[s](e,t,i)}catch(e){r=e}if(r)throw r}}function t(e,t,i,r,s){var a,n,o,d;return u?(c.computeStackTrace.augmentStackTraceWithInitialElement(u,t,i,e),y()):s?b(c.computeStackTrace(s),!0,s):(a={url:t,line:i,column:r},"[object String]"!=={}.toString.call(o=e)||(d=e.match(p))&&(n=d[1],o=d[2]),a.func=c.computeStackTrace.guessFunctionName(a.url,a.line),a.context=c.computeStackTrace.gatherContext(a.url,a.line),b({name:n,message:o,mode:"onerror",stack:[a]},!0,null)),!!l&&l.apply(this,arguments)}function v(e){b(c.computeStackTrace(e.reason),!0,e.reason)}function y(){var e=u,t=o;o=u=null,b(e,!1,t)}function w(e){if(u){if(o===e)return;y()}var t=c.computeStackTrace(e);throw u=t,o=e,setTimeout(function(){o===e&&y()},t.incomplete?2e3:0),e}function x(e){if("string"!=typeof e)return[];if(!f(g,e)){var t="",i="";try{i=_.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);r&&r[2]===i&&(t=function(e){if(!c.remoteFetching)return"";try{var t=function(){try{return new _.XMLHttpRequest}catch(e){return new _.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),g[e]=t?t.split("\n"):[]}return g[e]}function P(e,t){var i,r=/function ([^(]*)\(([^)]*)\)/,s=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",n=x(e);if(!n.length)return m;for(var o=0;o<10;++o)if(!h(a=n[t-o]+a)){if(i=s.exec(a))return i[1];if(i=r.exec(a))return i[1]}return m}function M(e,t){var i=x(e);if(!i.length)return null;var r=[],s=Math.floor(c.linesOfContext/2),e=s+c.linesOfContext%2,s=Math.max(0,t-s-1),a=Math.min(i.length,t+e-1);--t;for(var n=s;n<a;++n)h(i[n])||r.push(i[n]);return 0<r.length?r:null}function k(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function S(e){return k(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function I(e,t){for(var i,r,s=0,a=t.length;s<a;++s)if((i=x(t[s])).length&&(i=i.join("\n"),r=e.exec(i)))return{url:t[s],line:i.substring(0,r.index).split("\n").length,column:r.index-i.lastIndexOf("\n",r.index)-1};return null}function T(e,t,i){var r,t=x(t),e=new RegExp("\\b"+k(e)+"\\b");return--i,t&&t.length>i&&(r=e.exec(t[i]))?r.index:null}function j(e){if(!e.stack)return null;for(var t,i,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,o=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],l=/^(.*) is undefined$/.exec(e.message),c=0,u=d.length;c<u;++c){if(i=r.exec(d[c])){var g=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(t=o.exec(i[2]))&&(i[2]=t[1],i[3]=t[2],i[4]=t[3]),g={url:g?null:i[2],func:i[1]||m,args:g?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=a.exec(d[c]))g={url:i[2],func:i[1]||m,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=s.exec(d[c])))continue;i[3]&&-1<i[3].indexOf(" > eval")&&(t=n.exec(i[3]))?(i[3]=t[1],i[4]=t[2],i[5]=null):0!==c||i[5]||h(e.columnNumber)||(p[0].column=e.columnNumber+1),g={url:i[3],func:i[1]||m,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!g.func&&g.line&&(g.func=P(g.url,g.line)),g.context=g.line?M(g.url,g.line):null,p.push(g)}return p.length?(p[0]&&p[0].line&&!p[0].column&&l&&(p[0].column=T(l[1],p[0].url,p[0].line)),{mode:"stack",name:e.name,message:e.message,stack:p}):null}function A(e,t,i,r){i={url:t,line:i};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=P(i.url,i.line)),i.context||(i.context=M(i.url,i.line));r=/ '([^']+)' /.exec(r);if(r&&(i.column=T(r[1],i.url,i.line)),0<e.stack.length&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0}return!(e.incomplete=!0)}function E(e,t){for(var i,r,s,a,n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],d={},p=!1,l=E.caller;l&&!p;l=l.caller)if(l!==C&&l!==c.report){if(r={url:null,func:m,args:[],line:null,column:null},l.name?r.func=l.name:(i=n.exec(l.toString()))&&(r.func=i[1]),void 0===r.func)try{r.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}(s=function(e){if(!h(_&&_.document)){for(var t,i,r,s=[_.location.href],a=_.document.getElementsByTagName("script"),n=""+e,o=0;o<a.length;++o){var d=a[o];d.src&&s.push(d.src)}if(i=I((t=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(n))?(e=t[1]?"\\s+"+t[1]:"",i=t[2].split(",").join("\\s*,\\s*"),r=k(t[3]).replace(/;$/,";?"),new RegExp("function"+e+"\\s*\\(\\s*"+i+"\\s*\\)\\s*{\\s*"+r+"\\s*}")):new RegExp(k(n).replace(/\s+/g,"\\s+")),s))return i;if(t=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(n)){n=t[1];if(r=S(t[2]),i=I(new RegExp("on"+n+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i"),s[0]))return i;if(i=I(new RegExp(r),s))return i}return null}}(l))&&(r.url=s.url,r.line=s.line,r.func===m&&(r.func=P(r.url,r.line)),(a=/ '([^']+)' /.exec(e.message||e.description))&&(r.column=T(a[1],s.url,s.line))),d[""+l]?p=!0:d[""+l]=!0,o.push(r)}t&&o.splice(0,t);t={mode:"callers",name:e.name,message:e.message,stack:o};return A(t,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),t}function C(e,t){var i=null;t=null==t?0:+t;try{if(i=function(e){var t=e.stacktrace;if(t){for(var i,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=t.split("\n"),n=[],o=0;o<a.length;o+=2){var d=null;if((i=r.exec(a[o]))?d={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=s.exec(a[o]))&&(d={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),d){if(!d.func&&d.line&&(d.func=P(d.url,d.line)),d.line)try{d.context=M(d.url,d.line)}catch(e){}d.context||(d.context=[a[o+1]]),n.push(d)}}return n.length?{mode:"stacktrace",name:e.name,message:e.message,stack:n}:null}}(e))return f(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=j(e))return f(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=function(e){var t=e.message.split("\n");if(t.length<4)return null;var i,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of function script\s*$/i,n=[],o=_&&_.document&&_.document.getElementsByTagName("script"),d=[];for(i in o)f(o,i)&&!o[i].src&&d.push(o[i]);for(var p=2;p<t.length;p+=2){var l,c,u,g,m,h=null;(m=r.exec(t[p]))?h={url:m[2],func:m[3],args:[],line:+m[1],column:null}:(m=s.exec(t[p]))?(h={url:m[3],func:m[4],args:[],line:+m[1],column:null},l=+m[1],(u=d[m[2]-1])&&(!(c=x(h.url))||0<=(u=(c=c.join("\n")).indexOf(u.innerText))&&(h.line=l+c.substring(0,u).split("\n").length))):(m=a.exec(t[p]))&&(h={url:g=_.location.href.replace(/#.*$/,""),func:"",args:[],line:(g=I(new RegExp(S(t[p+1])),[g]))?g.line:m[1],column:null}),h&&(h.func||(h.func=P(h.url,h.line)),m=(g=M(h.url,h.line))?g[Math.floor(g.length/2)]:null,g&&m.replace(/^\s*/,"")===t[p+1].replace(/^\s*/,"")?h.context=g:h.context=[t[p+1]],n.push(h))}return n.length?{mode:"multiline",name:e.name,message:t[0],stack:n}:null}(e))return f(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=E(e,t+1))return f(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}return{name:e.name,message:e.message,mode:"failed"}}_&&(e=_.top.TraceKit,r=[].slice,m="?",p=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,(c={}).noConflict=function(){return _.top.TraceKit=e,c},c.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw c.report(e),e}}},c.report=(n=[],u=o=null,w.subscribe=function(e){!0!==i&&(l=_.onerror,_.onerror=t,i=!0),!0!==a&&(s=_.onunhandledrejection,_.onunhandledrejection=v,a=!0),n.push(e)},w.unsubscribe=function(e){for(var t=n.length-1;0<=t;--t)n[t]===e&&n.splice(t,1);0===n.length&&(i&&(_.onerror=l,i=!1),a&&(_.onerror=s,a=!1))},w),c.computeStackTrace=(d=!1,g={},C.augmentStackTraceWithInitialElement=A,C.computeStackTraceFromStackProp=j,C.guessFunctionName=P,C.gatherContext=M,C.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return C(e,t+1)}},C.getSource=x,C),c.extendToAsynchronousCallbacks=function(){function e(e){var i=_[e];_[e]=function(){var e=r.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=c.wrap(t)),i.apply?i.apply(this,e):i(e[0],e[1])}}e("setTimeout"),e("setInterval")},c.defaultSendError=function(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack,e.stack&&(e.stack=e.stack.toString())),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_id:"",page_id:"",session_id:"",bidder:"",user_id:"",publisher:"",rtp_file_version:"",ad_project_tag:"",page_url:_.top.location.href||_.location.href||"",in_iframe:!1,is_https:"https:"==document.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString(),error_name:e.name.toString()};if(t&&"object"==typeof t){var i,r="",s=encodeURIComponent;for(i in t)r+="&"+s(i)+"="+s(t[i]);t=r.slice(1)}var a=null;_.ActiveXObject?a=new ActiveXObject("Microsoft.XMLHTTP"):_.XMLHttpRequest&&(a=new XMLHttpRequest);a.open("POST","https://events.proper.io/api/event",1),a.withCredentials=!1,a.timeout=2e3,a.onload=function(){200==a.status||console.error("Error sending exception data. xhr.status: "+a.status)},a.send(t)}catch(e){console.error("Error sending exception data"),console.error(e)}},c.report.subscribe(c.defaultSendError),c.remoteFetching||(c.remoteFetching=!1),c.collectWindowErrors||(c.collectWindowErrors=!1),(!c.linesOfContext||c.linesOfContext<1)&&(c.linesOfContext=11),_.top.TraceKit=c)}("undefined"!=typeof window?window:global);var ProperMedia=ProperMedia||{};ProperMedia.utils=function(n){var s=window.top.TraceKit;function t(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function i(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var d={selfCheck:!0,setTimeout:function(e,t){var i=void 0!==this.selfCheck?window:this,r=Array.prototype.slice.call(arguments,2);return 0<t?window.setTimeout(function(){s.wrap(e).apply(i,r)},t):(s.wrap(e).apply(i,r),null)}},e={selfCheck:!0,setInterval:function(e,t){var i=void 0!==this.selfCheck?window:this,r=Array.prototype.slice.call(arguments,2);return 0<t?window.setInterval(function(){s.wrap(e).apply(i,r)},t):(s.wrap(e).apply(i,r),null)}};function p(e,t){if(e){t=String(t).split(".");for(var i=0;i<t.length;i++)if(void 0===(e=e[t[i]])||null==e)return;return e}}var r="Array",a=Object.prototype.toString;function o(e,t){return a.call(e)==="[object "+t+"]"}function l(e){return o(e,r)}function c(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function u(e,t){return-1!==e.indexOf(t,e.length-t.length)}function g(e,t,i,r,s){var a=s&&""!==s?" ;domain="+encodeURIComponent(s):"",s=i&&""!==i?" ;expires="+i:"",i=null!=r&&"none"==r.toLowerCase()?"; Secure":"";n.cookie=e+"="+encodeURIComponent(t)+s+";path=/"+a+(r?"; SameSite="+r:"")+i}function m(){try{return!!window.localStorage}catch(e){logError("Local storage api disabled")}}function h(){if(window.navigator.cookieEnabled||n.cookie.length)return!0}return Object.keys||(Object.keys=function(){"use strict";var s=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,r=[];for(t in e)s.call(e,t)&&r.push(t);if(a)for(i=0;i<o;i++)s.call(e,n[i])&&r.push(n[i]);return r}}()),p(window,"CSS.escape")||(window.CSS||(window.CSS={}),window.CSS.escape=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,i=String(e),r=i.length,s=-1,a="",n=i.charCodeAt(0);++s<r;)0!=(t=i.charCodeAt(s))?a+=1<=t&&t<=31||127==t||0==s&&48<=t&&t<=57||1==s&&48<=t&&t<=57&&45==n?"\\"+t.toString(16)+" ":(0!=s||1!=r||45!=t)&&(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?i.charAt(s):"\\"+i.charAt(s):a+="�";return a}),Object.filter=function(e,t){var i,r={};for(i in e)e.hasOwnProperty(i)&&t(i)&&(r[i]=e[i]);return r},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return!((t="number"!=typeof t?0:t)+e.length>this.length)&&-1!==this.indexOf(e,t)}),Date.now=Date.now||function(){return+new Date},"function"!==!window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=n.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}),{getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack},isBase64:function(e){try{return t(i(e))==e}catch(e){return!1}},b64EncodeUnicode:t,b64DecodeUnicode:i,properSetTimeout:d,properSetInterval:e,safeJsonParse:function(e){try{return JSON.parse(e)}catch(e){console.error(e)}return null},mergeObject:function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},deepCopy:function(e){try{return JSON.parse(JSON.stringify(e||{}))}catch(e){console.error(e)}return null},deepAccess:p,deepSetValue:function(e,t,i){var r;for(t=t.split("."),r=0;r<t.length-1;r++)r!==t.length-1&&void 0===e[t[r]]&&(e[t[r]]={}),e=e[t[r]];e[t[r]]=i},indexOfObjectInArray:function(e,t){if("object"==typeof t&&"object"==typeof e){t=JSON.stringify(t);for(var i=0;i<e.length;i++)if("object"==typeof e[i]&&JSON.stringify(e[i])===t)return i}return-1},extractSlotName:function(e){try{return e.replace(/^proper-ad-/,"").split("-")[0]}catch(e){return!1}},onElementHeightChange:function(t,i){var r=p(t,"contentWindow.document.body.scrollHeight")||0,s=p(t,"contentWindow.document.body.scrollHeight")||0,a=0,n=10,o=150;!function e(){if(s=p(t,"contentWindow.document.body.scrollHeight")||0,r!=s&&s!=o||n<=a)return t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),void i(s);r=s,a++,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=d.setTimeout(e,200)}()},formatSupplyChainString:function(e){var t=e.ver||"1.0",i=e.complete||0,r=e.nodes||[],s=[t.toString(),i].join(",");if(l(r))for(var a=0;a<r.length;a++){var n=[r[a].asi||"proper.io",r[a].sid||"",r[a].hp||1];s+="!"+n.join(",")}else s+="!"+(n=["proper.io","",1]).join(",");return s},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},getCanonicalUrl:function(){try{return n.querySelector("link[rel='canonical']").href}catch(e){return""}},getPageRefreshed:c,getPageUrl:function(){try{return window.top.location.href}catch(e){return window.location.href}},getPagePath:function(){try{return window.top.location.pathname}catch(e){return window.location.pathname}},getPageDomain:function(){try{return window.location.hostname.replace(/^www\./,"")}catch(e){return""}},getPageReferrer:function(){try{return n.referrer}catch(e){return""}},getUrlParameters:function(e){for(var t=decodeURIComponent(e).split("&"),i={},r=0;r<t.length;r++){var s=t[r].split("=");i[s[0]]=s[1]}return i},getTimestampMs:function(){return(new Date).getTime()},getTimePassed:function(e,t){return(t=t||(new Date).getTime())-e},objectValues:function(t){try{return Object.keys(t).map(function(e){return t[e]})}catch(e){return[]}},sortProperties:function(e,i,t,r){i=i||1,t=t||!1;var s=(r=r||!1)?-1:1,a=[];for(d in e)e.hasOwnProperty(d)&&a.push([d,e[d]]);t?a.sort(function(e,t){return s*(e[1][i]-t[1][i])}):a.sort(function(e,t){e=e[1][i].toLowerCase(),t=t[1][i].toLowerCase();return e<t?-1*s:t<e?s:0});for(var n={},o=0;o<a.length;o++){var d=a[o][0],p=a[o][1];n[d]=p}return n},generateUUID:function(){var i=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},validateValue:function(e,t){var i,r,s;return"string"===t.type?(s="string"==typeof t.default_val?t.default_val:"",r="number"==typeof t.max_len?t.max_len:256,"number"==typeof t.min_len&&t.min_len,(e="string"!=typeof(e="number"==typeof e?e.toString():e)?s:e).length>r&&(e=e.substring(0,r))):"number"===t.type?(s="number"==typeof t.default_val?t.default_val:0,i="number"==typeof t.max?t.max:99999,r="number"==typeof t.min?t.min:0,(e=i<(e="number"!=typeof(e="string"==typeof e&&/^(\d+)?(\.\d+)$/.test(e)?(-1<e.indexOf(".")?parseFloat:parseInt)(e):e)?s:e)?i:e)<r&&(e=r)):"boolean"===t.type&&(s="boolean"==typeof t.default_val&&t.default_val,"number"==typeof e?0===e?e=!1:1===e&&(e=!0):"string"==typeof e&&("false"===e||"0"===e?e=!1:"true"!==e&&"1"!==e||(e=!0)),"boolean"!=typeof e&&(e=s)),e},formatQueryString:function(e,t){if(e&&"object"==typeof e){var i="",r=encodeURIComponent;for(x in e)e.hasOwnProperty(x)&&e[x]&&(i+="&"+r(x)+"="+r(e[x]));e=i.slice(1)+(t?"":"&_t="+new Date)}return e},calcResponseMs:function(e,t){return 0<e&&0<t&&e<t?t-e:-1},setCookie:g,deleteCookie:function(e,t,i){var r=new Date;r.setTime(r.getTime()-6e4),g(e,"",r.toGMTString(),t,i)},getCookieValue:function(e){return(e=n.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))?e.pop():void 0},localStorageIsEnabled:function(){try{return localStorage.setItem("proper.localStorageTest","1"),"1"===localStorage.getItem("proper.localStorageTest")}catch(e){}return!1},checkCookieSupport:h,cookiesAreEnabled:function(){return!!h()||(window.document.cookie="prebid.cookieTest",-1!==window.document.cookie.indexOf("prebid.cookieTest"))},checkOutOfPage:function(e){return-1!==e.toLowerCase().indexOf("_oop",e.length-"_oop".length)},matchDomain:function(e,t){var i;return-1===t.indexOf("/")||void 0!==(i=t.split("/"))[2]&&(t=i[2]),-1===t.indexOf("?")||void 0!==(i=t.split("?"))[0]&&(t=i[0]),e==t||(1==u(e,"."+t)||1==u(t,"."+e))},checkData:function(e){return e=void 0===e||!(e instanceof Array||e instanceof Object)?[]:e},makeid:function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length,s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*r));return t},round:function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},isFn:function(e){return o(e,"Function")},isStr:function(e){return o(e,"String")},isArray:l,isNumber:function(e){return o(e,"Number")},isPlainObject:function(e){return o(e,"Object")},isBoolean:function(e){return o(e,"Boolean")},setDataInLocalStorage:function(e,t){m()&&window.localStorage.setItem(e,t)},getDataFromLocalStorage:function(e){if(m())return window.localStorage.getItem(e)},removeDataFromLocalStorage:function(e){m()&&window.localStorage.removeItem(e)},hasLocalStorage:m}}((window,document));var ProperMedia=ProperMedia||{};ProperMedia.jquery=function(i,u){var g=window.top.TraceKit,r=[],s=!1,a=!1;function n(){if(!s){s=!0;for(var e=0;e<r.length;e++)r[e].fn.call(i,r[e].ctx);r=[]}}function o(){"complete"===u.readyState&&n()}function t(e,t){s?ProperMedia.utils.properSetTimeout.setTimeout(function(){e(t)},1):(r.push({fn:e,ctx:t}),"complete"===u.readyState?ProperMedia.utils.properSetTimeout.setTimeout(n,1):a||(u.addEventListener?(u.addEventListener("DOMContentLoaded",g.wrap(n),!1),i.addEventListener("load",g.wrap(n),!1)):(u.attachEvent("onreadystatechange",g.wrap(o)),i.attachEvent("onload",g.wrap(n))),a=!0))}function e(e){return d.sel(e)}var d={obj:{},sel:function(e){return"function"==typeof e?t(e):this.obj="object"==typeof e?e:u.querySelectorAll(e)[0],this},ready:function(e){return t(e),this},remove:function(){return void 0!==this.obj&&(this.obj.parentNode.removeChild(this.obj),this)},hide:function(){return void 0!==this.obj&&(this.obj.style.display="none",this)},show:function(){return void 0!==this.obj&&(this.obj.style.display="",this)},addClass:function(e){if(void 0===this.obj)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)this.obj.classList?this.obj.classList.add(t[i]):this.obj.className+=" "+t[i];return this},removeClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)this.obj.classList.remove(e);else{for(var t="",i=this.className.split(" "),r=0;r<i.length;r++)i[r]!==remove&&(t+=i[r]+" ");this.obj.className=t}return this},hasClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)return this.obj.classList.contains(e);e=new RegExp("(?:^|\\s)"+e+"(?!\\S)");return null!==this.obj.className.match(e)},removeStyle:function(){return void 0!==this.obj&&(this.obj.style="",this)},attr:function(e,t){return void 0!==this.obj&&(void 0===t?void 0===this.obj.getAttribute?null:this.obj.getAttribute(e):void 0!==this.obj.setAttribute&&(this.obj.setAttribute(e,t),this))},after:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterend",e),this)},before:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("beforebegin",e),this)},insideBefore:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterbegin",e),this)},append:function(e){return void 0!==this.obj&&("string"==typeof e?this.obj.innerHTML=this.obj.innerHTML+e:this.obj.appendChild(e),this)},html:function(e){return void 0!==this.obj&&(void 0!==e?(this.obj.innerHTML=e,this):this.obj.innerHTML)},parent:function(){return void 0!==this.obj&&(this.obj=this.obj.parentNode,this)},closest:function(e){if(void 0===this.obj||!e)return!1;for(;this.obj=this.obj.parentNode;)if(void 0!==this.obj.classList&&this.obj.classList.contains(e))return this;return!1},getChildNodes:function(){return void 0!==this.obj&&this.obj.children},val:function(e){return void 0!==this.obj&&(void 0===e?this.obj.value:(this.obj.value=e,this))},on:function(e,t){return void 0!==this.obj&&(t=g.wrap(t),"click"==e?this.obj.onclick=t:"mouseover"==e||"mouseenter"==e?this.obj.addEventListener("mouseover",t,!1):"mouseout"==e||"mouseleave"==e?this.obj.addEventListener("mouseout",t,!1):this.obj.addEventListener(e,t),this)},contents:function(){return void 0!==this.obj&&(this.obj=this.obj.contentDocument||this.obj.contentWindow.document,this)},contentWin:function(){return void 0!==this.obj&&(this.obj.contentWindow?this.obj=this.obj.contentWindow:this.obj.contentDocument&&(this.obj=this.obj.contentDocument.defaultView),this)},find:function(e){return void 0!==this.obj&&(this.obj=this.obj.querySelectorAll(e)[0],this)},width:function(){return u.documentElement.clientWidth},height:function(){return u.documentElement.clientHeight},prev:function(){return void 0!==this.obj&&(this.obj=this.obj.previousElementSibling,this)},prop:function(e,t){return void 0!==this.obj&&(this.obj.checked=t,this)}},m=0,h=0,p=0;e.ajax=function(e){var t=e.url||"",i=e.success||function(){},r=e.error||function(){},s=e.onload||!1,a=(e.cache,e.data||{}),n=e.headers||{},o=e.method||"GET",d=e.special||"";e.contentType;if(requestType=e.requestType||"cors",timeout=e.timeout||3e3,edge=e.edge||!1,bidder=e.bidder||"",withCredentials="boolean"!=typeof e.withCredentials||e.withCredentials,void 0!==g&&(i=g.wrap(i),r=g.wrap(r)),"jsonp"==requestType){m++,h++,i&&(p="proper_"+w()+"_"+m,window[p]=function(e){i(e)},e="callback",t+="&"+(e=d&&"index"==d?"fn":e)+"=window."+p);var p=u.createElement("script");return p.async=!0,p.src=t,s&&ProperMedia.utils.isFn(s)&&(p.onload=s()),u.getElementsByTagName("head")[0].appendChild(p),!0}if(1==edge){p={url:t,name:bidder,method:o,payload:a};v.addRequest(p,i,r)}else{a=ProperMedia.utils.formatQueryString(a);try{var l,c=null;for(l in window.ActiveXObject?c=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(c=new XMLHttpRequest),c.open(o,t,1),"cors"==requestType?c.withCredentials=withCredentials:"fetch"==requestType&&(c.withCredentials=!1),c.timeout=timeout,c.onload=function(){200==c.status?i(c.responseText,c):(r(c),b(c))},c.onerror=function(){r(c),b(c)},c.ontimeout=function(){r(c)},n)c.setRequestHeader(l,n[l]);h++,c.send(a)}catch(e){throw r(),e}}};var l,c,_,f,b=function(e){0==e.status&&25<=++p&&.8<=p/h&&(e=new CustomEvent("proper-ad-bidders-blocked",{}),window.dispatchEvent(e))},v=(l="https://eb-staging.proper.io/v1/endpoint",c=null,_={},f=[],{addRequest:function(e,t,i){var r=w();_[r]={success:t,error:i},new_request=mergeObject({url:"",name:"",method:"",payload:{},callback_id:r},e),f.push(new_request),15<=f.length?y():(clearTimeout(c),c=null,c=ProperMedia.utils.properSetTimeout.setTimeout(y,250))},sendEdgeRequest:y});function y(){clearTimeout(c),c=null,0<f.length&&(e.ajax({url:l,method:"POST",requestType:"cors",data:JSON.stringify({bidders:f}),success:function(e){if(responses=safeJsonParse(e),responses&&responses.bids&&0<responses.bids.length)for(var t=0;t<responses.bids.length;t++){var i=mergeObject({bidder:"",payload:{},callback_id:""},responses.bids[t]);void 0!==i.callback_id&&void 0!==_[i.callback_id]&&"function"==typeof _[i.callback_id].success&&(_[i.callback_id].success(JSON.stringify(i.payload)),delete _[i.callback_id])}},error:function(e){console.error("HOLY SMOKES")}}),f=[])}function w(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)}return e()+e()+"_"+e()+e()}return{$:e}}(window,document),function(s,c){"use strict";var u="function",e="undefined",t="model",i="name",r="type",a="vendor",n="version",o="architecture",d="console",p="mobile",l="tablet",g="smarttv",m="wearable",h={extend:function(e,t){var i,r={};for(i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:c},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_={rgx:function(e,t){for(var i,r,s,a,n,o=0;o<t.length&&!a;){for(var d=t[o],p=t[o+1],l=i=0;l<d.length&&!a;)if(a=d[l++].exec(e))for(r=0;r<p.length;r++)n=a[++i],"object"==typeof(s=p[r])&&0<s.length?2==s.length?typeof s[1]==u?this[s[0]]=s[1].call(this,n):this[s[0]]=s[1]:3==s.length?typeof s[1]!=u||s[1].exec&&s[1].test?this[s[0]]=n?n.replace(s[1],s[2]):c:this[s[0]]=n?s[1].call(this,n,s[2]):c:4==s.length&&(this[s[0]]=n?s[3].call(this,n.replace(s[1],s[2])):c):this[s]=n||c;o+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&0<t[i].length){for(var r=0;r<t[i].length;r++)if(h.has(t[i][r],e))return"?"===i?c:i}else if(h.has(t[i],e))return"?"===i?c:i;return e}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,n],[/(opios)[\/\s]+([\w\.]+)/i],[[i,"Opera Mini"],n],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],n],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[i,n],[/(konqueror)\/([\w\.]+)/i],[[i,"Konqueror"],n],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],n],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[i,"Edge"],n],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],n],[/(puffin)\/([\w\.]+)/i],[[i,"Puffin"],n],[/(focus)\/([\w\.]+)/i],[[i,"Firefox Focus"],n],[/(opt)\/([\w\.]+)/i],[[i,"Opera Touch"],n],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],n],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],n],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],n],[/(brave)\/([\w\.]+)/i],[[i,"Brave"],n],[/(qqbrowserlite)\/([\w\.]+)/i],[i,n],[/(QQ)\/([\d\.]+)/i],[i,n],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[i,n],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[i,n],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[i,n],[/(MetaSr)[\/\s]?([\w\.]+)/i],[i],[/(LBBROWSER)/i],[i],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[n,[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[n,[i,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[i,n],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[n,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],n],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],n],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[n,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,n],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],n],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],n],[/(coast)\/([\w\.]+)/i],[[i,"Opera Coast"],n],[/fxios\/([\w\.-]+)/i],[n,[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[n,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[n,i],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[i,"GSA"],n],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[n,_.str,f.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[i,n],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],n],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,n]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[o,"amd64"]],[/(ia32(?=;))/i],[[o,h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[o,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[o,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[o,/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[[o,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[o,h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[t,a,[r,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[a,"Apple"],[r,l]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,t,[r,l]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[t,[a,"Amazon"],[r,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[t,_.str,f.device.amazon.model],[a,"Amazon"],[r,p]],[/android.+aft([bms])\sbuild/i],[t,[a,"Amazon"],[r,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,a,[r,p]],[/\((ip[honed|\s\w*]+);/i],[t,[a,"Apple"],[r,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,t,[r,p]],[/\(bb10;\s(\w+)/i],[t,[a,"BlackBerry"],[r,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[t,[a,"Asus"],[r,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[t,"Xperia Tablet"],[r,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[a,"Sony"],[r,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,t,[r,d]],[/android.+;\s(shield)\sbuild/i],[t,[a,"Nvidia"],[r,d]],[/(playstation\s[34portablevi]+)/i],[t,[a,"Sony"],[r,d]],[/(sprint\s(\w+))/i],[[a,_.str,f.device.sprint.vendor],[t,_.str,f.device.sprint.model],[r,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,t,[r,l]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[t,/_/g," "],[r,p]],[/(nexus\s9)/i],[t,[a,"HTC"],[r,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[a,"Huawei"],[r,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,t,[r,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[a,"Microsoft"],[r,d]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[a,"Microsoft"],[r,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[a,"Motorola"],[r,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[a,"Motorola"],[r,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,h.trim],[t,h.trim],[r,g]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[a,"Samsung"],[r,g]],[/\(dtv[\);].+(aquos)/i],[t,[a,"Sharp"],[r,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],t,[r,l]],[/smart-tv.+(samsung)/i],[a,[r,g],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[a,"Samsung"],t,[r,p]],[/sie-(\w*)/i],[t,[a,"Siemens"],[r,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[a,"Nokia"],t,[r,p]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[t,[a,"Acer"],[r,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[a,"LG"],[r,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],t,[r,l]],[/(lg) netcast\.tv/i],[a,t,[r,g]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[a,"LG"],[r,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[a,"Lenovo"],[r,l]],[/linux;.+((jolla));/i],[a,t,[r,p]],[/((pebble))app\/[\d\.]+\s/i],[a,t,[r,m]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,t,[r,p]],[/crkey/i],[[t,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[a,"Google"],[r,m]],[/android.+;\s(pixel c)[\s)]/i],[t,[a,"Google"],[r,l]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[t,[a,"Google"],[r,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[a,"Xiaomi"],[r,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[a,"Xiaomi"],[r,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[a,"Meizu"],[r,l]],[/(mz)-([\w-]{2,})/i],[[a,"Meizu"],t,[r,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[t,[a,"OnePlus"],[r,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[a,"RCA"],[r,l]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[t,[a,"Dell"],[r,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[a,"Verizon"],[r,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],t,[r,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[a,"NuVision"],[r,l]],[/android.+;\s(k88)\sbuild/i],[t,[a,"ZTE"],[r,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[a,"Swiss"],[r,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[a,"Swiss"],[r,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[a,"Zeki"],[r,l]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[a,"Dragon Touch"],t,[r,l]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[t,[a,"Insignia"],[r,l]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[t,[a,"NextBook"],[r,l]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],t,[r,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[a,"LvTel"],t,[r,p]],[/android.+;\s(PH-1)\s/i],[t,[a,"Essential"],[r,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[a,"Envizen"],[r,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[a,t,[r,l]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[a,"MachSpeed"],[r,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,t,[r,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[a,"Rotor"],[r,l]],[/android.+(KS(.+))\s+build/i],[t,[a,"Amazon"],[r,l]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[a,t,[r,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,h.lowerize],a,t],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,g]],[/(android[\w\.\s\-]{0,9});.+build/i],[t,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[n,[i,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[i,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,n],[/rv\:([\w\.]{1,9}).+(gecko)/i],[n,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,n],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[n,_.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[n,_.str,f.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],n],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[i,n],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[i,"Symbian"],n],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],n],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[i,n],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],n],[/(sunos)\s?([\w\.\d]*)/i],[[i,"Solaris"],n],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[i,n],[/(haiku)\s(\w+)/i],[i,n],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[n,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[n,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[i,n]]},v=function(e,t){if("object"==typeof e&&(t=e,e=c),!(this instanceof v))return new v(e,t).getResult();var i=e||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),r=t?h.extend(b,t):b;return this.getBrowser=function(){var e={name:c,version:c};return _.rgx.call(e,i,r.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:c};return _.rgx.call(e,i,r.cpu),e},this.getDevice=function(){var e={vendor:c,model:c,type:c};return _.rgx.call(e,i,r.device),e},this.getEngine=function(){var e={name:c,version:c};return _.rgx.call(e,i,r.engine),e},this.getOS=function(){var e={name:c,version:c};return _.rgx.call(e,i,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};v.VERSION="0.7.19",v.BROWSER={NAME:i,MAJOR:"major",VERSION:n},v.CPU={ARCHITECTURE:o},v.DEVICE={MODEL:t,VENDOR:a,TYPE:r,CONSOLE:d,MOBILE:p,SMARTTV:g,TABLET:l,WEARABLE:m,EMBEDDED:"embedded"},v.ENGINE={NAME:i,VERSION:n},v.OS={NAME:i,VERSION:n},typeof exports!=e?(typeof module!=e&&module.exports&&(exports=module.exports=v),exports.UAParser=v):s&&(s.UAParser=v)}("object"==typeof window?window:this),ProperMedia.report_ad=function(h,e){var t,i,r,_="";function s(e){if(void 0===e||void 0===e.data)return!1;var t=e.data.toString(),e=[];"SubmitAdReport"==(t=""!=t&&0<=t.indexOf("|")?(e=t.split("|"))[0]:t)?p(e[1],e[2]):"CloseAdReport"==t&&o()}function a(e){var t=(void 0!==e?e:event).target,i=0;void 0!==t&&(document.documentElement.classList?t.classList.contains("report-ad")&&(i=1):void 0!==t.className&&-1<t.className.indexOf("report-ad")&&(i=1)),1==i&&(e.preventDefault(),_=t.getAttribute("data-aid"),h("#"+_).addClass("active-highlight"),void 0===h("#ProperMediaAdModal").obj?(e=void 0!==(i=ProperMedia.ad_project.getReportAdInfo({site_name:1,split_version:1})).site_name?i.site_name:"",t=void 0!==i.split_version?i.split_version:"",(i=document.createElement("iframe")).src="https://proper.io/adproject/report.php?pub="+e+"&split_version="+t,i.id="ProperMediaAdModal",i.style.width="100%",i.style.height="100%",i.style.position="fixed",i.style.display="block",i.style.zIndex=2147483647,i.style.top=0,i.style.left=0,i.style.right=0,i.style.bottom=0,i.frameBorder=0,i.attachEvent?i.attachEvent("onload",n):i.onload=n,window.onresize=n,document.body.appendChild(i)):(document.getElementById("ProperMediaAdModal").contentWindow.postMessage("showForm","*"),h("#ProperMediaAdModal").show()))}function n(){var e=(e=window.innerHeight)<0?0:e;document.getElementById("ProperMediaAdModal").style.height=e+"px"}function o(){h("#ProperMediaAdModal").hide(),h("#"+_).removeClass("active-highlight")}function d(e,t){t=t.replace("[proper-separator]","|");var i=h(window).width()+"x"+h(window).height(),r="";try{r=h("#"+_+" div iframe").contents().find("html").html()}catch(e){r=h("#"+_).html()}var s=ProperMedia.ad_project.getReportAdInfo({slot_id:_,site_name:1}),a=void 0!==s.site_name?s.site_name:"";void 0!==s.autoplay_html&&""!=s.autoplay_html&&(r+=s.autoplay_html),unit_name=_.replace("proper-ad-","");var n=void 0!==s.log_lines?s.log_lines:{proper:""},o={},d="dfp";void 0!==s.saved_data&&(o=s.saved_data,d="bidder");var p=void 0!==o.bidder?o.bidder:"",l=void 0!==o.size?o.size:"",c=void 0!==o.request_url?o.request_url:"",u=void 0!==o.request_response?o.request_response:"",g=void 0!==o.adcode?o.adcode:"",m=void 0!==s.ad_info?s.ad_info:{},o=void 0!==m.line_item_id?m.line_item_id:"",s=void 0!==m.creative_id?m.creative_id:"";return"dfp"==d&&void 0!==m.size&&(l=m.size),{ajax:1,website:a,ad_id:unit_name,source:d,bidder:p,request_url:c,request_response:u,adcode:g,size:l,line_item_id:o,creative_id:s,comment:t,issue:e,resolution:i,os:window.device.os,os_group:window.device.os_group,browser:window.device.browser,browser_group:window.device.browser_group,log:n.proper,div_html:r}}function p(e,t){t=d(e,t);h.ajax({url:"https://proper.io/ajax/adreport.php",method:"POST",data:JSON.stringify(t),success:function(e){console.log("ad report sent!"),document.getElementById("ProperMediaAdModal").contentWindow.postMessage("success","*")},error:function(e){console.log("ajax error")}})}function l(){var e;t||document.activeElement.href||"IFRAME"==document.activeElement.nodeName||"BUTTON"==document.activeElement.nodeName||(t=!0,e=_,ProperMedia.ad_project.getAdSlots().forEach(function(e){_=e;var t=d("redirect","Automatically generated");"function"==typeof navigator.sendBeacon?(console.log("Proper Redirect Sent (beacon)"),navigator.sendBeacon("https://proper.io/ajax/adreport.php",JSON.stringify(t))):(console.log("Proper Redirect Sent (xhr)"),(e=new XMLHttpRequest).open("POST","https://proper.io/ajax/adreport.php",!1),e.send(JSON.stringify(t)))}),_=e)}return window.addEventListener?addEventListener("message",TraceKit.wrap(s),!1):attachEvent("onmessage",TraceKit.wrap(s)),document.addEventListener?document.addEventListener("click",TraceKit.wrap(a)):document.attachEvent("onclick",TraceKit.wrap(a)),window.location.search.includes("proper_log_redirects=1")&&(t=!1,window.onbeforeunload=function(e){l()},window.onunload=function(e){l()},window.addEventListener("pagebeforehide",i=TraceKit.wrap(function(e){l()}),!1),window.addEventListener("pagehide",r=TraceKit.wrap(function(e){l()}),!1),e.setTimeout(function(){window.onbeforeunload=null,window.onunload=null,window.removeEventListener("pagebeforehide",i,!1),window.removeEventListener("pagehide",r,!1)},8e3)),{submit:p,close:o}}(ProperMedia.jquery.$,ProperMedia.utils.properSetTimeout);var properSpecialOps=properSpecialOps||{},googletag=googletag||{};googletag.cmd=googletag.cmd||[];var propertag=propertag||{};propertag.cmd=propertag.cmd||[];var _qevents=_qevents||[];!function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",e.async=!0,e.type="text/javascript";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();try{_qevents.push({qacct:"p-mEzuYq24VEJ-3"})}catch(e){console.error("Error pushing Quantcast event"),console.error(e)}"undefined"==typeof console&&(console={log:function(e){},error:function(e){},info:function(e){},table:function(e){}}),ProperMedia.ad_project=function(S){var I=ProperMedia.jquery.$,_=ProperMedia.utils.properSetTimeout,r=ProperMedia.utils.properSetInterval,v=window.top.TraceKit;function g(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_type:e.event_type||"exception",event_id:ProperMedia.utils.generateUUID(),page_id:ProperMedia.utils.generateUUID(),session_id:ProperMedia.utils.generateUUID(),bidder:e.bidder||"",user_id:ProperMedia.utils.validateValue(me.pubcid,{type:"string"}),publisher:ProperMedia.utils.validateValue(ce.site_name,{type:"string"}),rtp_file_version:ProperMedia.utils.validateValue(ce.rtp_file_version,{type:"string"}),ad_project_tag:ProperMedia.utils.validateValue(ce.rtp_file_revision,{type:"string"}),page_url:ProperMedia.utils.getPageUrl()||"",in_iframe:!1,is_https:"https:"==S.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString()||"",error_name:e.name.toString()||""};_e.uuid&&""!==_e.uuid&&(t.page_id=_e.uuid),ue&&ue.sessionData&&ue.sessionData.uuid&&""!==ue.sessionData.uuid&&(t.session_id=ue.sessionData.uuid),I.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(t),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}v.report.subscribe(g),v.report.unsubscribe(v.defaultSendError);var t=(s.prototype.addElement=function(e,t){e.lazyload&&e.fetchMarginPercent<e.renderMarginPercent&&(g(new Error("Lazyload Fetch Margin has to be greater than or equal to Render Margin")),e.fetchMarginPercent=e.renderMarginPercent);t={id:e.id,callback:t,lazyload:e.lazyload||!1,viewability:e.viewability||!0,fetchMarginPercent:e.fetchMarginPercent||0,renderMarginPercent:e.renderMarginPercent||0,minHeight:e.minHeight||0,activeTab:!0,viewable:!1,inFetchZone:!1,inRenderZone:!1};t.lazyload||this.incrementSlotsInFetchZone(),this.elements[e.id]=t,this.started&&this.runViewabilityCheck(t.id)},s.prototype.removeElement=function(e){this.elements[e]&&(this.killEntry(this.elements[e]),delete this.elements[e])},s.prototype.start=function(){this.activeTab=!0,this.updateElelemtsActiveTab();var e=new CustomEvent("properActiveTab");if(window.dispatchEvent(e),this.started)return!0;var t=this;this.timer=r.setInterval.call(t,function(){Object.keys(t.elements).forEach(function(e){t.runViewabilityCheck(e)},t)},200),this.started=!0},s.prototype.stop=function(){clearInterval(this.timer),this.activeTab=!1,this.updateElelemtsActiveTab();var e=new CustomEvent("properInactiveTab");window.dispatchEvent(e),Object.keys(this.elements).forEach(function(e){this.killEntry(this.elements[e])},this),this.started=!1},s.prototype.updateElelemtsActiveTab=function(){Object.keys(this.elements).forEach(function(e){this.elements[e].activeTab=this.activeTab},this)},s.prototype.runViewabilityCheck=function(e,t){var i=this.elements[e]||!1;i&&(e=!1,i.viewability&&(e=function(e){var t=!1,i=e.viewable;if(e.element=e.element||S.getElementById(e.id),!e.element)return!1;var r=e.element.getBoundingClientRect();if(0==r.height&&0<r.top&&r.top<window.innerHeight&&0<r.left&&r.right<window.innerWidth)return!0;var s=r.width*r.height,a=Math.max(r.top,0),n=Math.min(r.bottom,window.innerHeight),o=Math.min(r.right,window.innerWidth),r=Math.max(r.left,0);i=a<n&&r<o&&(r=Math.abs(n-a)*Math.abs(o-r),.5<r/s);return t=i!=e.viewable,e.viewable=i,t}(i)),((e=i.lazyload?this.checkLazyLoadMargin(i)||e:e)||t)&&i.callback(i))},s.prototype.calculateViewablePercentage=function(e){var t=e.getElement();if(null!==t){if("visible"!==window.top.document.visibilityState)return 0;e=t.getBoundingClientRect(),t={};if(void 0!==e)return t.left=Math.max(e.left,0),t.right=Math.min(e.right,window.top.innerWidth),t.left>=t.right?0:(t.top=Math.max(e.top,0),t.bottom=Math.min(e.bottom,window.top.innerHeight),t.top>=t.bottom?0:(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width*t.height/(e.width*e.height)*100))}return 0},s.prototype.checkLazyLoadMargin=function(e){if(e.element=e.element||S.getElementById(e.id),!e.element)return!1;var t=e.element.getBoundingClientRect(),i=e.inFetchZone,r=e.inRenderZone,s=t.height||e.minHeight,s=t.top+s/2;s>window.innerHeight?s-=window.innerHeight:s=s<0?Math.abs(s):0;s=s/window.innerHeight*100,i=s<=e.fetchMarginPercent||-1==e.fetchMarginPercent,r=s<=e.renderMarginPercent||-1==e.fetchMarginPercent,s=i!=e.inFetchZone||r!=e.inRenderZone;return i&&!e.inFetchZone?this.incrementSlotsInFetchZone():!i&&e.inFetchZone&&(this.slotsInFetchZone=Math.max(0,--this.slotsInFetchZone)),e.inFetchZone=i,e.inRenderZone=r,s},s.prototype.killEntry=function(e){e.inFetchZone&&(this.slotsInFetchZone=Math.max(0,--this.slotsInFetchZone)),e.activeTab=!1,e.viewable=!1,e.inFetchZone=!1,e.inRenderZone=!1,e.callback(e)},s.prototype.setCallback=function(e){this.auctionCallback=e},s.prototype.incrementSlotsInFetchZone=function(){this.slotsInFetchZone++,ProperMedia.utils.isFn(this.auctionCallback)&&(this.auctionCallback(),this.auctionCallback.auctionCallback=null)},s);function s(){this.timer=null,this.elements={},this.supportsPassive=function(){try{var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t),e}catch(e){return g(v.computeStackTrace(e)),!1}}(),this.activeTab=!0,this.slotsInFetchZone=0,this.auctionCallback=null,L.ready(function(){var t,i,e,r,s;this.start(),t=this,i="hidden",e=function(e){S[i]?t.stop():t.start()},r=function(){t.stop()},s=function(){t.start()},e=v.wrap(e),r=v.wrap(r),s=v.wrap(s),i in S?S.addEventListener("visibilitychange",e):(i="mozHidden")in S?S.addEventListener("mozvisibilitychange",e):(i="webkitHidden")in S?S.addEventListener("webkitvisibilitychange",e):(i="msHidden")in S?S.addEventListener("msvisibilitychange",e):"onfocusin"in S?(S.onfocusin=s,S.onfocusout=r):"onpagehide"in window?(window.addEventListener("pagehide",r,!1),window.addEventListener("pageshow",s,!1)):"onblur"in window&&(window.onfocus=s,window.onblur=r)}.bind(this))}var n=(o.prototype.init=function(){this.start_ts=ProperMedia.utils.getTimestampMs(),this.setBidPageUrl(),this.viewability_tracker=new t,le.mylog("width: "+this.width),ue.init(),le.init_bid_data(),this.buildSlots(),fe.startNewAuction(),Tr()},o.prototype.setBidPageUrl=function(){this.spa_settings.enabled&&this.spa_settings.gallery_id&&this.spa_settings.gallery_base_url?this.bidder_page_url=this.spa_settings.gallery_base_url:this.bidder_page_url=this.url},o.prototype.setPageVariables=function(){this.uuid=ProperMedia.utils.generateUUID(),window.proper_ad_page_uuid=this.uuid,"https:"==S.location.protocol?(this.protocol="https:",this.use_ssl=!0):this.protocol="http:",this.url=ProperMedia.utils.getPageUrl(),this.path=ProperMedia.utils.getPagePath(),this.domain=ProperMedia.utils.getPageDomain(),this.get_vars=ProperMedia.utils.getUrlParameters(window.location.search.substring(1)),this.referrer=ProperMedia.utils.getPageReferrer(),this.canonical_url=ProperMedia.utils.getCanonicalUrl(),this.width=I(window).width(),this.height=I(window).height(),this.checkDomainProtection(),this.checkProperTestMode(),this.checkPageIsolation(),this.setPageMeta(),this.setPostId(),this.setSPASettings(),this.setVideoEnabled(),this.setDynamicAdMatches()},o.prototype.getTimeOnPage=function(){return 0==this.start_ts?0:Date.now()-this.start_ts},o.prototype.checkDomainProtection=function(){return ce.domain_protection&&0==[ce.domain].concat(ce.additional_domains).filter(function(e){e=new RegExp("(^|\\.)"+e.replace(/(http(s)?:\/\/)?(www\.)?/,"")+"$");return this.domain.match(e)},this).length&&(le.mylog("WARNING: Domains don't match. Bids wont be sent out for this page"),this.dont_send_bids=!0),this.dont_send_bids},o.prototype.checkProperTestMode=function(){void 0!==this.get_vars.proper_test&&""!==this.get_vars.proper_test?(ce.testing_mode.bidder=this.get_vars.proper_test,ce.testing_mode.ids=!0):(void 0!==this.get_vars.proper_bidder&&""!==this.get_vars.proper_bidder&&(ce.testing_mode.bidder=this.get_vars.proper_bidder),void 0!==this.get_vars.proper_test_ids&&""!==this.get_vars.proper_test_ids&&(ce.testing_mode.ids=!0)),(ce.testing_mode.bidder||ce.testing_mode.ids)&&(le.mylog("TESTING MODE"),ce.testing_mode.enabled=!0,ce.isolated=void 0!==this.get_vars.proper_dfp&&1==this.get_vars.proper_dfp?0:1,this.isolated=ce.isolated)},o.prototype.checkPageIsolation=function(){if(0<ce.isolated_urls.length)for(var e=0;e<ce.isolated_urls.length;e++){var t=ce.isolated_urls[e];if(t&&this.path==t){this.isolated=1;break}}void 0!==properSpecialOps.isolated&&0==this.isolated&&(this.isolated=properSpecialOps.isolated),L.ready(function(){le.mylog("CMP resolved: Present: "+te.cmpPresent+", Applies: "+te.gdprApplies+", Consent String: "+te.consentString),te.isolated?(ce.isolated=1,this.isolated=1,le.mylog("Isolated mode due to consent")):1!=ce.dfp_per_slot&&this.initDfp()}.bind(this))},o.prototype.setPageMeta=function(){this.page_meta=ProperMedia.utils.mergeObject(this.page_meta,properSpecialOps.page_meta||{}),properSpecialOps.tags&&properSpecialOps.tags.length&&this.page_meta.tags.unshift(properSpecialOps.tags),0<this.page_meta.tags.length?this.page_meta.tags.slice(0,9):this.page_meta.tags=[["unknown"]]},o.prototype.setPostId=function(){ce.post_id=(void 0!==properSpecialOps.post_id&&null!=properSpecialOps.post_id?properSpecialOps:ce).post_id,this.post_id=ce.post_id},o.prototype.setSPASettings=function(){ProperMedia.utils.mergeObject(this.spa_settings,ProperMedia.utils.deepCopy(properSpecialOps.spa_settings))},o.prototype.setVideoEnabled=function(){this.video_enabled=void 0!==properSpecialOps.video_enabled?!!properSpecialOps.video_enabled:this.video_enabled},o.prototype.loadVideoPlayerScript=function(){var e;!0===this.video_enabled&&0==this.video_script_loaded&&void 0===window.ProperMediaVideo&&(window.propervideotag=window.propervideotag||[],(e=S.createElement("script")).src="https://player.propervideo.io/new_rtp/main.js",e.async=!0,window.top.document.getElementsByTagName("head")[0].appendChild(e)),this.video_script_loaded=!0},o.prototype.buildSlots=function(){for(a in Object.keys(ce.ad_slots).reverse().forEach(function(t){Object.keys(ce.ad_slots[t]).forEach(function(e){"dynamic"!=t&&this.buildSlot(t,e)},this)},this),this.dynamic_ad_matches)this.buildSlot("dynamic",this.dynamic_ad_matches[a])},o.prototype.buildSlot=function(e,t){var i=null;if(!e||!t)return i;var r=ge.isMobile()?"mobile":"desktop",s=ProperMedia.utils.deepAccess(ce,"ad_slots."+e+"."+t)||{},a=ProperMedia.utils.deepAccess(s,"dynamic."+r)||{enabled:!1};if(a.enabled){var n=a.cssselector+":not(."+this.dynamic_css_class+")",o=S.querySelectorAll(n);if(o&&0<o.length)for(var d=0;d<o.length;d++){var p=o[d];a.instances=(parseInt(a.instances)||0)+1;var l=ProperMedia.utils.deepCopy(s);l.dynamic[r].instance_number=a.instances;i=new c("video"==e?"video":"display",t,l,p)}}else i=ProperMedia.utils.deepAccess(this,"slots."+e+"."+t)?ProperMedia.utils.deepAccess(this,"slots."+e+"."+t):new c(e,t,s);return i},o.prototype.rebuildSlots=function(){Object.keys(this.slots).forEach(function(t){Object.keys(this.slots[t]).forEach(function(e){e=this.getSlotFromPageObject(e,[t]);e&&e.getElement()&&e.rebuildSlot()},this)},this),this.buildSlots()},o.prototype.SpaNextPage=function(){le.mylog("========== New SPA Page ==========");var e=this.getTimeOnPage();le.mylog("Time on page: "+e),this.spa_settings.page_number++,this.start_ts=ProperMedia.utils.getTimestampMs(),this.setPageVariables();ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")&&ProperMedia.utils.deepAccess(properSpecialOps,"spa_settings.gallery_id")&&ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")===ProperMedia.utils.deepAccess(properSpecialOps,"spa_settings.gallery_id")?fe.clearExpiredAds():fe.clearCachedAds(),this.setBidPageUrl(),le.mylog("width: "+this.width),ue.init(),le.init_bid_data(),this.setSPASettings(),fe.auction_count=0,fe.vid_auction_count=0,fe.startNewAuction(),this.rebuildSlots()},o.prototype.InfScrollNextPage=function(){le.mylog("========== New Infinite Scroll Page ==========");var e=this.getTimeOnPage();le.mylog("Time on page: "+e),this.spa_settings.page_number++,this.start_ts=ProperMedia.utils.getTimestampMs(),this.setPageVariables(),le.mylog("width: "+this.width),ue.init(),le.init_bid_data(),fe.auction_count=0,fe.vid_auction_count=0,fe.startNewAuction(),this.buildSlots()},o.prototype.initDfp=function(){if(1==this.dfp_init)return!1;1==ce.confiant?ne.loadDFPTag(window):ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&oe.loadDFPTag(window),function(){var e=S.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==S.location.protocol;e.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";t=S.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),googletag.cmd.push(function(){te.noPersonalization&&googletag.pubads().setRequestNonPersonalizedAds(1),J.restrictDataProcessing&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),googletag.pubads().addEventListener("slotOnload",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=_e.getSlotFromPageObject(t)||_e.getSlotFromPageObjectByAdUnitPath(e);le.mylog("DFP slotOnload: "+t),e&&(e.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}),e.hasWinningBid()&&1==e.winning_ad.displayed&&e.winning_ad.onBidWon())}),googletag.pubads().addEventListener("impressionViewable",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=_e.getSlotFromPageObject(t)||_e.getSlotFromPageObjectByAdUnitPath(e);le.mylog("DFP impressionViewable: "+t),e&&(e&&e.interstitial&&(t=e,ProperMedia.utils.deepAccess(le,"interstitial_bid_data."+t.name)&&(le.bid_data.ad_slots[t.name]=ProperMedia.utils.deepAccess(le,"interstitial_bid_data."+t.name),clearTimeout(le.tracker_timeout),le.tracker_timeout=null,le.tracker_timeout=_.setTimeout.call(_e,function(){le.proper_tracker()},le.tracker_wait))),e.dispatchCustomEvent("proper-impression-viewable",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}))}),googletag.pubads().addEventListener("slotRenderEnded",v.wrap(function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),i=e.slot.getAdUnitPath(),i=_e.getSlotFromPageObject(t)||_e.getSlotFromPageObjectByAdUnitPath(i);le.mylog("DFP slotRenderEnded: "+t),i&&(i.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),i.interstitial?0==e.isEmpty&&Or(i.name,e):(e.advertiserId==ce.amazon_advertiser&&(e.size=(void 0!==i.bids.a9&&void 0!==i.bids.a9.responses&&void 0!==i.bids.a9.responses.size?i.bids.a9.responses.size:i.default_size).split("x")),e.advertiserId!=ce.proper_advertiser&&e.advertiserId!=ce.amazon_advertiser&&0==e.isEmpty&&(Or(i.name,e),zr(e.isEmpty,i.name,e.size.join("x"),e.creativeId,e.lineItemId,e.advertiserId)),!i.sticky&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.reportAd")&&oe.addReportAd(e)))})),googletag.pubads().addEventListener("slotOnload",v.wrap(function(e){try{var t,i=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),r=e.slot.getAdUnitPath(),s=_e.getSlotFromPageObject(i)||_e.getSlotFromPageObjectByAdUnitPath(r);s&&(!window.top.document.getElementById(s.dfpIframeId)||(t=window.top.document.getElementById(s.dfpIframeId).contentWindow.document)&&(t.getElementById("common_15click_overlay")||t.getElementById("common_15click_anchor"))&&g(new Error("Detected Google Confirmed Click: "+s.dfp_name)))}catch(e){le.mylog("Error Detecting Google Confirmed Click: "+i)}})),googletag.pubads().setTagForChildDirectedTreatment(0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),this.dfp_enabled_services=!0}),this.dfp_init=1},o.prototype.dfpSraCall=function(){googletag.cmd.push(function(){var t;clearTimeout(this.sra_settings.timeout_handler),this.sra_settings.timeout_handler=null,0<Object.keys(this.sra_settings.slot_queue).length&&(1==properSpecialOps.update_correlator&&0==this.dfp_correlator&&1<this.spa_settings.page_number&&(googletag.pubads().updateCorrelator(),this.dfp_correlator=!0,le.mylog("Correlator updated for page: "+this.spa_settings.page_number)),t=[],Object.keys(this.sra_settings.slot_queue).forEach(function(e){e=this.sra_settings.slot_queue[e];t.push(e.dfp_slot),e.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),le.mylog("DFP refresh called: "+e.name),e.dfp_refreshed=1,e.auction_send_complete=!0},this),this.sra_settings.slot_queue={},googletag.pubads().refresh(t))}.bind(this))},o.prototype.getSlotFromPageObject=function(t,e){var i=null;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).forEach(function(e){this.slots[e][t]&&(i=this.slots[e][t])},this),i},o.prototype.getSlotFromPageObjectByAdUnitPath=function(i,e){var r=null;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).forEach(function(t){!r&&this.slots[t]&&Object.keys(this.slots[t])&&Object.keys(this.slots[t]).forEach(function(e){r||this.slots[t][e].dfpAdUnitPath!=i||(r=this.slots[t][e])},this)},this),r},o.prototype.getSlotByNumber=function(i,e){var r=null;return(e=e||Object.keys(this.slots)).forEach(function(t){Object.keys(this.slots[t]).forEach(function(e){e=this.slots[t][e];e.number==i&&(r=e)},this)},this),r},o.prototype.setDynamicAdMatches=function(){var e=[],t=!!(i=this.url.substr(this.url.indexOf(this.domain)+this.domain.length,this.url.length-1).replace(window.location.hash,"")).includes("?")&&i.split("?")[1],i=t?i.split("?")[0]:i;for(group in ce.page_groups){var r=!1,s=ce.page_groups[group];for(url in s.url_matches)(i==s.url_matches[url]||-1<s.url_matches[url].indexOf("*")&&1+i.search(s.url_matches[url].split("/").join("/").split("=").join("\\=").split("*").join(".*")))&&(r=!0);if(r){for(url in s.url_exclude)(i==s.url_exclude[url]||-1<s.url_exclude[url].indexOf("*")&&1+i.search(s.url_exclude[url].split("/").join("/").split("=").join("\\=").split("*").join(".*")))&&(r=!1);if(r&&(e=e.concat(s.ads)),t)for(utm_group in s.url_mods)for(utm in s.url_mods[utm_group].conditions)1+t.search(s.url_mods[utm_group].conditions[utm])&&(e=e.concat(s.url_mods[utm_group].extra_ads))}}this.dynamic_ad_matches=e},o);function o(){this.uuid=null,this.use_ssl=!1,this.protocol="http:",this.url="",this.domain="",this.path="",this.get_vars={},this.canonical_url="",this.bidder_page_url="",this.referrer="",this.isolated=0,this.width=0,this.height=0,this.post_id="",this.slots={display:{},video:{},interstitial:{}},this.sra_settings={slot_queue:{},timeout_handler:null,timeout_ms:10},this.video_enabled=null,this.video_script_loaded=!1,this.dynamic_css_class="proper-dynamic-insertion",this.start_ts=0,this.dfp_init=!1,this.dfp_correlator=!1,this.dfp_enabled_services=!1,this.dont_send_bids=!1,this.viewability_tracker={},this.dynamic_ad_matches=[],this.spa_settings={enabled:!1,prefetch:!1,gallery_id:null,page_number:1,gallery_base_url:""},this.page_meta={category:"",editor:"",writer:"",buyer:"",page_type:"",split:"",tags:[],custom:{}}}var c=(d.prototype.getElement=function(){return(this.iframe_window||top).document.getElementById(this.div_id)},d.prototype.getContentDocument=function(){return this.iframe_window?this.iframe_window.document:this.iframe_id?window.top.document.getElementById(this.iframe_id).contentDocument:window.top.document.getElementById(this.div_id+"-iframe")?window.top.document.getElementById(this.div_id+"-iframe").contentDocument:window.top.document},d.prototype.setStickySettings=function(e){try{var t;this.sticky&&(t=ProperMedia.utils.mergeObject({},this.sticky_settings,e.sticky_settings||{}),this.sticky_settings=ProperMedia.utils.deepCopy(t))}catch(e){return le.mylog("Error setting sticky settings: "+this.name),!1}return!0},d.prototype.setRefresh=function(e){try{var t=ge.isMobile()?"mobile":"desktop",i=e.refresh&&e.refresh[t]?e.refresh[t]:{},r=ProperMedia.utils.mergeObject({},this.refresh,ce.refresh[t],i);this.refresh=ProperMedia.utils.deepCopy(r)}catch(e){return le.mylog("Error setting refresh settings: "+this.name),!1}return!0},d.prototype.setLazyload=function(e){try{var t=ge.isMobile()?"mobile":"desktop",i=e.lazyload&&e.lazyload[t]?e.lazyload[t]:{},r=ProperMedia.utils.mergeObject({},this.lazyload,ce.lazyload[t],i);this.lazyload=ProperMedia.utils.deepCopy(r),this.sticky&&(this.lazyload.enabled=!1)}catch(e){return le.mylog("Error setting lazy-load settings: "+this.name),!1}return!0},d.prototype.setFloors=function(e){try{var t=ge.isMobile()?"mobile":"desktop",i=e.floors&&e.floors[t]?e.floors[t]:{},r=ProperMedia.utils.mergeObject({},this.floors,ce.floors[t],i);this.floors=ProperMedia.utils.deepCopy(r)}catch(e){return le.mylog("Error setting floors settings: "+this.name),!1}return!0},d.prototype.setDynamic=function(e){try{var t=ge.isMobile()?"mobile":"desktop",i=e.dynamic&&e.dynamic[t]?e.dynamic[t]:{},r=ProperMedia.utils.mergeObject({},this.dynamic,i);this.dynamic=ProperMedia.utils.deepCopy(r)}catch(e){return le.mylog("Error setting dynamic settings: "+this.name),!1}return!0},d.prototype.getFloor=function(e){e=this.floors.sizes[e]||this.floors.backup||0;return parseFloat(e)},d.prototype.checkStickyFreqCapMet=function(){return!(1!=this.sticky||!(ce.disable_sticky_on_close&&1==me.stickyFreqCapHandler.getStickyClosedCookie()||ce.enable_sticky_freq_cap&&me.stickyFreqCapHandler.getStickyUnitImps()>=ce.sticky_freq_cap))},d.prototype.setViewabilityTracker=function(){var e={id:this.div_id,lazyload:this.lazyload.enabled,viewability:!0,fetchMarginPercent:this.lazyload.fetchMarginPercent,renderMarginPercent:this.lazyload.renderMarginPercent,minHeight:this.min_height};_e.viewability_tracker.addElement(e,this.viewabilityChange.bind(this))},d.prototype.insertDynamicSlot=function(e,t){var i,r=S.createElement("div"),s=S.createElement("div");r.className="proper-ad-unit"+(this.sticky?" ad-sticky "+this.name:""),this.sticky?((i=S.createElement("div")).id="proper-ad-"+this.name,s.className="sticky-inner",s.appendChild(i)):s.id="proper-ad-"+this.name,this.sticky&&(r.style="display: none;"),""!=this.dynamic.css_ad&&(r.style+=this.dynamic.css_ad),""!=this.dynamic.css_page&&(head=S.head||S.getElementsByTagName("head")[0],style=S.createElement("style"),head.appendChild(style),style.type="text/css",style.styleSheet?style.styleSheet.cssText=this.dynamic.css_page:style.appendChild(S.createTextNode(this.dynamic.css_page))),"after"==t?e.parentNode.insertBefore(r,e.nextSibling):"before"==t?e.parentNode.insertBefore(r,e):"append"==t?e.appendChild(r):"prepend"==t&&(e.childNodes&&0<e.childNodes.length?e.insertBefore(r,e.childNodes[0]):e.appendChild(r)),r.appendChild(s),I(e).addClass(_e.dynamic_css_class)},d.prototype.buildSlot=function(e,t,i,r){return this.type=e||"display",this.name=t,this.dfp_name=t,this.number=i.number||0,this.sticky=i.sticky||0,this.size_map=i.resolution_size_map||{},this.report_ad_tool=i.report_ad_tool||ce.report_ad_tool,this.div_id="display"==this.type?"proper-ad-"+t:this.name,this.gam_mcm=i.gam_mcm||ce.gam_mcm||this.gam_mcm,this.dfpAdUnitPath=this.gam_mcm.enabled&&this.gam_mcm.child_network_id?"/"+ce.dfp_id+","+this.gam_mcm.child_network_id+"/"+t:"/"+ce.dfp_id+"/"+t,this.dfpIframeId="google_ads_iframe_"+this.dfpAdUnitPath+"_0",!(!this.name||"display"==this.type&&!this.number)&&(this.setDynamic(i),this.dynamic.enabled&&(this.child_name="dynamic_"+this.dynamic.instance_number,this.dfpAdUnitPath=this.gam_mcm.enabled&&this.gam_mcm.child_network_id?"/"+ce.dfp_id+","+this.gam_mcm.child_network_id+"/"+this.dfp_name+"/"+this.child_name:"/"+ce.dfp_id+"/"+this.dfp_name+"/"+this.child_name,this.dfpIframeId="google_ads_iframe_"+this.dfpAdUnitPath+"_0",this.name=this.name+"_"+this.dynamic.instance_number,this.number=parseFloat(this.number+this.dynamic.instance_number/100),this.div_id="proper-ad-"+this.name,i.custom_css&&(this.dynamic.css_ad=i.custom_css[0]||"",this.dynamic.css_page=i.custom_css[1]||"")),this.getMaxTier(),this.parseTierSizes(),0!=this.sizes.length&&((!this.interstitial||1!=ce.dfp_per_slot)&&(this.setFloors(i),this.setLazyload(i),this.dynamic.enabled&&this.insertDynamicSlot(r,this.dynamic.cssplacement),!!this.getElement()&&(i.video_player&&!1!==_e.video_enabled&&(s=ProperMedia.utils.deepAccess(ce,"video_players."+i.video_player)||{},0<Object.keys(s).length&&(this.video_player=new p(i.video_player,s,this),this.video_type=this.video_player.player_settings.video_type)),"display"==this.type?(this.setStickySettings(i),this.setRefresh(i),this.ad_types.push("display"),this.video_player&&!1!==_e.video_enabled&&this.ad_types.push("video")):"video"==this.type&&this.video_player instanceof p&&!1!==_e.video_enabled&&this.ad_types.push("video"),this.checkVideoEnabled(),this.sticky&&(this.getElement().parentNode.className.includes("sticky-inner")||((s=this.getElement().parentNode).classList.add(this.name),(i=S.createElement("div")).setAttribute("class","sticky-inner"),s.appendChild(i),i.insertAdjacentElement("beforeEnd",this.getElement()))),this.setViewabilityTracker(),("display"==this.type&&!this.lazyload.enabled||"video"==this.type&&ProperMedia.utils.deepAccess(this,"video_player.auto_insert"))&&(this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout())),"display"==this.type?L.ready(function(){0==_e.isolated&&0==this.refresh.exclude_dfp&&(1==ce.dfp_per_slot?0==this.dfp_init?this.initDfp():0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping():(0==_e.dfp_init&&_e.initDfp(),1==_e.dfp_init&&0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping()))}.bind(this)):this.interstitial&&L.ready(function(){ce.dfp_per_slot||(0==_e.dfp_init&&_e.initDfp(),1==_e.dfp_init&&(0==this.mapped_dfp_sizes&&(this.buildDfpSizeMapping(),this.dfp_ready=1),1==this.mapped_dfp_sizes&&(0==this.dfp_ready&&this.addBidToDfpSlot(),1==this.dfp_ready&&(0!=this.dfp_sent&&0!=this.dfp_refreshed||this.dfpDisplayOrRefresh()))))}.bind(this)),le.mylog("Building slot: "+this.name),this.tracking_times.built_ts=ProperMedia.utils.getTimestampMs(),_e.slots[this.type][this.name]=this,!0))));var s},d.prototype.checkVideoEnabled=function(){-1===this.ad_types.indexOf("video")&&1!=_e.video_enabled||(null===_e.video_enabled&&(_e.video_enabled=!0),_e.loadVideoPlayerScript())},d.prototype.rebuildSlot=function(){var e,t;null==this.rebuild_timeout_handle&&"display"==this.type&&(e=Math.max(0,this.min_time_on_page-this.timeSinceDisplayed()),le.mylog("Rebuilding slot: "+this.name+" ("+e+")"),t=ProperMedia.utils.deepAccess(ce,"ad_slots."+this.type+"."+this.name)||{},this.setRefresh(t),t=this.max_tier,this.getMaxTier(),t!==this.max_tier&&this.parseTierSizes(),this.rebuild_timeout_handle=_.setTimeout.call(this,function(){clearTimeout(this.rebuild_timeout_handle),this.rebuild_timeout_handle=null,this.refresh.count=0,this.resetBidData(),0<this.sizes.length&&L.ready(function(){this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout())}.bind(this))},e))},d.prototype.getMaxTier=function(){this.max_tier=0,Object.keys(this.size_map).forEach(function(e){e=parseInt(e),_e.width>=e&&e>=this.max_tier&&(this.max_tier=e)},this)},d.prototype.parseTierSizes=function(){var e=0;if(this.sizes=this.size_map[this.max_tier]||[],this.sizes&&0<this.sizes.length){for(var t=0;t<this.sizes.length;t++){var i=this.sizes[t].split("x");if(i[0]=parseInt(i[0])||NaN,i[1]=parseInt(i[1])||NaN,isNaN(i[0])||isNaN(i[1])){if("interstitial"==this.sizes[t]){this.setInterstitial();break}}else 1!=i[0]&&1!=i[1]&&((i[0]<this.min_width||0==this.min_width)&&(this.min_width=i[0]),(i[1]<this.min_height||0==this.min_height)&&(this.min_height=i[1]),(i[0]*i[1]<e||0==e)&&(this.default_size=this.sizes[t].split("x"),e=i[0]*i[1]))}return!0}return!1},d.prototype.setInterstitial=function(){this.type="interstitial",this.ad_types=["interstitial"],this.sizes=["interstitial"],this.interstitial=!0,this.min_width=1,this.min_height=1,this.default_size=[1,1],this.refresh.enabled=!1,this.lazyload.enabled=!1},d.prototype.googletag=function(){return this.google_tag||(1==ce.dfp_per_slot?this.google_tag={}:this.google_tag=googletag),void 0===this.google_tag.cmd&&(this.google_tag.cmd=[]),this.google_tag},d.prototype.buildDfpSizeMapping=function(){this.getElement()&&0<this.sizes.length&&0==this.mapped_dfp_sizes&&(this.googletag().cmd.push(function(){for(var e=[[1,1]],t=0;t<this.sizes.length;t++){var i,r=this.sizes[t];"1x1"!=r&&((i=r.split("x"))[0]=parseInt(i[0]),i[1]=parseInt(i[1]),isNaN(i[0])||isNaN(i[1])?"fluid"==r&&e.push(r):e.push(i))}if(this.interstitial?(this.dfp_slot=this.googletag().defineOutOfPageSlot(this.dfpAdUnitPath,this.googletag().enums.OutOfPageFormat.INTERSTITIAL).addService(this.googletag().pubads()),this.dfp_slot&&(this.div_id=this.dfp_slot.getSlotElementId())):ProperMedia.utils.checkOutOfPage(this.dfpAdUnitPath)?this.dfp_slot=this.googletag().defineOutOfPageSlot(this.dfpAdUnitPath,this.div_id).addService(this.googletag().pubads()):this.dfp_slot=this.googletag().defineSlot(this.dfpAdUnitPath,e,this.div_id).addService(this.googletag().pubads()),void 0!==_e.post_id&&null!=_e.post_id&&""!=_e.post_id||(_e.post_id="unknown"),this.dfp_slot.setTargeting("post_id",_e.post_id.toString()),void 0!==ce.member&&null!=ce.member&&""!=ce.member||(ce.member="no"),this.dfp_slot.setTargeting("member",ce.member.toString()),this.dfp_slot.setTargeting("split_version",ce.rtp_file_version.toString()),this.dfp_slot.setTargeting("proper_site",ce.site_name),this.dfp_slot.setTargeting("proper_slot",this.number),this.dfp_slot.setTargeting("proper_page",_e.page_number),ProperMedia.utils.deepAccess(_e,"page_meta.tags")&&_e.page_meta.tags.length)for(t=0;t<_e.page_meta.tags.length;t++){var s=[];if(_e.page_meta.tags[t].length){for(var a=0;a<_e.page_meta.tags[t].length;a++){var n=_e.page_meta.tags[t][a];ge.isMobile()?s.push(n+"_mobile"):s.push(n+"_desktop")}s=s.concat(_e.page_meta.tags[t])}var o="tags"+(0==t?"":t+1);0<s.length?(this.dfp_slot.setTargeting(o,[s.toString()]),this.dfp_targeting[o]=1):1==this.dfp_targeting[o]&&(this.dfp_slot.clearTargeting(o),this.dfp_targeting[o]=0)}this.sticky&&this.dfp_slot.setTargeting("proper_sticky",this.sticky.toString()),0<Object.keys(this.floors.sizes).length&&Object.keys(this.floors.sizes).map(function(e){var t;-1===this.sizes.indexOf(e)||(t=this.floors.sizes[e])>this.floors.backup&&(t=Cr(t),this.dfp_slot.setTargeting("proper_floor_"+e,t.toFixed(2).toString()))},this);var d=Cr(this.floors.backup);this.dfp_slot.setTargeting("proper_floor",d.toFixed(2).toString()),0<ue.sessionData.depth&&this.dfp_slot.setTargeting("s_depth",ue.sessionData.depth.toString())}.bind(this)),(this.mapped_dfp_sizes=1)!=this.bids_ready||this.dfp_ready||this.addBidToDfpSlot())},d.prototype.recycleBid=function(){this.hasWinningBid()&&!this.winning_ad.checkIfExpired()&&0==this.winning_ad.displayed&&(fe.addBidToPool(this.winning_ad),delete this.winning_ad,this.winning_ad={})},d.prototype.clearWinningBid=function(){return this.hasWinningBid()&&(0!=this.winning_ad.displayed||this.winning_ad.checkIfExpired()||fe.addBidToPool(this.winning_ad),delete this.winning_ad,this.winning_ad={}),!0},d.prototype.hasWinningBid=function(){return this.winning_ad instanceof D&&""!==this.winning_ad.bidder&&0<this.winning_ad.price},d.prototype.getWinningBid=function(e,t){e=e||this.ad_types,t=t||this.video_type;return this.clearWinningBid(),fe.getWinningBid(this,e,t),this.hasWinningBid()},d.prototype.checkBidsReady=function(){return!(jr()||!this.getElement()||1==this.kill_slot||this.interstitial||1==this.auction_send_complete||this.lazyload.enabled&&!this.lazyload.inRenderZone)&&(!((0<Object.keys(fe.auctions).length||0==Object.keys(fe.finished_auctions).length)&&!this.max_timeout_met)&&(this.getWinningBid(this.ad_types,this.video_type)||this.max_timeout_met?(this.bids_ready=1,this.tracking_times.bids_ready_ts=ProperMedia.utils.getTimestampMs(),"display"==this.type&&(this.hasWinningBid()&&"display"==this.winning_ad.type&&-1!==this.ad_types.indexOf(this.winning_ad.type)||!this.hasWinningBid()&&this.max_timeout_met)?(-1!==this.ad_types.indexOf("video")&&this.video_player instanceof p&&this.video_player.removePlayer(),1==_e.isolated||1==this.refresh.exclude_dfp?this.lazyload.enabled&&!this.lazyload.inRenderZone||Rr(this)&&(this.auction_send_complete=!0):1==ce.dfp_per_slot?0==this.dfp_init?this.initDfp():0==this.mapped_dfp_sizes?this.buildDfpSizeMapping():0==this.dfp_ready?this.addBidToDfpSlot():this.dfp_sent&&this.dfp_refreshed||this.dfpDisplayOrRefresh():(0==_e.dfp_init&&_e.initDfp(),1==_e.dfp_init&&(0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping(),1==this.mapped_dfp_sizes&&(0==this.dfp_ready&&this.addBidToDfpSlot(),1==this.dfp_ready&&(0!=this.dfp_sent&&0!=this.dfp_refreshed||this.dfpDisplayOrRefresh()))))):(this.hasWinningBid()&&"video"==this.winning_ad.type&&-1!==this.ad_types.indexOf(this.winning_ad.type)||"video"==this.type&&this.max_timeout_met)&&this.video_player&&this.video_player instanceof p&&(this.refresh.enabled=0,this.removeRefreshTimeout(),this.auction_send_complete=!0,this.video_player.removePlayer(),this.video_player.insertPlayer()),1==this.auction_send_complete&&(this.clearWaitInterval(),this.clearMaxAuctionTimeout()),!0):(this.clearWinningBid(),!1)))},d.prototype.initDfp=function(){if(1==this.dfp_init)return!1;var e,t=!1;if(this.iframe_window)e=this.iframe_window,t=!0;else if(this.iframe_id){if(!(r=S.getElementById(this.iframe_id)))return void le.mylog("ERROR: "+this.iframe_id+" doesn't exist in the DOM.");this.iframe_window=r.contentWindow,e=r.contentWindow,t=!0}else{var i=S.getElementById(this.div_id);if(!i)return void le.mylog("WARNING: "+this.div_id+" doesn't exist in the DOM. This should re-run when proper_display is called");var r=S.createElement("iframe");i.innerHTML="",i.appendChild(r),r.id=this.div_id+"-iframe",r.frameBorder=0,r.scrolling="no",r.marginWidth="0",r.marginHeight="0",r.style.overflow="hidden",r.style.border="0px",r.style.width="1px",r.style.height="1px",r.style.verticalAlign="bottom";i="<html><head><script src='https://securepubads.g.doubleclick.net/tag/js/gpt.js' async><\/script></head><body><div id='"+this.div_id+"'></div></body></html>";r.src='javascript:"'+i+'"',r.contentWindow.document.open(),r.contentWindow.document.write(i),r.contentWindow.document.close(),e=r.contentWindow,this.iframe_window=e}t&&((r=S.createElement("script")).async=!0,r.type="text/javascript",t="https:"==S.location.protocol,r.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js",e.document.getElementsByTagName("head")[0].appendChild(r)),1==ce.confiant?ne.loadDFPTag(e):ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&oe.loadDFPTag(window),e.googletag=e.googletag||{},this.google_tag=e.googletag||{},void 0===this.googletag().cmd&&(this.googletag().cmd=[]),this.googletag().cmd.push(function(){te.noPersonalization&&this.googletag().pubads().setRequestNonPersonalizedAds(1),J.restrictDataProcessing&&this.googletag().pubads().setPrivacySettings({restrictDataProcessing:!0}),this.googletag().pubads().addEventListener("slotOnload",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=_e.getSlotFromPageObject(t);le.mylog("DFP slotOnload: "+t),e&&(e.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}),e.hasWinningBid()&&1==e.winning_ad.displayed&&e.winning_ad.onBidWon())}),this.googletag().pubads().addEventListener("impressionViewable",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=_e.getSlotFromPageObject(t)||_e.getSlotFromPageObjectByAdUnitPath(e);e&&(le.mylog("DFP impressionViewable: "+t),e.dispatchCustomEvent("proper-impression-viewable",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}))}),this.googletag().pubads().addEventListener("slotRenderEnded",v.wrap(function(e){var t=e.slot.getSlotElementId(),i=ProperMedia.utils.extractSlotName(t),t=_e.getSlotFromPageObject(i);t&&(le.mylog("DFP slotRenderEnded: "+i),t.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),e.advertiserId!==ce.proper_advertiser&&e.advertiserId!=ce.amazon_advertiser&&0==e.isEmpty&&(Or(i,e),zr(e.isEmpty,i,e.size.join("x"),e.creativeId,e.lineItemId,e.advertiserId)),!t.sticky&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.reportAd")&&oe.addReportAd(e))})),this.googletag().pubads().addEventListener("slotOnload",v.wrap(function(e){try{var t,i,r=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),s=_e.getSlotFromPageObject(r);!s||(t=s.getContentDocument())&&t.getElementById(s.dfpIframeId)&&((i=t.getElementById(s.dfpIframeId).contentWindow.document)&&(i.getElementById("common_15click_overlay")||i.getElementById("common_15click_anchor"))&&g(new Error("Detected Google Confirmed Click: "+s.dfp_name)))}catch(e){le.mylog("Error Detecting Google Confirmed Click: "+r)}})),this.googletag().pubads().setTagForChildDirectedTreatment(0),this.googletag().pubads().disableInitialLoad(),this.googletag().pubads().enableSingleRequest(),this.googletag().enableServices(),this.dfp_enabled_services=!0}.bind(this)),this.dfp_init=1,this.buildDfpSizeMapping()},d.prototype.addBidToDfpSlot=function(){this.googletag().cmd.push(function(){if(this.dfp_ready||!this.mapped_dfp_sizes||!this.isSlotDefinedInGPT()||"video"==this.winning_ad.type)return!1;var e;this.hasWinningBid()?(this.winning_ad.dfp_price=function(e){e=ce.thirdPartyAdManager?40<e?40:(Math.ceil(20*e)/20).toFixed(2):800<e?800:(100<e?Math.ceil(e):Math.ceil(20*e)/20).toFixed(2);return e}(this.winning_ad.price),le.mylog("Bid added to DFP request ("+this.winning_ad.bidder+", "+this.name+"@"+this.winning_ad.size+") = "+this.winning_ad.dfp_price),this.dfp_slot.setTargeting("proper_bidder",ce.site_name+"_"+this.winning_ad.bidder),this.dfp_slot.setTargeting("proper_bid",this.winning_ad.dfp_price)):(0<this.dfp_slot.getTargeting("proper_bid").length&&this.dfp_slot.clearTargeting("proper_bid"),0<this.dfp_slot.getTargeting("proper_bidder").length&&this.dfp_slot.clearTargeting("proper_bidder"),le.mylog("Bid added to DFP request ("+this.name+") = 0.00")),this.dfp_slot.setTargeting("s_depth",ue.sessionData.depth.toString()),0<this.refresh.count?(e=[],0!=this.advertiserId&&(e.push(this.advertiserId),this.advertiserId=0),0<(e=e.concat(this.exclude_advertiser)).length?this.dfp_slot.setTargeting("exclude_advertiser",e):0<this.dfp_slot.getTargeting("exclude_advertiser").length&&this.dfp_slot.clearTargeting("exclude_advertiser")):void 0!==_e.get_vars.proper_dfp&&1==_e.get_vars.proper_dfp&&1==ce.testing_mode.enabled&&this.dfp_slot.setTargeting("exclude_advertiser",[ce.google_advertiser,ce.adsense_advertiser]),void 0===this.refresh.count?this.dfp_slot.setTargeting("refresh_count",0):this.dfp_slot.setTargeting("refresh_count",this.refresh.count.toString()),this.dfp_ready=1,this.getElement()&&this.dfpDisplayOrRefresh()}.bind(this))},d.prototype.dfpDisplayOrRefresh=function(){this.googletag().cmd.push(function(){this.dfp_sent||(this.dfp_sent=1,this.googletag().display(this.div_id),le.mylog("DFP display called: "+this.name)),1==ce.dfp_per_slot?this.dfpSraCall():ProperMedia.utils.deepAccess(_e,"sra_settings.slot_queue."+this.name)||(_e.sra_settings.slot_queue[this.name]=this,clearTimeout(_e.sra_settings.timeout_handler),_e.sra_settings.timeout_handler=null,_e.sra_settings.timeout_handler=_.setTimeout.call(_e,function(){_e.dfpSraCall()},_e.sra_settings.timeout_ms))}.bind(this))},d.prototype.dfpSraCall=function(){this.googletag().cmd.push(function(){1==properSpecialOps.update_correlator&&0==_e.dfp_correlator&&1<_e.spa_settings.page_number&&(this.googletag().pubads().updateCorrelator(),_e.dfp_correlator=!0,le.mylog("Correlator updated for page: "+_e.spa_settings.page_number)),this.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),le.mylog("DFP refresh called: "+this.name),this.dfp_refreshed=1,this.auction_send_complete=!0,this.googletag().pubads().refresh([this.dfp_slot])}.bind(this))},d.prototype.setWaitInterval=function(){le.mylog("Set wait interval for "+this.name+" ( "+this.wait_interval+" )");var e=this;null==this.wait_interval_handle&&(this.wait_interval_handle=r.setInterval.call(e,function(){e.checkBidsReady()},e.wait_interval))},d.prototype.clearWaitInterval=function(){clearInterval(this.wait_interval_handle),this.wait_interval_handle=null},d.prototype.setMaxAuctionTimeout=function(){var e=this;null==this.max_timeout_handle&&(this.auction_started_ts=ProperMedia.utils.getTimestampMs(),this.max_timeout_handle=_.setTimeout.call(e,function(){e.max_timeout_met=!0,e.clearWaitInterval(),e.clearMaxAuctionTimeout(),e.checkBidsReady()},e.max_timeout))},d.prototype.clearMaxAuctionTimeout=function(){clearTimeout(this.max_timeout_handle),this.max_timeout_handle=null},d.prototype.setRefreshInterval=function(){if(0==this.refresh.enabled||1==this.winning_ad.displayed&&1==ProperMedia.utils.deepAccess(ce,"bidder_info."+this.winning_ad.bidder+".dont_refresh"))return this.refresh.enabled=0,!1;var e=Math.max(this.refresh.interval,this.refresh.min_interval);if(-1!==this.refresh.inview_interval){if(!this.viewability.viewable)return!1;e=Math.max(0,this.refresh.inview_interval-this.viewability.total_time_inview,e-this.timeSinceDisplayed())}else e=Math.max(0,e-this.timeSinceDisplayed());return this.refresh.current_interval=e,this.addRefreshTimeout(this.refresh.current_interval),!0},d.prototype.addRefreshTimeout=function(e){var t=this;this.removeRefreshTimeout(),this.refresh_handler=_.setTimeout.call(t,function(){t.removeRefreshTimeout(),t.refreshSlot()},e),le.mylog(this.name+": Starting refresh timer. ms = "+e)},d.prototype.timeSinceDisplayed=function(){return 0==this.last_displayed_ts?0:Date.now()-this.last_displayed_ts},d.prototype.removeRefreshTimeout=function(){this.refresh_handler&&(le.mylog(this.name+": Removing refresh timer."),clearTimeout(this.refresh_handler),this.refresh_handler=null)},d.prototype.resetBidData=function(){this.last_displayed_ts=0,this.dfp_ready=0,this.dfp_refreshed=0,this.winning_ad={},this.exclude_advertiser=[],this.advertiserId=0,this.auction_started_ts=0,this.max_timeout_met=!1,this.auction_send_complete=!1,this.adl_blocked=!1,this.viewability.entered_inview_ts=this.viewability.viewable?ProperMedia.utils.getTimestampMs():0,this.viewability.total_time_inview=0,this.clearWaitInterval(),this.clearMaxAuctionTimeout(),this.removeRefreshTimeout()},d.prototype.refreshSlot=function(){return this.refresh.count<this.refresh.max&&(!(this.lazyload.enabled&&!this.lazyload.inFetchZone)&&(le.mylog("Refreshing slot: "+this.name),this.refresh.count++,this.resetBidData(),this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout()),!0))},d.prototype.getTimeInview=function(){return 0==this.viewability.entered_inview_ts?0:Date.now()-this.viewability.entered_inview_ts},d.prototype.viewabilityChange=function(e){return this.viewability.viewable===e.viewable&&this.viewability.activeTab===e.activeTab||(le.mylog(this.name+": Viewability Change. visible = "+e.viewable+" Active Tab = "+e.activeTab),this.viewability.viewable=e.viewable,this.displayed&&this.refresh.enabled&&this.refresh.count<this.refresh.max&&e.activeTab&&(e.viewable&&-1!==this.refresh.inview_interval||-1==this.refresh.inview_interval)?this.setRefreshInterval():this.removeRefreshTimeout(),e.viewable?(this.dispatchCustomEvent("inview"),this.viewability.entered_inview_ts=ProperMedia.utils.getTimestampMs()):(this.dispatchCustomEvent("not-inview"),this.viewability.total_time_inview+=this.getTimeInview()),this.viewability.activeTab=e.activeTab),this.viewability.viewable||this.getElement()?(this.lazyload.enabled&&(this.lazyload.inFetchZone!==e.inFetchZone&&(le.mylog(this.name+": LazyLoad Change. inFetchZone = "+e.inFetchZone),this.lazyload.inFetchZone=e.inFetchZone,this.lazyload.inFetchZone?(this.wait_interval_handle||this.max_timeout_met||this.setWaitInterval(),this.max_timeout_handle||this.max_timeout_met||this.setMaxAuctionTimeout()):this.clearWaitInterval()),this.lazyload.inRenderZone!==e.inRenderZone&&(le.mylog(this.name+": LazyLoad Change. inRenderZone = "+e.inRenderZone),this.lazyload.inRenderZone=e.inRenderZone,this.lazyload.inRenderZone&&this.checkBidsReady())),!0):(this.deleteSlot(!0),!1)},d.prototype.dispatchCustomEvent=function(e,t){t=ProperMedia.utils.mergeObject({slot:this.name,event:e},t=t||{}),t=new CustomEvent("properEvents",{detail:t});window.dispatchEvent(t)},d.prototype.getGPTSlots=function(){var e=[];return 0==_e.isolated&&this.googletag().cmd.push(function(){e=this.googletag().pubads().getSlots().map(function(e){return e.getSlotElementId()})}.bind(this)),e},d.prototype.isSlotDefinedInGPT=function(){return!!this.div_id&&-1!==this.getGPTSlots().indexOf(this.div_id)},d.prototype.removeCreative=function(){var e;0<this.refresh.count&&ProperMedia.utils.deepAccess(this,"displayed_ad.bidder")&&(e=Ar(this.displayed_ad.bidder),void 0!==de[e]&&"function"==typeof de[e].removeCreative&&de[e].removeCreative(this))},d.prototype.removeElemFromDOM=function(){var e=window.top.document.getElementById(this.div_id);e&&(e=-1!==e.parentNode.className.indexOf("proper-ad-unit")?e.parentNode:e).parentNode.removeChild(e)},d.prototype.deleteSlot=function(e){0==this.kill_slot&&(this.kill_slot=!0,this.refresh.enabled=0,this.resetBidData(),this.lazyload.enabled=0,this.destroyDfpSlot(),_e.viewability_tracker.removeElement(this.div_id),e&&this.getElement()&&this.removeElemFromDOM(),_e.getSlotFromPageObject(this.name,[this.type])&&delete _e.slots[this.type][this.name],le.mylog("Deleted Slot: "+this.name))},d.prototype.destroyDfpSlot=function(){0==_e.isolated&&this.isSlotDefinedInGPT()&&(this.googletag().cmd.push(function(){this.googletag().destroySlots([this.dfp_slot])}.bind(this)),this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.mapped_dfp_sizes=0)},d);function d(e,t,i,r){this.name="",this.dfp_name="",this.number=0,this.type="",this.div_id="",this.max_tier=0,this.size="0x0",this.sizes=[],this.default_size=[0,0],this.min_width=0,this.min_height=0,this.interstitial=!1,this.last_displayed_ts=0,this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.google_tag=null,this.mapped_dfp_sizes=0,this.dfp_enabled_services=!1,this.dfp_targeting={},this.auction_send_complete=!1,this.winning_ad={},this.displayed_ad={},this.displayed=0,this.delay_handle=null,this.auction_started_ts=null,this.max_timeout_handle=null,this.max_timeout_met=!1,this.max_timeout=1200,this.wait_interval=50,this.wait_interval_handle=null,this.min_time_on_page=2e3,this.rebuild_timeout_handle=null,this.exclude_advertiser=[],this.advertiserId=0,this.report_ad_tool=0,this.video_player=null,this.video_type="",this.ad_types=[],this.sticky=0,this.adl_blocked=!1,this.sticky_settings={brand:1,close_btn:1,disable_on_close:0,freq_cap_enabled:0,freq_cap:0,position:"right"},this.refresh={enabled:0,max:5,count:0,interval:6e4,min_interval:15e3,current_interval:6e4,inview_interval:15e3,exclude_dfp:0},this.floors={backup:.15,sizes:{}},this.lazyload={enabled:1,inFetchZone:!1,inRenderZone:!1,fetchMarginPercent:0,renderMarginPercent:0},this.viewability={viewable:!1,activeTab:!0,entered_inview_ts:0,total_time_inview:0},this.dynamic={enabled:!1,cssplacement:"after",cssselector:"",instance_number:0,child_name:"",css_ad:"",css_page:""},this.tracking_times={built_ts:0,bids_ready_ts:0,dfp_sent_ts:0,dfp_returned_ts:0,creative_on_page:0},this.gam_mcm={enabled:!1,child_network_id:""},this.kill_slot=!1,this.buildSlot(e,t,i,r)}var p=function(e,t,i){this.slot=null,this.auto_insert=!1,this.auto_inserted=!1,this.player_settings={id:"",div_id:"",dfp_ad_unit:"",video_id:"",video_type:"",number_of_ads:10,autoplay:1,backfill:!1,backfill_id:"",small_player:"desktop_ad",small_player_bottom:100,ad_failure_limit:5,vast_timeout:5e3,no_ads_no_player:!1},this.getElement=function(){return top.document.getElementById(this.player_settings.div_id)},this.init=function(e,t,i){this.slot=i,this.checkAutoInsert(),this.setPlayerSettings(e,t.player_settings)},this.checkAutoInsert=function(){var e=top.document.getElementById(this.slot.div_id);e&&(e.classList.contains("propervideo-main_player_container")||e.hasAttribute("data-video-id"))?(this.div_id=this.slot.div_id,this.auto_insert=!1):this.auto_insert=!0},this.setPlayerSettings=function(e,t){var i=this.player_settings.div_id||e+"-"+ProperMedia.utils.makeid(10);(t=ProperMedia.utils.mergeObject({},this.player_settings,t||{},{id:e,div_id:i})).autoplay=t.autoplay?1:0,this.player_settings=ProperMedia.utils.deepCopy(t)},this.insertPlayer=function(){var e,t=top.document.getElementById(this.slot.div_id);t&&this.auto_insert&&(S.getElementById(this.player_settings.div_id)?(window.top.propervideotag=window.top.propervideotag||[],this.auto_inserted&&"outstream"==this.player_settings.video_type?window.top.propervideotag.push(function(){window.top.propervideo_display(this.player_settings.div_id,this.slot.name,ce.site_name,"outstream_restart")}.bind(this)):window.top.propervideotag.push(function(){window.top.propervideo_display(this.player_settings.div_id,this.slot.name,ce.site_name)}.bind(this))):(this.slot.getElement().innerHTML="",!ce.dfp_per_slot||(e=top.document.getElementById(this.slot.div_id+"-iframe"))&&(e.style.width="0px",e.style.height="0px"),e=this.buildPlayerElem(),t.prepend(e),this.auto_inserted=!0))},this.removePlayer=function(){try{var e=top.document.getElementById(this.player_settings.div_id);e&&(this.auto_inserted=!1,e.remove()),this.destroyVideoPlayerObj()}catch(e){}},this.destroyVideoPlayer=function(){this.removePlayer();var e=ProperMedia.utils.deepAccess(ce,"ad_slots."+this.slot.type+"."+this.slot.name)||{};this.slot.setRefresh(e),this.slot.refreshSlot()},this.destroyVideoPlayerObj=function(){if("undefined"!=typeof ProperMediaVideo&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications")&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications").length)for(var e=0;e<ProperMediaVideo.ad_project.applications.length;e++)if(ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications."+e+".video_player.destroy_player")&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications."+e+".div_name")==this.player_settings.div_id){ProperMediaVideo.ad_project.applications[e].video_player.destroy_player();break}},this.buildPlayerElem=function(){if("instream"==this.player_settings.video_type){(t=S.createElement("div")).id=this.player_settings.div_id,t.setAttribute("data-video-id",this.player_settings.video_id),t.setAttribute("data-small-player",this.player_settings.small_player),this.player_settings.number_of_ads&&t.setAttribute("data-number-of-ads",this.player_settings.number_of_ads),this.player_settings.autoplay&&t.setAttribute("data-autoplay",this.player_settings.autoplay?1:0);var e='var window.top.propervideotag = window.top.propervideotag || []; window.top.propervideotag.push(function(){ window.top.propervideo_display("'+this.player_settings.div_id+'", "'+this.slot.name+'", "'+this.slot.name+'"); });';return(i=S.createElement("script")).type="text/javascript",i.appendChild(S.createTextNode(e)),t.appendChild(i),t}if("outstream"==this.player_settings.video_type){var t;(t=S.createElement("div")).id=this.player_settings.div_id,t.setAttribute("data-auto-injected",!0),t.setAttribute("data-video-id",ce.site_name+"-"+this.player_settings.video_type),t.setAttribute("data-outstream",this.player_settings.video_type),t.setAttribute("data-small-player",this.player_settings.small_player),t.setAttribute("data-backfill",this.player_settings.backfill),this.player_settings.backfill&&this.player_settings.backfill_id&&t.setAttribute("data-backfill-id",this.player_settings.backfill_id),this.player_settings.number_of_ads&&t.setAttribute("data-number-of-ads",this.player_settings.number_of_ads),this.player_settings.autoplay&&t.setAttribute("data-autoplay",this.player_settings.autoplay?1:0);var i,e='window.top.propervideotag = window.top.propervideotag || []; window.top.propervideotag.push(function(){ window.top.propervideo_display("'+this.player_settings.div_id+'", "'+this.slot.name+'", "'+ce.site_name+'", "outstream_restart"); });';return(i=S.createElement("script")).type="text/javascript",i.appendChild(S.createTextNode(e)),t.appendChild(i),t}},this.adSuccessCallback=function(){console.log("adSuccessCallback")},this.adErrorCallback=function(){console.log("adErrorCallback")},this.init(e,t,i)},l=(u.prototype.incrementRequestsSent=function(e){this.sent+=isNaN(parseInt(e))?0:parseInt(e),this.auction.incrementRequestsSent(e)},u.prototype.incrementBidResponseCount=function(e){this.returned+=isNaN(parseInt(e))?0:parseInt(e),this.auction.incrementBidResponseCount(e)},u.prototype.logBidResponse=function(e){e.price&&"display"==e.type&&e.adcode||"video"==e.type&&e.vast_tag?(this.responses.push(ProperMedia.utils.deepCopy(e)),this.auction.logBidResponse(e),le.log_bid(e)):this.logNoBidResponse(e)},u.prototype.logNoBidResponse=function(e){this.responses_no_bid.push(e),le.log_bid(e)},u.prototype.logBidResponseError=function(e){this.response_errors.push(e)},u);function u(e,t,i){this.bidder=e,this.auction=i,this.sent=0,this.returned=0,this.requests=t,this.responses=[],this.responses_no_bid=[],this.response_errors=[]}var D=(m.prototype.timePassed=function(){return(new Date).getTime()-this.received_ts},m.prototype.checkIfExpired=function(){return this.timePassed()>this.ttl},m.prototype.timeTillExpiration=function(){return this.ttl-this.timePassed()},m.prototype.onBidWon=function(){var e=Ar(this.bidder);void 0!==de[e]&&void 0!==de[e].onBidWon&&de[e].onBidWon(this)},m);function m(e){this.type=e.type||"display",this.gross=e.gross||0,this.price=e.price||0,this.displayed=e.displayed||0,this.dfp_price=e.dfp_price||0,this.bidder=e.bidder||"",this.size=e.size||"1x1",this.adcode=e.adcode||"",this.nurl=e.nurl||"",this.burl=e.burl||"",this.vast_tag=e.vast_tag||"",this.vast_type=e.vast_type||"",this.vpaid=e.vpaid||!1,this.video_type=e.video_type||"",this.tag_id=e.tag_id||"",this.ad_details=e.ad_details||{},this.request_url=e.request_url||"",this.response=e.response||{},this.response_ms=e.response_ms||0,this.received_ts=e.received_ts||0,this.ttl=e.ttl||12e4,this.dealid=e.dealid||"",this.cid=e.cid||"",this.crid=e.crid||"",this.adid=e.adid||"",this.adomain=e.adomain||[],this.cat=e.cat||[],this.attr=e.attr||[],this.ext=e.ext||{}}var T=function(){var s="cookie",a="localstorage";PBJS_USER_ID_OPTOUT_NAME="_pbjs_id_optout";var n={},t=[],i=[],r={},o={},e=!1,d=50,p=null,l=null,c=0;function u(e,t){var i,r,t=t?e.name+"_"+t:e.name;try{e.type===s?i=ProperMedia.utils.getCookieValue(t):e.type===a&&(""===(r=ProperMedia.utils.getDataFromLocalStorage(e.name+"_exp"))?i=ProperMedia.utils.getDataFromLocalStorage(t):r&&0<new Date(r).getTime()-Date.now()&&(i=decodeURIComponent(ProperMedia.utils.getDataFromLocalStorage(t)))),"string"==typeof i&&"{"===i.charAt(0)&&(i=ProperMedia.utils.safeJsonParse(i))}catch(e){le.mylog(e)}return i}function g(e,t){try{var i=ProperMedia.utils.isPlainObject(t)?JSON.stringify(t):t,r=new Date(Date.now()+864e5*e.expiresInDays).toUTCString();e.type===s?(ProperMedia.utils.setCookie(e.name,i,r,"Lax",null),"number"==typeof e.refreshInSeconds&&ProperMedia.utils.setCookie(e.name+"_last",(new Date).toUTCString(),r,"Lax",null)):e.type===a&&(ProperMedia.utils.setDataInLocalStorage(e.name+"_exp",r),ProperMedia.utils.setDataInLocalStorage(e.name,encodeURIComponent(i)),"number"==typeof e.refreshInSeconds&&ProperMedia.utils.setDataInLocalStorage(e.name+"_last",(new Date).toUTCString()))}catch(e){le.mylog(e)}}function m(){i=[],Object.keys(n).forEach(function(e){var t=n[e];ProperMedia.utils.deepAccess(t.excludeEid)||((e=function(e){var t={};t.source=e.source||"";var i=ProperMedia.utils.isFn(e.getValue)?e.getValue():e.idObj;if(ProperMedia.utils.deepAccess(e.excludeEid)||!ProperMedia.utils.isStr(i))return null;var r={id:i,atype:e.atype||1};!ProperMedia.utils.isFn(e.getUidExt)||(i=e.getUidExt())&&(r.ext=i);{var s;t.uids=[r],ProperMedia.utils.isFn(e.getEidExt)&&(s=e.getEidExt())&&(t.ext=s)}return t}(t))&&i.push(e),t.idObj&&(ProperMedia.utils.isPlainObject(t.idObj)&&Object.keys(t.idObj).length||ProperMedia.utils.isStr(t.idObj))&&(r[t.eid_name]=t.idObj))})}function h(){m(),1!=e&&(e=1,ProperMedia.utils.isFn(l)&&(l(),l=null),le.mylog("UserId Matching Done"),clearTimeout(p),p=null)}return{init:function(){var e;-1!==(t=[ProperMedia.utils.localStorageIsEnabled()?a:null,ProperMedia.utils.cookiesAreEnabled()?s:null].filter(function(e){return null!==e})).indexOf(s)&&ProperMedia.utils.getCookieValue(PBJS_USER_ID_OPTOUT_NAME)?le.mylog("userIds - opt-out cookie found, exit module"):-1!==t.indexOf(a)&&ProperMedia.utils.getDataFromLocalStorage(PBJS_USER_ID_OPTOUT_NAME)?le.mylog("userIds - opt-out localStorage found, exit module"):(function(){ProperMedia.utils.deepAccess(properSpecialOps,"userIdData")?o=ProperMedia.utils.deepAccess(properSpecialOps,"userIdData"):ProperMedia.utils.getCookieValue("properUserIdData")&&(o=ProperMedia.utils.getCookieValue("properUserIdData"));o&&ProperMedia.utils.isStr(o)&&(o=ProperMedia.utils.safeJsonParse(o))}(),((e=ce.userIds)&&e.identityAdapters&&Object.keys(e.identityAdapters).length?function(){var e=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(ce,"userIds.identityAdapters")||{});if(e.length){for(var t=0;t<e.length;t++){var i,r=e[t];r.name&&pe[r.name]?(i=pe[r.name],r.config&&ProperMedia.utils.isPlainObject(r.config)&&ProperMedia.utils.mergeObject(i.config,r.config),r.storage&&ProperMedia.utils.isPlainObject(r.storage)&&ProperMedia.utils.mergeObject(i.storage,r.storage),i.config.enabled&&(n[r.name]=i),ProperMedia.utils.deepAccess(n,r.name+".initialize")&&ProperMedia.utils.isFn(n[r.name].initialize)&&n[r.name].initialize(o)):le.mylog("Coudln't find identityAdapter with name: "+r.name)}0<Object.keys(n).length?L.ready(function(){Object.keys(n).forEach(function(e){!function(e){{var t,i,r,s,a;e.storage?(t=e.storage,i=u(t,void 0),r=!1,"number"==typeof t.refreshInSeconds&&(s=new Date(u(t,"last")),r=s&&Date.now()-s.getTime()>1e3*t.refreshInSeconds),!i||r?a=e.getId(i):ProperMedia.utils.isFn(e.extendId)&&(a=e.extendId(i)),ProperMedia.utils.isPlainObject(a)&&(a.id&&(g(t,a.id),i=a.id),ProperMedia.utils.isFn(a.callback)&&(e.callback=a.callback,c++)),i&&(e.idObj=e.decode(i))):e.config.value?e.idObj=e.config.value:(a=e.getId(),ProperMedia.utils.isPlainObject(a)&&(ProperMedia.utils.isFn(a.callback)&&(e.callback=a.callback,c++),a.id&&(e.idObj=e.decode(a.id))))}}(n[e])}),p=_.setTimeout(h,d),0<c?Object.keys(n).forEach(function(e){var t=n[e];ProperMedia.utils.isFn(t.callback)&&t.callback(function(e){e?(t.storage&&g(t.storage,e),t.idObj=t.decode(e)):le.mylog("UserID: "+t.name+" - request id responded with an empty value"),(0==--c?h:m)(),t.callback=void 0})}):h()}):h()}}:h)())},getUIdsObj:function(){return ProperMedia.utils.deepCopy(r||{})},setCallback:function(e){l=e},getEidsArray:function(){return ProperMedia.utils.deepCopy(i||[])},getUserIdData:function(){return ProperMedia.utils.deepCopy(o||{})},isDoneMatching:function(){return!!e}}}(),h=(f.prototype.init=function(){window.addEventListener("properActiveTab",function(e){this.setNextAuctionTimeout()}.bind(this)),window.addEventListener("properInactiveTab",function(e){le.proper_tracker(),this.clearNextAuctionTimeout()}.bind(this))},f.prototype.setSizes=function(){try{var t;this.sizes={},Object.keys(_e.slots).map(function(r){Object.keys(_e.slots[r]).length&&Object.keys(_e.slots[r]).map(function(e){if(0<_e.slots[r][e].sizes.length)for(var t=0;t<_e.slots[r][e].sizes.length;t++){var i=_e.slots[r][e].sizes[t];properSpecialOps.no_bid_limit?this.sizes[i]=99:this.sizes[i]=this.sizes[i]?this.sizes[i]+1:1}},this)},this),Object.keys(this.sizes).length||(t=ProperMedia.utils.deepAccess(ce,"auctions.resolution_size_map")||{},0<Object.keys(t).length&&Object.keys(t).forEach(function(e){_e.width>=e&&t[e].forEach(function(e){this.sizes[e]=99},this)},this))}catch(e){return le.mylog("Error setting auction sizes"),!1}return!0},f.prototype.setAuctionRounds=function(){try{var e=ge.isMobile()?"mobile":"desktop";this.auction_rounds=parseInt(ProperMedia.utils.deepAccess(ce,"auctions."+e+".rounds")||this.auction_rounds)}catch(e){return le.mylog("Error setting auction rounds"),!1}return!0},f.prototype.setMaxAuctions=function(){try{var e=ge.isMobile()?"mobile":"desktop";this.max_auctions=parseInt(ProperMedia.utils.deepAccess(ce,"auctions."+e+".max")||this.max_auctions)}catch(e){return le.mylog("Error setting max auction"),!1}return!0},f.prototype.setDefaultTimeout=function(){try{var e=ge.isMobile()?"mobile":"desktop";this.default_timeout=parseInt(ProperMedia.utils.deepAccess(ce,"auctions."+e+".timeout")||this.default_timeout)}catch(e){return le.mylog("Error setting auction default timeout"),!1}return!0},f.prototype.checkMaxAuctionsReached=function(){return!(this.auction_count<this.max_auctions)},f.prototype.setDefaultFloors=function(){try{var e=ge.isMobile()?"mobile":"desktop";this.floors=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(ce,"floors."+e)||{})}catch(e){return le.mylog("Error setting auction default floors"),!1}return!0},f.prototype.startNewAuction=function(){return T.isDoneMatching()?_e.viewability_tracker.slotsInFetchZone?(this.initialized=!0,this.setSizes(),this.setDefaultFloors(),this.setMaxAuctions(),this.setAuctionRounds(),this.setDefaultTimeout(),this.clearNextAuctionTimeout(),void this.setNextAuctionTimeout()):(le.mylog("AdPool: No slots are in the fetch zone."),_e.viewability_tracker.setCallback(this.startNewAuction.bind(this)),!1):(le.mylog("AdPool: Wait for UserId Matching To Finish."),T.setCallback(this.startNewAuction.bind(this)),!1)},f.prototype.startNewVideoAuction=function(e){this.setSizes(),this.sendVideoAuction(e),this.clearExpiredAds()},f.prototype.sendVideoAuction=function(e){le.mylog("Starting New Video Auction"),this.vid_auction_count++;e=new b(parseFloat(this.total_auctions+"."+this.vid_auction_count),"video",e);return(this.auctions[e.id]=e).sendBids(),!0},f.prototype.sendAuction=function(){if(this.checkMaxAuctionsReached())return le.mylog("Max Auctions reached: "+this.max_auctions),!1;le.mylog("Starting New Auction"),this.auction_count+=1,this.total_auctions+=1,_e.video_enabled&&this.vid_auction_count++;var e=new b(this.total_auctions);return(this.auctions[e.id]=e).sendBids(),!0},f.prototype.auctionFinished=function(e){var t;this.auctions[e]&&(t=new Event("properAuctionDone"),window.dispatchEvent(t),this.last_auction_ts=Date.now(),this.finished_auctions[e]=this.auctions[e],delete this.auctions[e],this.setNextAuctionTimeout())},f.prototype.addBidToPool=function(e){0<e.price&&(e=new D(ProperMedia.utils.deepCopy(e)),this.ads.push(e),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)}))},f.prototype.getWinningBid=function(e,t,i){var r=e.sizes,t=t||["display","video"];if(0<this.ads.length){!1!==_e.video_enabled&&e.video_player instanceof p||(t=["display"]);for(var s=0;s<this.ads.length;s++){var a=this.ads[s];if(a.checkIfExpired())this.ads.splice(s,1).pop();else if(1!=a.displayed&&-1!=t.indexOf(a.type)&&("video"!=a.type||i&&i===a.video_type)&&-1!=r.indexOf(a.size)&&!(1==e.sticky&&1==e.displayed&&0<e.refresh.count&&e.size!==a.size||0<e.refresh.count&&1==ProperMedia.utils.deepAccess(ce,"bidder_info."+a.bidder+".dont_refresh"))){var n=ce.testing_mode.enabled?0:e.getFloor(a.size);if(a.price>=n){e.winning_ad=new D(ProperMedia.utils.deepCopy(a)),this.ads.splice(s,1).pop();break}}}}},f.prototype.calcTimeout=function(){0==this.total_auctions&&0==this.auction_count||1==this.total_auctions&&1==this.auction_count&&_e.spa_settings.enabled&&_e.spa_settings.prefetch?this.timeout=0:0==this.auction_count&&0<this.total_auctions?this.timeout=this.timeSinceLastAuction()<this.min_timeout?this.min_timeout:0:this.timeout=Math.max(this.min_timeout,this.default_timeout),this.timeout=this.timeout-this.timeSinceLastAuction()},f.prototype.getTimeLeftOnRunningAuctions=function(){var t=[];try{Object.keys(this.auctions).length&&Object.keys(this.auctions).forEach(function(e){e=this.auctions[e],e=Math.max(0,e.max_timeout-e.auctionTimePassed());0<e&&t.push(e)},this)}catch(e){console.log(e)}return t},f.prototype.setNextAuctionTimeout=function(){null==this.timeout_handle&&!this.checkMaxAuctionsReached()&&this.initialized&&(this.calcTimeout(),this.timeout_handle=_.setTimeout.call(this,function(){this.clearNextAuctionTimeout(),this.sendAuction(),this.clearExpiredAds()},Math.max(0,this.timeout)))},f.prototype.clearNextAuctionTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null},f.prototype.timeSinceLastAuction=function(){return 0==this.last_auction_ts?0:Date.now()-this.last_auction_ts},f.prototype.clearExpiredAds=function(){if(0<this.ads.length)for(var e=0;e<this.ads.length;e++)this.ads[e].checkIfExpired()&&this.ads.splice(e--,1)},f.prototype.clearCachedAds=function(){le.mylog("Clearing Cached Ads"),this.ads=[],this.displayedAds=[]},f);function f(){this.initialized=!1,this.ads=[],this.displayed_ads=[],this.auctions={},this.finished_auctions={},this.total_auctions=0,this.auction_count=0,this.vid_auction_count=0,this.max_auctions=10,this.last_auction_ts=0,this.timeout_handle=null,this.timeout=58e3,this.default_timeout=58e3,this.min_timeout=3e3,this.auction_rounds=1,this.sizes={},this.floors={},this.init()}var b=(y.prototype.sendBids=function(){if(jr())return!1;this.setMaxAuctionTimeout(),this.bids_started_ts=ProperMedia.utils.getTimestampMs(),this.sendS2SBidders(),this.sendHeaderBidders(),this.bids_sent_finished=!0},y.prototype.sendS2SBidders=function(){if(!he.done_matching)return le.mylog("Wait for S2S Cookie Matching To Finish."),void(he.callback=this.sendS2SBidders.bind(this));if(this.getAuctionBidders("s2s"),0<this.auction_bidders.length){var d={},p=ge.isMobile()?"mobile":"desktop";if(this.auction_bidders.forEach(function(e){var t=ProperMedia.utils.deepAccess(ce,"bidders.s2s."+e+".tag_ids."+p)||!1;if(!t||0==t.length)return!1;var i,r=ProperMedia.utils.deepCopy(t),s=ProperMedia.utils.deepAccess(ce,"bidders.s2s."+e+".site_id")||"",a=parseInt(fe.auction_count-1)%parseInt(fe.auction_rounds),n=Object.filter(r[a]||{},function(e){return void 0!==fe.sizes[e]&&0<r[a][e].length});for(i in n){var o=fe.sizes[i];n[i].splice(o,n[i].length-o),ProperMedia.utils.deepSetValue(this,"sizes."+i,(ProperMedia.utils.deepAccess(this,"sizes."+i)||0)+o)}t=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(ce,"bidders.s2s."+e+".floors."+p)||{});0<Object.keys(n).length&&(d[e]={tag_ids:n,site_id:s,bidder_floors:t})}),0<Object.keys(d).length){this.bids.s2s=new l("s2s",d,this);try{L.ready(function(){de.s2s.send(this.bids.s2s)}.bind(this))}catch(e){console.error(e),e.bidder="s2s",g(v.computeStackTrace(e))}}}},y.prototype.sendHeaderBidders=function(){var d;this.getAuctionBidders("header"),0<this.auction_bidders.length&&(d=ge.isMobile()?"mobile":"desktop",this.shuffleBidders(),this.auction_bidders.forEach(function(e){var t=ProperMedia.utils.deepAccess(ce,"bidders.header."+e+".tag_ids."+d)||!1,i=Ar(e);if(!t||0==t.length)return!1;var r,s=ProperMedia.utils.deepCopy(t),a=parseInt(fe.auction_count-1)%parseInt(fe.auction_rounds),n=Object.filter(s[a]||{},function(e){return void 0!==fe.sizes[e]&&0<s[a][e].length});for(r in n){var o=fe.sizes[r];n[r].splice(o,n[r].length-o),ProperMedia.utils.deepSetValue(this,"sizes."+r,(ProperMedia.utils.deepAccess(this,"sizes."+r)||0)+o)}if(0<Object.keys(n).length){this.bids[e]=new l(e,n,this);try{void 0!==de[i]&&L.ready(function(){de[i].send(this.bids[e])}.bind(this))}catch(e){console.error(e),e.bidder=i,g(v.computeStackTrace(e))}}},this))},y.prototype.getAuctionBidders=function(s){this.auction_bidders=Object.keys(ce.bidders[s]||{}).filter(function(e){var t=ce.bidders[s][e],i=(Ar(e),ProperMedia.utils.deepAccess(ce,"bidder_info."+e+".demand_type")||"display"),r=ProperMedia.utils.deepAccess(ce,"bidder_info."+e+".video_type")||null;return(!this.demand_type||this.demand_type==i)&&("display"==i||"video"==i&&1==_e.video_enabled&&(!this.video_type||this.video_type==r))&&(t.enabled&&!t.test&&!ce.testing_mode.bidder||ce.testing_mode.bidder==e)},this)},y.prototype.setAuctionTopAverages=function(){var n;properSpecialOps.dynamicFloors&&(n={},ue.sessionData.bid_avg=ue.sessionData.bid_avg||{},Object.keys(this.sizes).forEach(function(e){n[e]=[]}.bind(this)),this.ads.forEach(function(e){void 0===n[e.size]&&(n[e.size]=[]),n[e.size].length<3&&n[e.size].push(e.price)}),Object.keys(n).forEach(function(e){for(var t=fe.sizes[e],i=t+1,r=ProperMedia.utils.deepAccess(fe,"floors.sizes."+e)||fe.floors.backup,s=0;s<t;s++){var a=n[e][s]||r;ue.sessionData.bid_avg[e]||(i=t,ue.sessionData.bid_avg[e]=0),ue.sessionData.bid_avg[e]=ue.sessionData.bid_avg[e]+a}ue.sessionData.bid_avg[e]=Number((ue.sessionData.bid_avg[e]/i).toFixed(2))}),ue.setSessionCookie())},y.prototype.shuffleBidders=function(){for(var e,t,i=this.auction_bidders.length;0!==i;)t=Math.floor(Math.random()*i),e=this.auction_bidders[--i],this.auction_bidders[i]=this.auction_bidders[t],this.auction_bidders[t]=e;return this.auction_bidders},y.prototype.setMaxAuctionTimeout=function(){null==this.max_timeout_handle&&(this.max_timeout_handle=_.setTimeout.call(this,function(){this.auctionFinished()},this.max_timeout))},y.prototype.clearMaxAuctionTimeout=function(){clearTimeout(this.max_timeout_handle),this.max_timeout_handle=null},y.prototype.incrementRequestsSent=function(e){this.bids_sent+=isNaN(parseInt(e))?0:parseInt(e),this.requests_sent++},y.prototype.incrementBidResponseCount=function(e){this.bids_returned+=isNaN(parseInt(e))?0:parseInt(e),this.bids_sent<=this.bids_returned&&1==this.bids_sent_finished&&0==this.finished&&this.auctionFinished()},y.prototype.getPerecentBidsReady=function(){return 0<this.bids_sent?(this.bids_returned/this.bids_sent*100).toFixed(2):0},y.prototype.logBidResponse=function(e){var t=new D(ProperMedia.utils.deepCopy(e));this.ads.push(t),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)}),fe.addBidToPool(e)},y.prototype.calcAuctionMs=function(){return 0<this.bids_done_ts&&0<this.bids_started_ts&&this.bids_done_ts>this.bids_started_ts?this.bids_done_ts-this.bids_started_ts:-1},y.prototype.auctionTimePassed=function(){return(new Date).getTime()-this.bids_started_ts},y.prototype.auctionFinished=function(){this.finished||(this.finished=!0,le.mylog("Auction Finished"),this.clearMaxAuctionTimeout(),this.bids_done_ts=ProperMedia.utils.getTimestampMs(),fe.auctionFinished(this.id),this.setAuctionTopAverages())},y);function y(e,t,i){this.id=ProperMedia.utils.makeid(5),this.requests_sent=0,this.ads=[],this.bid_errors=[],this.bids={},this.bids_sent_finished=!1,this.bids_sent=0,this.bids_returned=0,this.bids_started_ts=0,this.bids_done_ts=0,this.auction_bidders=[],this.max_timeout=1500,this.max_timeout_handle=null,this.auction_num=e,this.demand_type=t||null,this.video_type=i||null,this.sizes={},this.finished=!1}var w,x,P,M,k,j,A={init:function(e){w=ProperMedia.utils.mergeObject(w,e)},checkThresholds:function(){var t={price:0,pixel:""};w.thresholds.map(function(e){e.price>t.price&&ue.sessionData.revenue>e.price&&(t=e)}),t.price&&function(e){{var t,i;w.enabled&&e.pixel&&(t="audience-pixel-"+e.price.toString(),S.getElementById(t)||(le.mylog("Place audience pixel: "+e.price),(i=S.createElement("iframe")).id=t,i.width="0px",i.height="0px",i.style.display="none",S.getElementsByTagName("body")[0].appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.write(e.pixel.toString()),i.contentWindow.document.close()))}}(t)}},E=(x=!(w={enabled:!1,thresholds:[]}),{add:function(i){return propertag.cmd.push(function(){var e=ProperMedia.utils.isArray(i)?i[0]:i,t=ProperMedia.utils.deepAccess(e,"demand_type"),e=ProperMedia.utils.deepAccess(e,"bidder");"video"!=t&&"display"!=t&&t||!function(e){if(ProperMedia.utils.deepAccess(ce,"bidders.header."+e+".enabled")){if(!ProperMedia.utils.hasLocalStorage())return 1;e=ProperMedia.utils.getDataFromLocalStorage("ProperUserSync."+e);return!e||2592e6<Date.now()-parseInt(e)}}(e)||(k=k.concat(i),O())}),!0},start:function(){x||(x=!0,(M=S.createElement("div")).id=C("us-"),M.style.display="none",M.style.width="0",M.style.height="0",S.body.appendChild(M)),O()}});function C(e){return(e||"")+Math.random().toString(16).substr(2)}function R(){k.splice(0,5).forEach(function(e){j[e.type](e)}),0===k.length&&(clearInterval(P),P=null)}function O(){x&&0!==k.length&&null===P&&(P=setInterval(R,1500),R())}var z,q,B,N,V,U,F,L=(z={gdpr:!(j={iframe:function(e){var t=S.createElement("iframe");t.id=C("i-"),t.frameborder="0",t.allowtransparency="true",t.marginheight="0",t.marginwidth="0",t.width="0",t.hspace="0",t.vspace="0",t.height="0",t.scrolling="no",t.style.display="none",t.style.width="0",t.style.height="0",t.sandbox="allow-scripts allow-same-origin",t.src=e.url,t.onload=function(){ProperMedia.utils.setDataInLocalStorage("ProperUserSync."+e.bidder,Date.now())},M.appendChild(t)},image:function(e){var t=new Image;t.src=e.url,t.onload=function(){ProperMedia.utils.setDataInLocalStorage("ProperUserSync."+e.bidder,Date.now())}}}),uspc:!(k=[])},q=[],B={cmpPresent:M=P=null,ready:function(e){q.push(e)},consentReady:function(e){z[e]=!0,("gdpr"==e&&te&&te.gdprApplies||"uspc"==e&&J&&J.cmpApplies||0==ProperMedia.utils.objectValues(z).filter(function(e){return 0==e}).length)&&(B.ready=function(e){e(B)},q.forEach(B.ready),q.length=0)}}),J=(V=1,Y=50,U={cmpPresent:null},F=0,W(H,G),0===Y?H(void 0,hookConfig):N=setTimeout(function(){L.consentReady("uspc"),G("USPAPI workflow exceeded timeout threshold.")},Y),U);function W(i,r){var s,t,a,n,o=(s={},{consentDataCallback:function(e,t){t&&e.uspString&&(s.usPrivacy=e.uspString),s.usPrivacy?i(s):r("Unable to get USP consent string.")}}),d={};try{U.cmpPresent=!0,window.__uspapi("getUSPData",V,o.consentDataCallback)}catch(e){for(var p,l=window;!p;){try{l.frames.__uspapiLocator&&(p=l)}catch(e){}if(l===window.top)break;l=l.parent}if(!p)return U.cmpPresent=!1,r("USP CMP not found.");t="getUSPData",a=p,n=o.consentDataCallback,window.__uspapi=function(e,t,i){var r=Math.random()+"",t={__uspapiCall:{command:e,version:t,callId:r}};d[r]=i,a.postMessage(t,"*")},window.addEventListener("message",c,!1),window.__uspapi(t,V,function(e,t){window.removeEventListener("message",c,!1),n(e,t)})}function c(e){e=e&&e.data&&e.data.__uspapiReturn;e&&e.callId&&void 0!==d[e.callId]&&(d[e.callId](e.returnValue,e.success),delete d[e.callId])}console.log("USP CMP found.")}function H(e){!e||!e.usPrivacy?G("USPAPI returned unexpected value during lookup process."):(clearTimeout(N),function(e){console.log("Received a response from CMP",e),e&&e.usPrivacy&&(U.usPrivacy=e.usPrivacy,U.cmpApplies=!(!U.usPrivacy||!U.usPrivacy.match(/^\d{1}[\w-]{1}Y[\w-]{1}$/)));L.consentReady("uspc")}(e))}function G(e,t){console.log(e),2<++F||U.cmpPresent?(clearTimeout(N),L.consentReady("uspc")):setTimeout(function(){W(H,G)},50)}var Z,Y,X,$,Q,K,ee,te=(Y=100,K={cmpVersion:0,gdprApplies:!(Q={value:Z=!0,definedInConfig:$=!1}),cmpPresent:X=null},ee=0,ie(re,se),0===Y?re(void 0):X=setTimeout(function(){se("CMP workflow exceeded timeout threshold.")}.bind(null),Y),K);function ie(i,r){function e(e,t){console.log("Received a response from CMP",e,t),t?!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus?i(e):"cmpuishown"===e.eventStatus&&(K.gdprApplies=!0,clearTimeout(X)):r("CMP unable to register callback function.  Please check CMP setup.")}var t,s=(t={},{consentDataCallback:function(e){t.getConsentData=e,a()},vendorConsentsCallback:function(e){t.getVendorConsents=e,a()}});function a(){t.getConsentData&&t.getVendorConsents&&(console.log("Received all requested responses from CMP",t),i(t))}var d={},n=function(){for(var e,t,i=window;!e;){try{if("function"==typeof i.__tcfapi||"function"==typeof i.__cmp){t="function"==typeof i.__tcfapi?(K.cmpVersion=2,i.__tcfapi):(K.cmpVersion=1,i.__cmp),e=i;break}}catch(e){}try{if(i.frames.__tcfapiLocator){K.cmpVersion=2,e=i;break}}catch(e){}try{if(i.frames.__cmpLocator){K.cmpVersion=1,e=i;break}}catch(e){}if(i===window.top)break;i=i.parent}return{cmpFrame:e,cmpFunction:t}}(),o=n.cmpFrame,n=n.cmpFunction;if(!o)return r("GDPR CMP not found.");function p(i,r){window.$sf.ext.register(1,1,function(e,t){"cmpReturn"===e&&(t="getConsentData"===i?t.vendorConsentData:t.vendorConsents,r(t))}),window.$sf.ext.cmp(i)}function l(e,n,t){var o=2===K.cmpVersion?"__tcfapi":"__cmp";window[o]=function(e,t,i){var r=Math.random()+"",s=o+"Call",a={};a[s]={command:e,parameter:t,callId:r},1!==K.cmpVersion&&(a[s].version=K.cmpVersion),d[r]=i,n.postMessage(a,"*")},window.addEventListener("message",function(e){var t=o+"Return",e="string"==typeof e.data&&e.data.includes(t)?JSON.parse(e.data):e.data;e[t]&&e[t].callId&&(t=e[t],void 0!==d[t.callId]&&d[t.callId](t.returnValue,t.success))},!1),window[o](e,void 0,t)}K.cmpPresent=!0,ProperMedia.utils.isFn(n)?(console.log("Detected CMP API is directly accessible, calling it now..."),1===K.cmpVersion?(n("getConsentData",null,s.consentDataCallback),n("getVendorConsents",null,s.vendorConsentsCallback)):2===K.cmpVersion&&n("addEventListener",K.cmpVersion,e)):1===K.cmpVersion&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(console.log("Detected Proper.io is encased in a SafeFrame and CMP is registered, calling it now..."),p("getConsentData",s.consentDataCallback),p("getVendorConsents",s.vendorConsentsCallback)):(console.log("Detected CMP is outside the current iframe where Proper.io is located, calling it now..."),1===K.cmpVersion?(l("getConsentData",o,s.consentDataCallback),l("getVendorConsents",o,s.vendorConsentsCallback)):2===K.cmpVersion&&l("addEventListener",o,e))}function re(i){var e=1===K.cmpVersion?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||ProperMedia.utils.isStr(e.getConsentData.consentData)&&ProperMedia.utils.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===K.cmpVersion?function(){var e=i&&"boolean"==typeof i.gdprApplies?i.gdprApplies:$,t=i&&i.tcString;return!("boolean"==typeof e&&(!0!==e||ProperMedia.utils.isStr(t)))}:null;Q.definedInConfig&&2===K.cmpVersion?console.log("'allowAuctionWithoutConsent' ignored for TCF 2"):Q.definedInConfig||1!==K.cmpVersion||console.log("'allowAuctionWithoutConsent' using system default: ("+Z+"."),ProperMedia.utils.isFn(e)?e(i)?se("CMP returned unexpected value during lookup process."):(clearTimeout(X),ae(i)):se("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.")}function se(e,t){console.log(e),2<++ee||K.cmpPresent?(clearTimeout(X),Q.value&&ae(void 0),L.consentReady("gdpr")):setTimeout(function(){ie(re,se)},50)}function ae(e){1===K.cmpVersion?(K.consentString=e?e.getConsentData.consentData:void 0,K.vendorData=e?e.getVendorConsents:void 0,K.gdprApplies=e?e.getConsentData.gdprApplies:$):(K.consentString=e?e.tcString:void 0,K.vendorData=e||void 0,K.gdprApplies=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:$,e&&e.addtlConsent&&ProperMedia.utils.isStr(e.addtlConsent)&&(K.addtlConsent=e.addtlConsent)),K.apiVersion=K.cmpVersion,L.consentReady("gdpr")}var ne={cdnHost:"clarium.global.ssl.fastly.net",confiantId:"TzdoClhg0h30W2CCYiFFb2rl5ww",mapBlockingType:{1:{type:"manual",desc:"Deprecated"},2:{type:"creative",desc:"Creative-based detection"},3:{type:"provider_security",desc:"Domain-based detection for unsafe domains"},4:{type:"banned_domain",desc:"Domain-based detection for banned domains"},5:{type:"provider_ibv",desc:"Domain-based detection for in-banner-video"},6:{type:"unsafejs",desc:"Javascript-based detection for unsafe ads"},7:{type:"hrap",desc:"Domain-based detection for high risk ad platform domains"}},loadDFPTag:function(e){var t;e=e||window,this.confiantId=properSpecialOps.confiantId||this.confiantId,2==properSpecialOps.confiant_version?((t=e)._clrm=t._clrm||{},t._clrm.gpt={propertyId:this.confiantId,confiantCdn:this.cdnHost,sandbox:0,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119LHsiaSI6NiwidCI6Int7Y299fTp7e3d9fXh7e2h9fSIsInAiOjUwLCJEIjowLCJyIjpbeyJ0IjoiZXgiLCJzIjpudWxsLCJ2IjoiY28ifV19XQ==",activation:"||neq|NDM5NjA3NDE2,||neq|NDk4NzQ4NDU2,||neq|NTExMjA0NTc2,||neq|ODA2NzU4NTc2,||neq|ODA2NzYxMjE2,||neq|ODEyODU5NjE2,||neq|ODEyODg1Mjk2,||neq|MTU2MTIwNzQ1Ng==",callback:v.wrap(this.callback.bind(this))},(t=S.createElement("script")).async=!0,t.src="//"+this.cdnHost+"/gpt/a/wrap.js?v2_1"):(e.confiant=e.confiant||{},e.confiant.callback=v.wrap(this.callback.bind(this)),(t=e.document.createElement("script")).async=!0,t.src="https://confiant-integrations.global.ssl.fastly.net/"+this.confiantId+"/gpt_and_prebid/config.js"),e.document.getElementsByTagName("head")[0].appendChild(t)},callback:function(e,t,i,r,s,a){var n={},o={cpm:0,size:"1x1",bidder:"dfp",blockData:arguments};if(a&&void 0!==a.dfp){var d=a.dfp.ad||null,p=a.dfp.y||null;d==ce.amazon_advertiser?o.bidder="a9":d==ce.adsense_advertiser?o.bidder="adsense":d!=ce.google_advertiser&&1!=d&&null!=d&&null==p||(o.bidder="adx");p=a.dfp.s||(a.dfp.A||"").replace("/"+ce.dfp_id+"/","")||"";if(p){p=ProperMedia.utils.extractSlotName(p);if(_e&&p){n=_e.getSlotFromPageObject(p);if(n){if(o.size=n.size,"adx"!=o.bidder&&"adsense"!=o.bidder||(p=n.getFloor(n.size),void 0!==n.winning_ad&&void 0!==n.winning_ad.dfp_price&&n.winning_ad.dfp_price>p?o.cpm=parseFloat(n.winning_ad.dfp_price)+.01:o.cpm=parseFloat(p)+.01),i&&n.getWinningBid())return void Rr(n)}else le.mylog("Confiant DFP Callback: Cannnot determin slot.")}else le.mylog("Confiant DFP Callback: Cannnot determin page.")}}this.trackBadAd(_e,o)},wrapTag:function(o,e,d){le.mylog("Running confiant: "+o.name),this.confiantId=properSpecialOps.confiantId||this.confiantId;var t=v.wrap(function(a,n,e,o,d){function p(e){return(r(e)||"")[s]("/","_")[s]("+","-")}var t=n.bidder,i=n.size,l=a.parentWindow||a.defaultView,c=l.JSON,r=l.btoa,u=l.encodeURIComponent;if(!c||!r)return!1;var g="script",m="src",s="replace",h="error",_="stringify",f="write",b="https://"+e+"/?wrapper="+u(o)+"&tpid=",v={k:{hb_bidder:[t],hb_size:[i]}};return function(){var e,t,i=p(o+"/"+v.k.hb_bidder[0]+":"+v.k.hb_size[0]),r={wh:i,wd:c.parse(c[_](v)),wr:0};s=i,e=p(c[_](r)),t=function(){a[f](n.ad)},s=b+u(s)+"&d="+e,e="err__"+ +new Date,l[e]=t,a[f]("<"+g+" on"+h+'="void('+e+'())" '+m+'="'+s+'" type="text/java'+g+'" ></'+g+">");var s={prebid:{adId:n.adId,cpm:n.cpm}},s={d:r,t:n.ad,cb:d,id:s};l[o]={},l[o][i]=s}(),a.close(),!0}),i=v.wrap(function(e,t,i,r,s,a){var n={cpm:d.price,size:d.size,bidder:d.bidder,blockData:arguments};i&&(le.mylog("Confiant blocked ad: "+o.name+" - "+n.bidder),o.winning_ad={},o.getWinningBid())?Rr(o):this.trackBadAd(_e,n)});t(e,{bidder:d.bidder,size:d.size,ad:d.adcode},this.cdnHost,this.confiantId,i.bind(this))||(le.mylog("confiant failed: "+o.name),e.write(ad.adcode))},trackBadAd:function(e,t){try{var i={client_timestamp:(new Date).getTime(),event_type:"rogue_ad",event_id:ProperMedia.utils.generateUUID(),page_id:ProperMedia.utils.generateUUID(),session_id:ProperMedia.utils.generateUUID(),bidder:t.bidder||"",user_id:ProperMedia.utils.validateValue(me.pubcid,{type:"string"}),publisher:ProperMedia.utils.validateValue(ce.site_name,{type:"string"}),rtp_file_version:ProperMedia.utils.validateValue(ce.rtp_file_version,{type:"string"}),ad_project_tag:ProperMedia.utils.validateValue(ce.rtp_file_revision,{type:"string"}),page_url:getPageUrl()||"",in_iframe:1!==ce.run_dfp_in_window,is_https:"https:"==S.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(t),error_message:this.mapBlockingType[t.blockData[0]].desc||"Confiant Flagged Ad",error_name:this.mapBlockingType[t.blockData[0]].type||"rogue_ad"};e.uuid&&""!==e.uuid&&(i.page_id=e.uuid),ProperMedia.utils.deepAccess(ue,"sessionData.uuid")&&(i.session_id=ue.sessionData.uuid),I.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(i),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}},oe={clientId:"properio",loadDFPTag:function(e){e=e||window,this.clientId=ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.clientId")||this.clientId;var t=e.document.createElement("script");t.async=!0,t.src="https://tagan.adlightning.com/"+this.clientId+"/op.js",e.document.getElementsByTagName("head")[0].appendChild(t),window.addEventListener("message",function(e){var t=e.data;"ADL_BLOCKED"===t.message&&t.adUnit&&(e=t.adUnit.split("/").pop(),(e=_e.getSlotFromPageObject(e)||_e.getSlotFromPageObject(e.replace(/_\d+$/,"")))&&((t=new Error(e.name+" data:"+JSON.stringify(t))).event_type="ADL_BLOCKED",g(t),le.mylog("ADL Blocked Ad for "+e.name),e.adl_blocked||(e.adl_blocked=!0,e.getWinningBid(),Rr(e))))})},wrapTag:function(e,t,i){le.mylog("Running AdLightning Wrapper: "+e.name);var r=encodeURIComponent(i.adcode),s=i.size.split("x"),e='<script> var urlEncodedUrl = "%%ENCODED_AD_TAG%%";<\/script>                <script src="https://tagan.adlightning.com/%%CLIENT_ID%%/blacklist_script.js" type="text/javascript"><\/script>                <script src="https://tagan.adlightning.com/%%CLIENT_ID%%/blocking_script.js" type="text/javascript"><\/script>                <script type="text/javascript">                    function createTagDetails(){                        var tagDetails = {};                        tagDetails.w = "%%WIDTH%%";                        tagDetails.h = "%%HEIGHT%%";                        tagDetails.adServerDetails = {advertiserId: "%%ADVERTISER_ID%%", campaignId: "%%CAMPAIGN_ID%%", creativeId: "%%CREATIVE_ID%%", lineitemId: "%%LINEITEM_ID%%", adServer: "%%AD_SERVER%%"};                        tagDetails.au = "%%AD_UNIT_ID%%";                        tagDetails.markupInDom = true;                        tagDetails.refreshMessage = "true";                        var timeBase36 = Date.now().toString(36);                        var random = Math.random().toString(36).substr(2).split("")                                    .map(function (c) {                                    return (Math.random() < 0.5 ? c.toUpperCase() : c); }) .join("");                        tagDetails.currentTagId="adltag_" + timeBase36 + "_" + random;                    return tagDetails;                    }                    var random = "" + Math.round(Math.random() * 1e8);                    var clientId = "%%CLIENT_ID%%";                    var site_id = random + "_" + clientId;                    window[site_id]={};                    window[site_id].tagDetails=createTagDetails();                    !function(){"use strict";"blocker"in window||(window.blocker=function(e,n,t,o,r){function i(e){var n=window.Request,t=n&&n.prototype||{};if(navigator&&navigator.sendBeacon)navigator.sendBeacon(e);else if(window.fetch){var o={method:"GET"};"keepalive"in t&&(o.keepalive=!0),window.fetch(e,o)}else{var r=new Image(1,1);"loading"in r&&(r.loading="eager"),r.src=e}}if((r=r||{}).bw){if(Math.random()<.1)for(var a="undefined"!=typeof btoa?btoa:String,x="https://"+clientId+"-tagan.adlightning.com",c=window[e]?window[e].tagDetails:{},d={siteId:clientId,url:window.top.location.href,tagDetails:c,errorData:null,errorMethod:"missing_blocker"},f=function(){var t=(new Date).getTime();"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now());return"xxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}(),l=encodeURIComponent(JSON.stringify(d)).replace(/%([0-9A-F]{2})/g,function(e,n){return String.fromCharCode("0x"+n)}),g=encodeURIComponent(a(l)),w=8e3-(x.length+100),u=Math.ceil(g.length/w),s=0,p=1;p<=u;p+=1){i(x+"/error?d="+g.substr(s,w)+"&i="+p+"-"+u+"&t="+c.currentTagId+"&r="+f+"&c="+clientId+"&z=1"),s+=w}document.write(n)}})}();                    blocker(site_id, decodeURIComponent(urlEncodedUrl) + "\x3c!--ADL_WRAPPED--\x3e", false, window, {bw:true});                <\/script>'.replace(/%%ENCODED_AD_TAG%%/g,r).replace(/%%CLIENT_ID%%/g,this.clientId).replace(/%%WIDTH%%/g,s[0]).replace(/%%HEIGHT%%/g,s[1]).replace(/%%ADVERTISER_ID%%/g,i.adid).replace(/%%CAMPAIGN_ID%%/g,i.cid).replace(/%%CREATIVE_ID%%/g,i.crid).replace(/%%LINEITEM_ID%%/g,"").replace(/%%AD_SERVER%%/g,"proper").replace(/%%AD_UNIT_ID%%/g,e.name);t.document.write(e)},addReportAd:function(e){try{var t=e.slot.getSlotElementId(),i=ProperMedia.utils.makeid(10)+"-"+t,r=S.createElement("div");r.id=i,r.className="adl-report-ad-container-parent";var s=S.createElement("div");s.className="adl-report-ad-container";var a={adlAction:"createUserReportButton",selector:"#"+i,uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:t};r.appendChild(s);var n=S.getElementById(t),o=n.parentElement.getElementsByClassName("adl-report-ad-container-parent");o&&o.length&&o[0].remove(),n&&(n.insertAdjacentElement("afterend",r),window.postMessage(a,"*"))}catch(e){le.mylog("Error creating Ad Lightning report ad button. "+JSON.stringify(e))}}},de={},pe={},le=new function(){this.log_lines={},this.autoplay_html={},this.rogue_data=[],this.saved_data={},this.bid_data={},this.interstitial_bid_data={},this.ad_info={},this.rogue_timeout=null,this.tracker_timeout=null,this.tracker_wait=250,this.init_bid_data=function(){ProperMedia.utils.deepAccess(this,"bid_data.ad_slots")&&0<Object.keys(this.bid_data.ad_slots).length&&this.proper_tracker(),"greatergood_ctg"!=ce.site_name&&"historyinorbit"!=ce.site_name&&"groovyhistory"!=ce.site_name||(this.tracker_wait=100),this.bid_data={page_guid:ProperMedia.utils.validateValue(_e.uuid,{type:"string"}),website:ProperMedia.utils.validateValue(ce.site_name,{type:"string",default_val:"unknown",max_len:40}),url:ProperMedia.utils.validateValue(_e.url,{type:"string",max_len:255}),url_path:ProperMedia.utils.validateValue(_e.path,{type:"string",max_len:150}),os:ProperMedia.utils.validateValue(ge.os_group,{type:"string",max_len:30}),browser:ProperMedia.utils.validateValue(ge.browser_group,{type:"string",max_len:30}),device:ProperMedia.utils.validateValue(ge.device_type,{type:"string",max_len:10}),use_ssl:ProperMedia.utils.validateValue(_e.use_ssl,{type:"boolean"}),is_mobile:ProperMedia.utils.validateValue("mobile"==ge.device_type,{type:"boolean"}),is_isolated:ProperMedia.utils.validateValue(_e.isolated,{type:"boolean"}),session_depth:ProperMedia.utils.validateValue(ue.sessionData.depth,{type:"number"}),session_guid:ProperMedia.utils.validateValue(ue.sessionData.uuid,{type:"string"}),resolution_width:ProperMedia.utils.validateValue(_e.width,{type:"number",max:99999}),resolution_height:ProperMedia.utils.validateValue(_e.height,{type:"number",max:99999}),rtp_file_version:ProperMedia.utils.validateValue(ce.rtp_file_version,{type:"number"}),referrer:ProperMedia.utils.validateValue(ue.sessionData.referrer,{type:"string",max_len:255}),utm_source:ProperMedia.utils.validateValue(ue.sessionData.utm_source,{type:"string",max_len:65}),utm_campaign:ProperMedia.utils.validateValue(ue.sessionData.utm_campaign,{type:"string",max_len:255}),utm_medium:ProperMedia.utils.validateValue(ue.sessionData.utm_medium,{type:"string",max_len:50}),utm_term:ProperMedia.utils.validateValue(ue.sessionData.utm_term,{type:"string",max_len:50}),utm_content:ProperMedia.utils.validateValue(ue.sessionData.utm_content,{type:"string",max_len:50}),utm_template:ProperMedia.utils.validateValue(ue.sessionData.utm_template,{type:"string",max_len:50}),utm_referrer:ProperMedia.utils.validateValue(ue.sessionData.utm_referrer,{type:"string",max_len:50}),utm_adset:ProperMedia.utils.validateValue(ue.sessionData.utm_adset,{type:"string",max_len:50}),utm_subid:ProperMedia.utils.validateValue(ue.sessionData.utm_subid,{type:"string",max_len:50}),gclid:ProperMedia.utils.validateValue(ue.sessionData.gclid,{type:"string",max_len:50}),fbclid:ProperMedia.utils.validateValue(ue.sessionData.fbclid,{type:"string",max_len:50}),category:ProperMedia.utils.validateValue(_e.page_meta.category,{type:"string",max_len:50}),editor:ProperMedia.utils.validateValue(_e.page_meta.editor,{type:"string",max_len:50}),writer:ProperMedia.utils.validateValue(_e.page_meta.writer,{type:"string",max_len:50}),buyer:ProperMedia.utils.validateValue(_e.page_meta.buyer,{type:"string",max_len:50}),page_type:ProperMedia.utils.validateValue(_e.page_meta.page_type,{type:"string",max_len:50}),split:ProperMedia.utils.validateValue(_e.page_meta.split,{type:"string",max_len:50}),tags:ProperMedia.utils.validateValue(_e.page_meta.tags.join(","),{type:"string",max_len:500}),custom:ProperMedia.utils.validateValue(JSON.stringify(_e.page_meta.custom),{type:"string",max_len:500}),ad_slots:{}},this.send_pageview_pixel()},this.send_pageview_pixel=function(){this.bid_data.ad_slots.pageview_pixel={slot_name:"pageview_pixel",bidder:"pageview_pixel",price:0,gross:0,size:"0x0",refresh_cnt:0,line_item_id:"",response_ms:0,auction_duration:0,precent_bids_ready:0,tag_id:""},this.proper_tracker()},this.log_bid=function(e){this.mylog(e.bidder+" ("+e.tag_id+"@"+e.size+") = "+e.price)},this.mylog=function(e,t){this.log_lines[t=t||"proper"]=ProperMedia.utils.checkData(this.log_lines[t]),this.log_lines[t].push(e),(1==_e.get_vars[t]||"proper"==t&&1==ProperMedia.utils.getCookieValue("proper_log"))&&console.log(e)},this.rogue_tracker=function(){var t,i;clearTimeout(this.rogue_timeout),this.rogue_timeout=null,0<this.rogue_data.length&&(t=this.rogue_data,this.rogue_data=[],i=this,I.ajax({url:"https://proper.io/ajax/tracker.php?rogue=1",method:"POST",data:"data="+JSON.stringify(t),headers:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){i.mylog("autoplay ads tracked! x"+t.length)}}))},this.proper_tracker=function(){var e,t=this;clearTimeout(this.tracker_timeout),this.tracker_timeout=null,0<Object.keys(this.bid_data.ad_slots).length&&(e=JSON.stringify(this.bid_data),this.bid_data.ad_slots={},ce.testing_mode.ids?t.mylog("Not logging winnig bids. Test IDs are being used."):I.ajax({url:"https://bids.proper.io/api/bidding",method:"POST",withCredentials:!1,data:e,success:function(e){t.mylog("bids tracked!")},error:function(e){t.mylog("error tracking bid data")}}))},this.track_rogue=function(e,t){var i={},i=void 0!==e.winning_ad.displayed&&1==e.winning_ad.displayed?e.winning_ad:{bidder:"static_tag",price:0,size:"",adcode:"[DFP STATIC TAG]"};this.mylog("rogue "+t+" detected (slot="+e.name+", bidder="+i.bidder+")"),this.rogue_data.push({rogue_type:t,bidder:i.bidder,cpm:i.price,size:i.size,slot:e.dfp_name,website:ce.site_name,device:ge.device_type,os:ge.os_group,browser:ge.browser_group,is_mobile:ge.isMobile(),tag_id:i.tag_id,ad_details:i.ad_details,split_version:ce.rtp_file_version}),clearTimeout(this.rogue_timeout),this.rogue_timeout=null,this.rogue_timeout=_.setTimeout.call(this,function(){this.rogue_tracker()},this.tracker_wait),e.getWinningBid()&&Rr(e)},this.proper_log=function(e){if("page"!=(e=e||"proper"))if("bid_table"!=e){if("bid_table_csv"!=e){if("on"==e){e="proper";var t=new Date;t.setTime(t.getTime()+36e5),S.cookie="proper_log=1; expires="+t.toGMTString()+"; path=/; SameSite=Lax;",console.log("NOTICE: Turning on persistent logging. Run proper_log('off'); to turn off.")}else if("off"==e)return e="proper",console.log("NOTICE: Turning off persistent logging."),S.cookie="proper_log=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;",_e.get_vars[e]=0,!1;for(var i=0;i<le.log_lines[e].length;i++)le.log_lines[e][i]&&console.log(le.log_lines[e][i]),_e.get_vars[e]=1;return!0}if((r=a()).length){csv_output="",header_keys=Object.keys(r[0]);for(s=0;s<header_keys.length;s++)csv_output+='"'+header_keys[s]+'"'+(s<header_keys.length-1?",":"");for(s=0;s<r.length;s++)csv_output+='\n"'+ProperMedia.utils.objectValues(r[s]).join('","')+'"';t=S.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(csv_output)),t.setAttribute("download","proper_bid_table_"+S.location.hostname+".csv"),t.style.display="none",S.body.appendChild(t),t.click(),S.body.removeChild(t)}else console.warn("No responses")}else{var r;if((r=a()).length)if(console.table)console.table(r);else for(var s=0;s<r.length;s++)console.log(r[s]);else console.warn("No responses")}else console.log(_e);function a(){var a=[],n=_e.slots;return Object.keys(_e.slots).forEach(function(s){Object.keys(_e.slots[s]).forEach(function(e){var t=n[s][e];if(t instanceof c)for(var i=0;i<t.ads.length;i++){var r=o(t.ads[i]);-1===ProperMedia.utils.indexOfObjectInArray(a,r)&&a.push(r)}t.hasWinningBid()&&(r=o(t.winning_ad),-1===ProperMedia.utils.indexOfObjectInArray(a,r)&&a.push(r))},this)},this),a;function o(e){return{slot_name:e.slot.name,size:e.size,bidder:e.bidder,time:e.response_ms,floor:e.floor,cpm:e.price,dfp_price:e.dfp_price,gross:e.gross,price:e.price,tag_id:e.tag_id,refresh_cnt:e.slot.refresh.count,displayed:e.displayed}}}}},ce=new function(){this.rtp_file_version=0,this.dfp_per_slot=0,this.prebid_version="4.25.0",this.post_id="",this.additional_domains=[],this.site_name="",this.domain="",this.domain_protection=0,this.confiant=0,this.extra_css="",this.extra_js="",this.dfp_id=5376056,this.google_advertiser=42904576,this.proper_advertiser=600883576,this.amazon_advertiser=455011336,this.adsense_advertiser=1349528536,this.report_ad_tool=0,this.gam_mcm={enabled:!1,child_network_id:""},this.testing_mode={enabled:!1,bidder:!1,ids:!1},this.video_players={},this.ad_slots={},this.isolated_urls=[],this.eb_endpoint="https://eb.proper.io/s2s",this.usync_endpoint="https://usync.proper.io/v1/usersync",this.sandbox_iframe=1,this.sandbox_options=["allow-popups","allow-pointer-lock","allow-scripts","allow-same-origin"],this.audience_pixels={enabled:!1,thresholds:[]},this.native_sizes={native_horizontal:"1x1",native_vertical:"1x1",sticky_horizontal:"1x1"},this.schain={ver:"1.0",complete:0,nodes:[]},this.refresh={desktop:{enabled:1,interval:6e4,inview_interval:15e3,max:5,exclude_dfp:0},mobile:{enabled:1,interval:3e4,inview_interval:15e3,max:5,exclude_dfp:0}},this.floors={desktop:{backup:.15,sizes:{}},mobile:{backup:.15,sizes:{}}},this.lazyload={desktop:{enabled:1,fetchMarginPercent:0,renderMarginPercent:0},mobile:{enabled:1,fetchMarginPercent:0,renderMarginPercent:0}},this.userIds={identityAdapters:{id5id:{name:"id5Id",config:{enabled:!1},storage:{}},identitylink:{name:"identityLink",config:{enabled:!1},storage:{}},pubcommonid:{name:"pubCommonId",config:{enabled:!1},storage:{}},sharedid:{name:"sharedId",config:{enabled:!1},storage:{}},publink:{name:"pubLink",config:{enabled:!1},storage:{}},fabrickid:{name:"fabrickId",config:{enabled:!1,apiKey:""},storage:{}}}},this.bidders={header:{},s2s:{}},this.bidder_info={adaptmx_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},adaptmx_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},adaptmx_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},pubmatic_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s",default_bid_ttl:6e4},sovrn_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},sonobi_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s"},gumgum_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",native_sizes:{desktop:{"1x1":"sticky_horizontal"},mobile:{"1x1":"sticky_horizontal"}}},mediagrid_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},verizon_media_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s"},aol_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",adapter_name:"s2s"},aol_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s"},engagebdr_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},magnite_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},yieldmo_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},brealtime:{rev_share:.9,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus"},districtm:{rev_share:.9,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus"},shemedia:{rev_share:.5,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon"},openx_pmp:{rev_share:1,bid_grouping:"slot"},triplelift_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"triplelift"},undertone_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"undertone"},undertone_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"undertone"},thirtythreeacross_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"thirtythreeacross"},thirtythreeacross_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"thirtythreeacross"},smart_adserver_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"smart_adserver"},smart_adserver_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"smart_adserver"},rhythmone_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"rhythmone"},rhythmone_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"rhythmone"},districtmdmx_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"districtmdmx"},districtmdmx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"districtmdmx"},amazon_tam_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9"},emx_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"emx"},emx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"emx"},sonobi_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"sonobi"},sonobi_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"sonobi"},appnexus_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus"},appnexus_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus"},ix_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix"},ix_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix"},engagebdr_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},engagebdr_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},magnite_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},magnite_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},aol_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"aol_instream"},beachfront_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"beachfront_instream"},openx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"openx_instream"},pubmatic_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"pubmatic_instream"},rubicon_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon_instream"},spotx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"spotx_instream"},beeswax_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s"},beeswax_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},beeswax_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},xandr_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s"},xandr_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},xandr_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"}}},ue=new function(){this.sessionData={uuid:"",depth:0,referrer:"",gclid:"",fbclid:"",utm_campaign:"",utm_source:"",utm_medium:"",utm_term:"",utm_content:"",utm_template:"",utm_referrer:"",utm_adset:"",utm_subid:"",revenue:0,bid_avg:{}},this.newCookieName="properSessionData",this.oldCookieName="sessionData",this.init=function(){this.getSessionCookie(),void 0!==this.sessionData.depth?this.sessionData.depth=this.sessionData.depth+1:this.sessionData.depth=1;var e=["utm_medium","utm_source","utm_campaign","utm_term","utm_content","utm_template","utm_referrer","utm_adset","utm_subid"],t=e.some(function(e){return void 0!==_e.get_vars[e]},this);""===_e.referrer||ProperMedia.utils.matchDomain(_e.domain,_e.referrer)||(this.checkForChange("referrer",_e.referrer),t=!0),t&&e.forEach(function(e){this.checkForChange(e,_e.get_vars[e]||"")},this),void 0!==this.sessionData.uuid&&""!=this.sessionData.uuid||(this.sessionData.uuid=ProperMedia.utils.generateUUID(),this.sessionData.referrer=_e.referrer),this.setSessionRevenue(0),window.proper_ad_session_uuid=this.sessionData.uuid,this.setSessionCookie()},this.checkForChange=function(e,t){this.sessionData[e]!==t&&(this.sessionData[e]=t,this.sessionData.uuid="",this.sessionData.depth=1)},this.getSessionCookie=function(){if(void 0!==ProperMedia.utils.getCookieValue(this.newCookieName)){var e=ProperMedia.utils.getCookieValue(this.newCookieName)||"",e=ProperMedia.utils.isBase64(e)?ProperMedia.utils.b64DecodeUnicode(e):decodeURIComponent(e),e=ProperMedia.utils.safeJsonParse(e)||{};ProperMedia.utils.mergeObject(this.sessionData,e)}else if(void 0!==ProperMedia.utils.getCookieValue(this.oldCookieName)){var t=ProperMedia.utils.safeJsonParse(ProperMedia.utils.getCookieValue(this.oldCookieName));if(null!=t){for(key in this.sessionData)void 0!==t[key]&&(this.sessionData[key]=t[key]);void 0!==t.encoded&&1==t.encoded&&(this.sessionData.referrer=decodeURIComponent(this.sessionData.referrer),this.sessionData.utm_campaign=decodeURIComponent(this.sessionData.utm_campaign),this.sessionData.utm_source=decodeURIComponent(this.sessionData.utm_source),this.sessionData.utm_medium=decodeURIComponent(this.sessionData.utm_medium),this.sessionData.utm_term=decodeURIComponent(this.sessionData.utm_term),this.sessionData.utm_content=decodeURIComponent(this.sessionData.utm_content),this.sessionData.utm_template=decodeURIComponent(this.sessionData.utm_template),this.sessionData.utm_referrer=decodeURIComponent(this.sessionData.utm_referrer),this.sessionData.utm_adset=decodeURIComponent(this.sessionData.utm_adset),this.sessionData.utm_subid=decodeURIComponent(this.sessionData.utm_subid))}}},this.setSessionCookie=function(){var e=new Date;e.setTime(e.getTime()+18e5);var t=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(this.sessionData));S.cookie=this.newCookieName+"="+t+"; expires="+e.toGMTString()+"; path=/; domain=."+_e.domain+"; SameSite=Lax;"},this.deleteCookie=function(e){var t=new Date;t.setTime(t.getTime()-6e4),S.cookie=e+"=; expires="+t.toGMTString()+"; path=/; domain=."+_e.domain+"; SameSite=Lax;"},this.setSessionRevenue=function(e){this.sessionData.revenue+=parseFloat(e)/1e3||0,le.mylog("Session revenue: "+this.sessionData.revenue),this.setSessionCookie(),A.checkThresholds()}},ge=new function(){this.browser="",this.browser_group="",this.device_type="",this.os="",this.os_group="",this.init=function(){var t={browser:{IE:"Explorer","Chrome Headless":"Chrome","Chrome WebView":"Chrome"},device:{console:"desktop"}};"undefined"!=typeof UAParser&&!function(){var e=(new UAParser).getResult();this.browser=e.browser.name,e.browser.version&&(this.browser+=" "+e.browser.version),this.browser_group=e.browser.name,void 0!==t.browser&&void 0!==t.browser[this.browser_group]&&(this.browser_group=t.browser[this.browser_group]),this.device_type=e.device.type,this.device_type||(this.device_type="desktop"),void 0!==t.device&&void 0!==t.device[this.device_type]&&(this.device_type=t.device[this.device_type]),this.os=e.os.name,e.os.version&&(this.os+=" "+e.os.version),this.os_group=e.os.name}.bind(this)(),window.device={browser:this.browser,browser_group:this.browser_group,device_type:this.device_type,os:this.os,os_group:this.os_group}},this.isMobile=function(){return"mobile"==this.device_type},this.init()},me=new function(){this.lang="",this.tzone="",this.member="no",this.facebook_user="unknown",this.pubcid="",this.init=function(){this.tzone=(new Date).getTimezoneOffset(),this.lang=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,this.pubcid=pe.pubCommonId.getValue()||ProperMedia.utils.generateUUID()},this.stickyFreqCapHandler={setStickyClosedCookie:function(){var e=new Date;e.setHours(23,59,59,0),S.cookie="properStickyClosed=true; expires="+e.toGMTString()+"; path=/; SameSite=Lax;"},getStickyClosedCookie:function(){return"true"==ProperMedia.utils.getCookieValue("properStickyClosed")},setStickyUnitImps:function(e){var t=new Date;t.setHours(23,59,59,0),S.cookie="properStickyUnitImps="+parseInt(e)+"; expires="+t.toGMTString()+"; path=/; SameSite=Lax;"},getStickyUnitImps:function(){return NaN!=parseInt(ProperMedia.utils.getCookieValue("properStickyUnitImps"))?parseInt(ProperMedia.utils.getCookieValue("properStickyUnitImps")):0},incrementStickyUnitImps:function(){var e=this.getStickyUnitImps()||0;this.setStickyUnitImps(e+=1)},expireCookie:function(e){S.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;"}}},he=new function(){this.proper_uid="",this.supported_bidders={sovrn:1,sonobi:1,yieldmo:1,adaptmx:1,magnite:1,pubmatic:1,districtm:1,mediagrid:1,engagebdr:1,aol_instream:1,verizon_media:1,magnite_instream:1,magnite_outstream:1,engagebdr_instream:1,engagebdr_outstream:1},this.bidderUserSyncValues={},this.cookie_map={magnite:["magnite","magnite_instream","magnite_outstream"],engagebdr:["engagebdr","engagebdr_instream","engagebdr_outstream"]},this.done_matching=!1,this.sent=0,this.received=0,this.timeout=1e3,this.timeout_handle=null,this.callback=null,this.init=function(){this.proper_uid=me.pubcid||pe.pubCommonId.getValue(),ProperMedia.utils.getCookieValue("proper_tracker_cookie")&&ProperMedia.utils.deleteCookie("proper_tracker_cookie","Lax","."+_e.domain),Object.keys(this.supported_bidders).forEach(function(e){this.getBidderUserSyncValue(e)},this)},this.cookieMatch=function(){var t=[];Object.keys(ProperMedia.utils.deepAccess(ce,"bidders.s2s")||{}).forEach(function(e){ProperMedia.utils.deepAccess(ce,"bidders.s2s."+e+".enabled")&&t.push(e)});for(var e=0;e<t.length;e++){var i=t[e].replace("_s2s","");1==this.supported_bidders[i]&&(this.bidderUserSyncValues[i]||L.ready(function(){this.requestCookieMatch(i)}.bind(this)),"pubmatic"==i&&I(function(){try{var e=S.createElement("iframe");e.style.display="none",e.src="https://ads.pubmatic.com/AdServer/js/user_sync.html?p=156374&s=206686&predirect=",S.body.appendChild(e)}catch(e){console.log(e),g(v.computeStackTrace(e))}}))}0==this.sent?this.matchingDone():this.addTimeout()},this.requestCookieMatch=function(e){le.mylog("Start "+e+" Cookie Matching");var t=[];te.cmpPresent&&(t.push("gdpr="+te.gdprApplies.toString()),te.consentString&&t.push("gdpr_consent="+te.consentString)),J.cmpPresent&&J.usPrivacy&&t.push("us_privacy="+J.usPrivacy);var i=t.join("&"),r=ce.usync_endpoint+"?bidder="+e+"&proper_uid="+this.proper_uid+"&uid=",s="",a="",t=!1;"adaptmx"==e?a="https://prebid.a-mo.net/cchain/0?cb="+encodeURIComponent(r)+"&"+i:"sovrn"==e?(s="$UID",a="https://ap.lijit.com/pixel?redir="+encodeURIComponent(r+s)+"&"+i):"pubmatic"==e?(s="#PM_USER_ID",a="https://image6.pubmatic.com/AdServer/UCookieSetPug?oid=1&rd="+encodeURIComponent(r+s)+"&"+i):"districtm"==e?(s="$UID",a="https://ib.adnxs.com/getuid?"+encodeURIComponent(r+s)+"&"+i):"sonobi"==e?(s="[UID]",a="https://sync.go.sonobi.com/us?loc="+encodeURIComponent(r+s)+"&"+i):"yieldmo"==e?(s="$UID",a="https://ads.yieldmo.com/pbsync?&redirectUri="+encodeURIComponent(r+s)+"&"+i):"mediagrid"==e?(s="${BSW_UUID}",a="https://x.bidswitch.net/check_uuid/"+encodeURIComponent(r+s)+"?"+i):"verizon_media"==e?(a="https://ups.analytics.yahoo.com/ups/58355/sync?redir=true",t=function(){this.received++}.bind(this)):"aol_instream"==e?a="https://pixel.advertising.com/ups/58316/sync?redir=true&"+i:"engagebdr"==e||"engagebdr_instream"==e||"engagebdr_outstream"==e?(s="[UUID]",a="https://match.bnmla.com/usersync?sspid=1000227&redir="+encodeURIComponent(r+s)):"magnite"!=e&&"magnite_instream"!=e&&"magnite_outstream"!=e||(S.getElementById(s="multisync-iframe")||((e=S.createElement("iframe")).id=s,e.width=0,e.height=0,e.marginWidth=0,e.marginHeight=0,e.scrolling="no",e.frameBorder=0,e.style.border="0px",e.style.display="none",e.src="https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?p=8777&endpoint=us-west",S.body.appendChild(e))),""!=a&&(this.sent++,I.ajax({url:a,requestType:"jsonp",onload:t}))},this.logMatchingResponse=function(e,i,t){this.updateBidderUserSyncData(e,t),this.received++,"sonobi"==e&&I(function(){try{var e=S.createElement("script");e.src="//sync.go.sonobi.com/uc.js?pubid="+(i||this.proper_uid),e.async=!0,e.type="text/javascript";var t=S.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}catch(e){console.log(e),g(v.computeStackTrace(e))}}),this.received>=this.sent&&this.matchingDone()},this.getBidderUserSyncValue=function(e){ProperMedia.utils.cookiesAreEnabled()&&ProperMedia.utils.getCookieValue(e+"_cookie")&&(this.bidderUserSyncValues[e]=ProperMedia.utils.getCookieValue(e+"_cookie")),ProperMedia.utils.hasLocalStorage()&&(this.bidderUserSyncValues[e]?(ProperMedia.utils.setDataInLocalStorage("ProperS2SUserSync."+e,this.bidderUserSyncValues[e]),ProperMedia.utils.deleteCookie(e+"_cookie","Lax","."+_e.domain)):ProperMedia.utils.getDataFromLocalStorage("ProperS2SUserSync."+e)&&(this.bidderUserSyncValues[e]=ProperMedia.utils.getDataFromLocalStorage("ProperS2SUserSync."+e)))},this.updateBidderUserSyncData=function(e,t){if(e&&t)for(var i,r,s,a,n=(e=e.replace("_s2s","")).replace(/_instream|_outstream/,""),o=this.cookie_map[n]||[e],d=0;d<o.length;d++)this.bidderUserSyncValues[o[d]]=t,ProperMedia.utils.hasLocalStorage()?ProperMedia.utils.setDataInLocalStorage("ProperS2SUserSync."+o[d],t):ProperMedia.utils.cookiesAreEnabled()&&((a=new Date).setTime(a.getTime()+5184e6),i="."+_e.domain,2<(s=_e.domain.split(".")).length&&(s.shift(),i="."+s.join(".")),r=o[d]+"_cookie",s=t,a=a.toGMTString(),ProperMedia.utils.setCookie(r,s,a,"Lax",i))},this.matchingDone=function(){1!=this.done_matching&&(this.done_matching=1,ProperMedia.utils.isFn(this.callback)&&(this.callback(),this.callback=null),le.mylog("S2S Cookie Matching Done"),this.resetTimeout())},this.addTimeout=function(){var e=this;this.timeout_handle=_.setTimeout.call(e,function(){e.resetTimeout(),e.matchingDone()},e.timeout)},this.resetTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null}},_e=new n,fe=new h,be=new function(){this.enabled=!1,this.resize_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_console_elem=null,this.view_refresh_timer=null,this.slot_refresh_interval=null,this.debug_style_elem=null,this.createDebugConsole=function(e){this.enabled=!0,this.debug_console_elem||(this.debug_console_elem=S.createElement("div"),this.debug_console_elem.id="proper-debug-console",S.body.appendChild(this.debug_console_elem)),this.resize_elem||(this.resize_elem=S.createElement("div"),this.resize_elem.innerHTML="&#8942;",this.resize_elem.id="proper-debug-console-resizer",this.debug_console_elem.appendChild(this.resize_elem)),this.breadcrumb_elem||(this.breadcrumb_elem=S.createElement("div"),this.breadcrumb_elem.id="proper-debug-console-breadcrumb",this.debug_console_elem.appendChild(this.breadcrumb_elem)),this.debug_cont_elem||(this.debug_cont_elem=S.createElement("div"),this.debug_cont_elem.id="proper-debug-console-cont",this.debug_console_elem.appendChild(this.debug_cont_elem)),this.addCssStyle(),this.resize_elem&&this.breadcrumb_elem&&this.setDragAndResizeActions(),this.addSlotOverlays(),this.createOverview()},this.addCssStyle=function(){this.debug_style_elem||(this.debug_style_elem=S.createElement("style"),this.debug_style_elem.id="proper-debug-styling",this.debug_style_elem.innerHTML=this.debug_console_css,S.body.appendChild(this.debug_style_elem))},this.createDebugOverlays=function(){this.addCssStyle(),this.addSlotOverlays(),this.refreshViewInterval()},this.addSlotOverlays=function(){Object.keys(_e.slots).forEach(function(t){Object.keys(_e.slots[t]).forEach(function(e){e=_e.slots[t][e];this.addSlotOverlay(e)},this)},this)},this.addSlotOverlay=function(e){return e instanceof c&&(e.getElement()&&(s="proper_debug_overlay_"+e.name,r=S.getElementById(s),(t=S.getElementById(e.div_id))&&r&&r.parentNode.removeChild(r),(i=S.createElement("div")).id=s,i.classList.add("proper-debug-overlay"),(r=S.createElement("div")).classList.add("proper-debug-overlay-background"),(s=S.createElement("div")).classList.add("proper-debug-overlay-text"),s.innerHTML=[e.name,"Size: "+e.displayed_ad.size,"Bidder: "+e.displayed_ad.bidder,"CPM: "+e.displayed_ad.price].join("<br>"),I(r).on("click",function(){this.toggleMobileSticky(!0),this.createSlotView(e)}.bind(this)),i.append(s),i.append(r),t.appendChild(i)),!0);var t,i,r,s},this.toggleMobileSticky=function(e){e=e?"remove":"toggle";S.body.classList[e]("proper-debug-pinned"),S.getElementById("proper-debug-console").classList[e]("pinned")},this.destroyDebugConsole=function(){this.enabled=!1,this.debug_console_elem&&this.debug_console_elem.parentNode.removeChild(this.debug_console_elem),this.debug_style_elem&&this.debug_style_elem.parentNode.removeChild(this.debug_style_elem),this.view_refresh_timer&&clearTimeout(this.view_refresh_timer),this.view_refresh_timer=null,this.debug_console_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_style_elem=null,this.resize_elem=null,Object.keys(_e.slots).forEach(function(t){Object.keys(_e.slots[t]).forEach(function(e){e=_e.slots[t][e];this.removeSlotOverlay(e)},this)},this)},this.removeSlotOverlay=function(e){if(!(e instanceof c))return!1;e=e.getElement();return e&&I(e).parent().find(".proper-debug-overlay").remove(),!0},this.refreshViewInterval=function(){clearTimeout(this.slot_refresh_interval),this.slot_refresh_interval=r.setInterval.call(this,this.loadViewCallback,1500)},this.refreshViewTimer=function(e,t){clearTimeout(this.view_refresh_timer),this.view_refresh_timer=_.setTimeout.call(this,this.loadViewCallback,1500,e,t)},this.loadViewCallback=function(e,t){this.addSlotOverlays(),"overview"==e?this.createOverview():"page"==e?this.createPageView(t):"slot"==e?this.createSlotView(t):"ad_pool"==e?this.createAdPoolView(t):"auction"==e&&this.createAuctionView(t)},this.createBreadcrumb=function(r){this.breadcrumb_elem.innerHTML="";var e=S.createElement("span");I(e).addClass("proper-debug-mobile-pin-btn"),e.innerHTML="&#8595;",I(e).on("click",function(){this.toggleMobileSticky()}.bind(this)),this.breadcrumb_elem.appendChild(e),Object.keys(r).forEach(function(e){var t=r[e],i=S.createElement("div");I(i).addClass("proper-debug-breadcrumb"),i.innerHTML=t.text,I(i).on("click",function(){this.loadViewCallback(t.text.replaceAll(" ","_"),t.obj)}.bind(this)),this.breadcrumb_elem.appendChild(i),e<r.length-1?(i=S.createElement("div"),I(i).addClass("proper-debug-breadcrumb-spacer"),this.breadcrumb_elem.appendChild(i)):e==r.length-1&&this.refreshViewTimer(t.text,t.obj)},this);e=S.createElement("span");I(e).addClass("proper-debug-close-console-btn"),e.innerHTML="&times;",I(e).on("click",function(){this.destroyDebugConsole()}.bind(this)),this.breadcrumb_elem.appendChild(e)},this.createTitleElement=function(e){var t=S.createElement("div");I(t).addClass("proper-debug-cont-title"),t.style.cssText="padding: 4px; margin: 4px; font-size: 1em; font-weight: 700; display: inline-block;",I(t).html(e),this.debug_cont_elem.appendChild(t)},this.createStateElements=function(i){var r=S.createElement("div");I(r).addClass("proper-debug-state-cont"),this.debug_cont_elem.appendChild(r),Object.keys(i).forEach(function(e){var t=S.createElement("div");I(t).addClass("proper-debug-state-cell"),i[e]||I(t).addClass("proper-debug-state-cell red"),I(t).html(e),r.appendChild(t)},this)},this.createOverview=function(){this.createBreadcrumb([{text:"overview",obj:{}}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Sections");var e=S.createElement("div");I(e).addClass("proper-debug-sections-cont"),this.debug_cont_elem.appendChild(e);var t=S.createElement("button");I(t).addClass("proper-debug-page-cell"),_e instanceof n==0&&I(t).addClass("proper-debug-page-cell red"),I(t).html("Page &amp; Slots"),I(t).on("click",function(){this.createPageView(_e)}.bind(this)),e.appendChild(t);t=S.createElement("button");I(t).addClass("proper-debug-ad-pool-cell"),0==fe.ads.length&&I(t).addClass("proper-debug-ad-pool-cell red"),I(t).html("Ad Pool &amp; Auctions"),I(t).on("click",function(){this.createAdPoolView(fe)}.bind(this)),e.appendChild(t),this.createTitleElement("Device");t=[{property:"OS",value:ge.os},{property:"OS Group",value:ge.os_group},{property:"Browser",value:ge.browser},{property:"Browser Group",value:ge.browser_group},{property:"Device Type",value:ge.device_type},{property:"User Agent",value:navigator.userAgent}];this.createTable("#proper-debug-console-cont",t,!1),this.createTitleElement("Session Data");t=[{property:"UUID",value:ue.sessionData.uuid},{property:"Depth",value:ue.sessionData.depth},{property:"Referrer",value:ue.sessionData.referrer},{property:"UTM campaign",value:ue.sessionData.utm_campaign},{property:"UTM source",value:ue.sessionData.utm_source},{property:"UTM medium",value:ue.sessionData.utm_medium},{property:"UTM term",value:ue.sessionData.utm_term},{property:"UTM content",value:ue.sessionData.utm_content}];this.createTable("#proper-debug-console-cont",t,!1),this.createTitleElement("Special Ops");t=S.createElement("pre");t.innerHTML=JSON.stringify(properSpecialOps,void 0,2),this.debug_cont_elem.appendChild(t),this.debug_cont_elem.appendChild(S.createElement("hr"))},this.createPageView=function(t){this.createBreadcrumb([{text:"overview",obj:{}},{text:"page",obj:t}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var r=S.createElement("div");I(r).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(r),Object.keys(_e.slots).forEach(function(i){Object.keys(_e.slots[i]).forEach(function(e){var t=_e.slots[i][e],e=(t.getElement(),S.createElement("button"));I(e).addClass("proper-debug-page-slot-cell"),I(e).html(t.name),I(e).on("click",function(){this.createSlotView(t)}.bind(this)),r.appendChild(e)},this)},this),this.createTitleElement("States");var e={};1!==t.isolated&&0==ce.dfp_per_slot&&(e["DFP Init"]=_e.dfp_init,void 0!==_e.dfp_enabled_services&&1==_e.dfp_enabled_services&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(e["DFP Single Request Enabled"]=1)),0<Object.keys(e).length&&this.createStateElements(e),this.createTitleElement("Page Data");e=[{property:"UUID",value:t.uuid},{property:"Url",value:t.url},{property:"Referrer",value:t.referrer},{property:"Protocol",value:t.protocol},{property:"Canonical url",value:t.canonical_url},{property:"Isolated",value:t.isolated},{property:"Width",value:t.width},{property:"Height",value:t.height},{property:"Post id",value:t.post_id},{property:"SPA enabled",value:t.spa_settings.enabled}];1==t.spa_settings.enabled&&(e=e.concat([{property:"SPA gallery id",value:t.spa_settings.gallery_id},{property:"SPA gallery url",value:t.spa_settings.gallery_base_url},{property:"SPA page number",value:t.spa_settings.page_number},{property:"SPA prefetch enabled",value:t.spa_settings.prefetch}])),this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Page Meta");var i=[];Object.keys(t.page_meta).forEach(function(e){i.push({property:e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),value:"object"==typeof t.page_meta[e]?JSON.stringify(t.page_meta[e]):t.page_meta[e]})}),this.createTable("#proper-debug-console-cont",i,!1)},this.createSlotView=function(e){this.createBreadcrumb([{text:"overview",obj:{}},{text:"page",obj:_e},{text:"slot",obj:e}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var s=S.createElement("div");I(s).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(s);var a=e.name.toString();Object.keys(_e.slots).forEach(function(r){Object.keys(_e.slots[r]).forEach(function(e){console.log(typeof a,typeof e);var t=_e.slots[r][e],i=(t.getElement(),S.createElement("button"));I(i).addClass("proper-debug-page-slot-cell"),a==e&&(I(i).addClass("proper-debug-page-slot-cell active"),console.log("ADDED",e)),I(i).html(t.name),I(i).on("click",function(){this.createSlotView(t)}.bind(this)),s.appendChild(i)},this)},this),this.createTitleElement("States");var t={"In DOM":e.getElement()?1:0};0==_e.isolated&&(1==ce.dfp_per_slot?(t["Slot DFP Init"]=e.dfp_init,1==e.dfp_enabled_services&&"function"==typeof e.googletag().pubads().isSRA&&e.googletag().pubads().isSRA()&&(t["DFP Single Request"]=1)):(t["DFP Init"]=_e.dfp_init,1==_e.dfp_enabled_services&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(t["DFP Single Request Enabled"]=0)),t["Mapped DFP Sizes"]=e.mapped_dfp_sizes,t["DFP Ready"]=e.dfp_ready,t["DFP Sent"]=e.dfp_sent,e.refresh.enabled&&0<e.refresh.count&&(t["DFP Refreshed"]=e.dfp_refreshed)),t.Displayed=e.displayed,this.createStateElements(t),this.createTitleElement(e.name);var i=S.createElement("div");I(i).addClass("proper-debug-scroll-slot-inview"),i.style.cssText="display: inline-block; cursor: pointer;",I(i).html("&#128065;"),I(i).on("click",function(){e.getElement().scrollIntoView()}.bind(this)),this.debug_cont_elem.appendChild(i);var r,t=e.sizes||[],i=0==e.viewability.viewable?e.viewability.total_time_inview:e.viewability.total_time_inview+e.getTimeInview(),i=[{property:"Type",value:e.type},{property:"Size",value:e.size},{property:"Sizes",value:t.join(", ")},{property:"Default size",value:e.default_size.join("x")},{property:"Div ID",value:e.div_id},{property:"Number",value:e.number},{property:"Refresh",value:e.refresh.enabled},{property:"Refresh cnt",value:e.refresh.count},{property:"Refresh max",value:e.refresh.max},{property:"Refresh interval",value:e.refresh.current_interval},{property:"Refresh inview interval",value:e.refresh.inview_interval},{property:"Viewable",value:e.viewability.viewable},{property:"Time inview",value:i},{property:"Sticky",value:e.sticky}];i=(i=1==e.sticky?i.concat([{property:"Position",value:e.sticky_settings.position},{property:"Brand",value:e.sticky_settings.brand},{property:"Close btn",value:e.sticky_settings.close_btn},{property:"Disable on close",value:e.sticky_settings.disable_on_close},{property:"Freq cap enabled",value:e.sticky_settings.freq_cap_enabled},{property:"Freq cap",value:e.sticky_settings.freq_cap}]):i).concat([{property:"Lazyload enabled",value:e.lazyload.enabled}]),i=(i=e.lazyload.enabled?i.concat([{property:"In fetch zone",value:e.lazyload.inFetchZone},{property:"In render zone",value:e.lazyload.inRenderZone},{property:"Fetch zone %",value:e.lazyload.fetchMarginPercent+"%"},{property:"Render zone %",value:e.lazyload.renderMarginPercent+"%"}]):i).concat([{property:"Dynamic enabled",value:e.dynamic.enabled}]),e.dynamic.enabled&&(i=i.concat([{property:"CSS Placement",value:e.dynamic.cssplacement},{property:"CSS Selector",value:e.dynamic.cssselector},{property:"Instance number",value:e.dynamic.instance_number}])),1==_e.spa_settings.enabled&&1==_e.spa_settings.prefetch&&(i=i.concat([{property:"Prefetch enabled",value:1}])),this.createTable("#proper-debug-console-cont",i,!1),"video"==e.type&&e.video_player instanceof p&&(this.createTitleElement("Video Player"),r=[{property:"ID",value:(r=ProperMedia.utils.deepAccess(e,"video_player.player_settings")||{}).id},{property:"Div ID",value:r.div_id},{property:"DFP Ad Unit",value:r.dfp_ad_unit},{property:"Video ID",value:r.video_id},{property:"Video Type",value:r.video_type},{property:"Number of Ads",value:r.number_of_ads},{property:"Autoplay",value:r.autoplay},{property:"Backfill",value:r.backfill},{property:"Backfill ID",value:r.backfill_id},{property:"Small Player",value:r.small_player},{property:"Small Player Bottom",value:r.small_player_bottom},{property:"Ad Failure Limit",value:r.ad_failure_limit},{property:"Vast Timeout",value:r.vast_timeout},{property:"No Ads No Player",value:r.no_ads_no_player}],i=i.concat([{property:"Lazyload enabled",value:e.lazyload.enabled}]),this.createTable("#proper-debug-console-cont",r,!1)),1==e.displayed&&0<Object.keys(e.displayed_ad).length&&(this.createTitleElement("Displayed Ad"),r=Math.max(0,ProperMedia.utils.getTimePassed(e.tracking_times.dfp_sent_ts,e.tracking_times.dfp_returned_ts)),n=[{property:"Bidder",value:e.displayed_ad.bidder},{property:"Media Type",value:e.displayed_ad.type},{property:"Size",value:e.displayed_ad.size},{property:"Price",value:e.displayed_ad.price},{property:"Gross",value:e.displayed_ad.gross},{property:"DFP price",value:e.displayed_ad.dfp_price},{property:"Tag ID",value:e.displayed_ad.tag_id||""},{property:"Campaign ID",value:e.displayed_ad.cid},{property:"Creative ID",value:e.displayed_ad.crid},{property:"Deal ID",value:e.displayed_ad.dealid},{property:"Ad ID",value:e.displayed_ad.adid},{property:"Ad Domain",value:JSON.stringify(e.displayed_ad.adomain)},{property:"Categories",value:JSON.stringify(e.displayed_ad.cat)},{property:"Attributes",value:JSON.stringify(e.displayed_ad.attr)},{property:"Extensions",value:JSON.stringify(e.displayed_ad.ext)}],n=(n=ProperMedia.utils.deepAccess(ce,"bidders.header."+e.displayed_ad.bidder)||ProperMedia.utils.deepAccess(ce,"bidders.s2s."+e.displayed_ad.bidder)?n.concat([{property:"Header Response Time",value:e.displayed_ad.response_ms+" ms"}]):n).concat([{property:"DFP Response Time",value:r+" ms"}]),this.createTable("#proper-debug-console-cont",n,!1)),this.createTitleElement("Floors");var n=S.createElement("pre");n.innerHTML=JSON.stringify({floors:e.floors},void 0,2),this.debug_cont_elem.appendChild(n)},this.createAdPoolView=function(i){this.createBreadcrumb([{text:"overview",obj:{}},{text:"ad pool",obj:i}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Auctions");var r=S.createElement("div");I(r).addClass("proper-debug-auction-cont"),this.debug_cont_elem.appendChild(r),Object.keys(i.finished_auctions).forEach(function(e){var t=i.finished_auctions[e],e=(t.bids_sent,S.createElement("button"));I(e).addClass("proper-debug-auction-cell"),I(e).html("Auction "+t.auction_num),I(e).on("click",function(){this.createAuctionView(t,i)}.bind(this)),r.appendChild(e)},this),Object.keys(i.auctions).forEach(function(e){var t=i.auctions[e],e=(t.bids_sent,S.createElement("button"));I(e).addClass("proper-debug-auction-cell"),I(e).html("Auction "+t.auction_num),I(e).on("click",function(){this.createAuctionView(t,i)}.bind(this)),r.appendChild(e)},this),this.debug_cont_elem.appendChild(S.createElement("hr")),this.createTitleElement("Bidders");var s=S.createElement("div");I(s).addClass("proper-debug-bidders-cont"),this.debug_cont_elem.appendChild(s),Object.keys(ce.bidders).forEach(function(r){Object.keys(ce.bidders[r]).forEach(function(e){var t=ce.bidders[r][e],i=S.createElement("div");I(i).addClass("proper-debug-bidder-cell"),t.enabled||I(i).addClass("red"),I(i).html(e),s.appendChild(i)},this)},this);var e=S.createElement("pre");e.innerHTML=JSON.stringify({"dynamic floors":ue.sessionData.bid_avg},void 0,2),this.debug_cont_elem.appendChild(e),this.debug_cont_elem.appendChild(S.createElement("hr")),this.createTitleElement("Bids ("+i.ads.length+")");for(var t=[],a=0;a<i.ads.length;a++){var n=i.ads[a];t.push({bidder:n.bidder,type:n.type,size:n.size,gross:n.gross,price:n.price,dfp_price:n.dfp_price,tag_id:n.tag_id,response_ms:n.response_ms,ttl:n.ttl,dealid:n.dealid})}this.createTable("#proper-debug-console-cont",t,!0),this.createTitleElement("Displayed Bids");for(t=[],a=0;a<i.displayed_ads.length;a++){n=i.displayed_ads[a];t.push({bidder:n.bidder,type:n.type,size:n.size,gross:n.gross,price:n.price,dfp_price:n.dfp_price,tag_id:n.tag_id,response_ms:n.response_ms,ttl:n.ttl,dealid:n.dealid})}this.createTable("#proper-debug-console-cont",t,!0)},this.createAuctionView=function(s){this.createBreadcrumb([{text:"overview",obj:{}},{text:"ad pool",obj:fe},{text:"auction",obj:s}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Auction Data");var e=[{property:"Network Requests",value:s.requests_sent},{property:"Bids returned / sent",value:s.bids_returned+" / "+s.bids_sent},{property:"Bids sent",value:s.bids_started_ts?1:0},{property:"Bids ready",value:s.bids_done_ts?1:0},{property:"Auction ms",value:s.calcAuctionMs()},{property:"Max timeout",value:s.max_timeout}];this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Bids");var a=[];0<Object.keys(s.bids).length&&Object.keys(s.bids).forEach(function(e){var t=s.bids[e];if(0<t.responses.length)for(var i=0;i<t.responses.length;i++){var r=t.responses[i];a.push({bidder:r.bidder,displayed:r.displayed,type:r.type,size:r.size,gross:r.gross,price:r.price,dfp_price:r.dfp_price,tag_id:r.tag_id,"response ms":r.response_ms,ttl:r.ttl})}}),this.createTable("#proper-debug-console-cont",a,!0),this.createTitleElement("No Bid Responses");a=[];0<Object.keys(s.bids).length&&Object.keys(s.bids).forEach(function(e){var t=s.bids[e];if(0<t.responses_no_bid.length)for(var i=0;i<t.responses_no_bid.length;i++){var r=t.responses_no_bid[i];a.push({bidder:r.bidder,type:r.type,tag_id:r.tag_id,"response ms":r.response_ms,ttl:r.ttl})}}),this.createTable("#proper-debug-console-cont",a,!0),this.createTitleElement("Errored Bid Requests");a=[];0<Object.keys(s.bids).length&&Object.keys(s.bids).forEach(function(e){var t=s.bids[e];if(0<t.response_errors.length)for(var i=0;i<t.response_errors.length;i++){var r=t.response_errors[i];a.push({bidder:r.bidder,status:r.status,statusText:r.statusText,responseMs:r.response_ms,timeoutMs:r.timeout})}}),this.createTable("#proper-debug-console-cont",a,!0)},this.createTable=function(n,o,d){var p;!function(){p=S.createElement("table"),I(p).addClass("proper-debug-table"),p.style.cssText="margin: 5px;",I(n).append(p);for(var e=function(){for(var e=[],t=S.createElement("tr"),i=0;i<o.length;i++){var r,s;for(r in o[i])0==e.includes(r)&&(e.push(r),(s=S.createElement("th")).innerHTML=r,I(t).append(s))}1==d&&I(p).append(t);return e}(),t=0;t<o.length;t++){for(var i=S.createElement("tr"),r=0;r<e.length;r++){var s=o[t][e[r]];null==s&&(s="");var a=S.createElement("td");a.style.cssText="padding: 5px;",a.innerHTML=s,I(i).append(a)}I(p).append(i)}}()},this.setDragAndResizeActions=function(){var i=20,r=0,s=0,t=0,a=0,n=0,o=0,d=this.debug_console_elem,e=this.resize_elem,p=this.breadcrumb_elem;function l(e){var t=r+(e.pageY-a),e=s+(e.pageX-o);i<t&&(d.style.height=t+"px"),i<e&&(d.style.width=e+"px")}function c(e){console.log(t,a),d.style.top=t+(e.pageY-a)+"px",d.style.left=n+(e.pageX-o)+"px"}function u(){window.removeEventListener("mousemove",l)}function g(){window.removeEventListener("mousemove",c)}e.addEventListener("mousedown",function(e){e.preventDefault(),r=parseFloat(getComputedStyle(d,null).getPropertyValue("height").replace("px","")),s=parseFloat(getComputedStyle(d,null).getPropertyValue("width").replace("px","")),t=d.getBoundingClientRect().top,a=e.pageY,n=d.getBoundingClientRect().left,o=e.pageX,window.addEventListener("mousemove",l),window.addEventListener("mouseup",u)}),p.addEventListener("mousedown",function(e){e.preventDefault(),t=d.getBoundingClientRect().top,a=e.pageY,n=d.getBoundingClientRect().left,o=e.pageX,window.addEventListener("mousemove",c),window.addEventListener("mouseup",g)})},this.css_values={fontMedium:"12px",fontLarge:"16px",maxZ:2147483647,purple:"#2C3050",purpleLight:"#555F9E",purpleDark:"#1A1D3E",green:"#44B558",greenLight:"#57EB73",greenDark:"#008C2B",grayLight:"#f6f8fa",grayDark:"#3b565d"},this.debug_console_css="\t\t@keyframes console-tween-in {\t\t\tfrom {left: -500px}\t\t\tto {left: 15px}\t\t}\t\t#proper-debug-console {\t\t\tbackground: "+this.css_values.grayLight+";\t\t\tz-index: "+this.css_values.maxZ+";\t\t\tposition: fixed;\t\t\ttop: 15px;\t\t\tleft: 15px;\t\t\twidth: calc(100% - 30px);\t\t\toverflow: auto;\t\t\theight: 500px;\t\t\twidth: 600px;\t\t\tborder-radius: 5px;\t\t\tcolor:"+this.css_values.grayDark+';\t\t\tfont-size:12px !important;\t\t\tmax-width: calc(100vw - 30px);\t\t\tbox-shadow: 0 0 0 7px rgba(255,255,255,0.7), 0 10px 10px 0 rgba(0,0,0,0.65), inset 0 -4px 0 0 white;\t\t\tanimation: console-tween-in 500ms ease-out;\t\t}#proper-debug-console, #proper-debug-console * {\t\t\t font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif !important;\t\t}\t\t#proper-debug-console.short {\t\t\theight:250px;\t\t}#proper-debug-console-cont {\t\t\tpadding: 8px 8px;\t\t}\t\t#proper-debug-console-resizer {\t\t\twidth: 12px;\t\t\theight: 20px;\t\t\tposition: sticky;\t\t\tz-index: 9999999;\t\t\tbackground: white;\t\t\tcolor: gray;\t\t\tfont-size:16px;\t\t\tdisplay:flex;\t\t\talign-items:center;\t\t\tjustify-content:center;\t\t\tcursor: nwse-resize;\t\t\ttop:calc(100% - 20px);\t\t\tleft:calc(100% - 12px);\t\t\tmargin-bottom: -20px;\t\t}\t\t#proper-debug-console-breadcrumb {\t\t\tfont-weight: bold;\t\t\tborder-radius: 6px 6px 0 0;\t\t\tpadding-left: 11px;\t\t\tbackground: '+this.css_values.purple+";\t\t\tposition: sticky;\t\t\ttop:0;\t\t\tz-index: 999;\t\t\tcursor: move;\t\t\tbox-shadow:inset 0 0 0 4px "+this.css_values.grayLight+";\t\t\tdisplay:flex;\t\t\theight:50px;\t\t}.proper-debug-breadcrumb {\t\t\tmargin: 0px 3px;\t\t\tcursor: pointer;\t\t\tdisplay:block;\t\t\tcolor:white;\t\t}.proper-debug-breadcrumb:not(:last-of-type){\t\t\topacity:0.7;\t\t}\t\t#proper-debug-console-breadcrumb > * {\t\t\tdisplay:flex;\t\t\talign-items:center;\t\t\ttext-transform: capitalize;\t\t}.proper-debug-breadcrumb-spacer {\t\t\tmargin-right:3px;\t\t}.proper-debug-breadcrumb-spacer:after {\t\t\tcontent:'';\t\t\twidth: 4px;\t\t\theight:4px;\t\t\tborder-top: solid 1px white;\t\t\tborder-right: solid 1px white;\t\t\ttransform: rotate(45deg);\t\t\topacity:0.7;\t\t}\t\t.proper-debug-close-console-btn {\t\t\tpadding: 4px;\t\t\tmargin: 0 12px 0 auto;\t\t\tcursor: pointer;\t\t\tdisplay: inline-block;\t\t\tfloat: right;\t\t\tfont-size:21px;\t\t\tfont-family:'Futura', sans-serif !important;\t\t\tfont-weight:normal;\t\t\tcolor: white;\t\t}\t\t#proper-debug-console-cont {\t\t\tdisplay:flex;\t\t\tflex-direction:column;\t\t}#proper-debug-console-cont > * {\t\t\tflex: 1 1 100%;\t\t\tmargin:6px 0 0 0 !important;\t\t\tpadding:0;\t\t}\t\t.proper-debug-overlay-text {\t\t\ttext-align: left;\t\t\tz-index: "+(this.css_values.maxZ-1)+";\t\t\tpadding: 4px 8px 8px 8px;\t\t\tposition: absolute;\t\t\ttop: 0px;\t\t\tleft: 0px;\t\t\topacity: .90;\t\t\tbackground: "+this.css_values.greenLight+";\t\t\tfont-size: "+this.css_values.fontMedium+";\t\t\tline-height: 1.3em;\t\t\tcolor: black;\t\t}\t\t.proper-ad-unit.ad-sticky.sticky-btm .proper-debug-overlay-text{\t\t\ttop:auto;\t\t\tbottom:0;\t\t}\t\t.proper-debug-overlay-background {\t\t\tcursor: pointer;\t\t\tbox-shadow: 0 0 0 4px "+this.css_values.greenLight+";\t\t\tz-index: "+(this.css_values.maxZ-2)+";\t\t\tposition: absolute;\t\t\ttop: 0px;\t\t\tbottom: 0px;\t\t\tleft: 0px;\t\t\tright: 0px;\t\t\tmax-width: calc(100vw - 8px);\t\t\tmargin:0 auto;\t\t}\t\t.proper-debug-page-slot-cell {\t\t\tborder: 2px solid black;\t\t\tpadding: 4px;\t\t\tmargin: 4px;\t\t\twidth: fit-content;\t\t\tdisplay: inline-block;\t\t\tcursor: pointer;\t\t}.proper-debug-page-slot-cell.active {\t\t\tbackground:"+this.css_values.greenLight+" !important\t\t}\t\t.proper-debug-state-cell,\t\t.proper-debug-bidder-cell {\t\t\tpadding: 4px 6px 4px 18px;\t\t\tmargin: 4px;\t\t\twidth: fit-content;\t\t\tdisplay: inline-block;\t\t\tposition:relative;\t\t\tbackground: white;\t\t\tborder-radius:30px;\t\t\tbox-shadow: 0 1px 5px 0 rgba(0,0,0,0.1);\t\t}.proper-debug-state-cell:before,\t\t.proper-debug-bidder-cell:before{\t\t\tcontent:'';\t\t\twidth:8px;\t\t\theight:8px;\t\t\tposition: absolute;\t\t\tleft: 5px;\t\t\ttop: 6px;\t\t\tz-index:3;\t\t\tmargin-right:5px;\t\t\tbackground-image: linear-gradient("+this.css_values.greenLight+","+this.css_values.greenDark+");\t\t\tborder-radius: 5px;\t\t\tbox-shadow: inset 0 0 2px 0 "+this.css_values.greenLight+";\t\t}.proper-debug-state-cell.red,\t\t.proper-debug-bidder-cell.red {\t\t\tcolor:red;\t\t}.proper-debug-state-cell.red:before,\t\t.proper-debug-bidder-cell.red:before {\t\t\tbackground:red;\t\t\tbox-shadow:none;\t\t}\t\t.proper-debug-state-cell{\t\t\tborder-radius:0;\t\t}.proper-debug-state-cell:first-of-type {\t\t\tborder-radius: 30px 0 0 30px;\t\t}\t\t.proper-debug-state-cell:last-of-type {\t\t\tborder-radius: 0 30px 30px 0;\t\t}.proper-debug-state-cell:first-of-type:last-of-type{\t\t\tborder-radius: 30px;\t\t}\t\t.proper-debug-state-cell:not(:last-of-type) {\t\t\tmargin-right:-2px;\t\t}\t\t.proper-ad-unit,\t\t.proper-ad-insert {\t\t\tbackground: "+this.css_values.greenDark+"AA;\t\t}.proper-ad-unit:hover,\t\t.proper-ad-insert:hover {\t\t\tbackground: "+this.css_values.greenLight+";\t\t}\t\t#proper-debug-console table {\t\t\tborder-top: solid 2px "+this.css_values.purple+";\t\t\tbackground:white;\t\t\tborder-bottom: solid 1px #ccc;\t\t\tline-height:1.4em;\t\t}#proper-debug-console table td:not(:first-of-type){\t\t\tborder-left: solid 1px #ccc;\t\t}#proper-debug-console table td:first-of-type{\t\t\tmin-width:100px;\t\t\tbackground:white;\t\t\twidth:1px;\t\t\tfont-weight:bold;\t\t}#proper-debug-console table th {\t\t\tfont-weight:bold;\t\t\tborder-bottom:solid 1px #cccccc80;\t\t}\t\t#proper-debug-console hr {\t\t\tborder:none;\t\t\tborder-bottom: solid 1px "+this.css_values.grayDark+";\t\t\topacity:0.3;\t\t}\t\t#proper-debug-console button {\t\t\t-webkit-appearance:none;\t\t\tcursor:pointer;\t\t\tborder:none;\t\t\tborder-radius: 4px;\t\t\tpadding: 5px 9px;\t\t\tfont-weight:bold;\t\t\tcolor:white;\t\t\tbackground:"+this.css_values.green+";\t\t\tdisplay:inline-block;\t\t}#proper-debug-console button:not(:hover) {\t\t\topacity:0.9;\t\t}\t\t#proper-debug-console button.red {\t\t\tbackground:red;\t\t}\t\t.proper-debug-mobile-pin-btn {\t\t\tdisplay:none !important;\t\t\tbackground:white;\t\t\twidth:24px;\t\t\theight:24px;\t\t\tfont-weight:bold;\t\t\tborder-radius: 4px;\t\t\tmargin-top:13px;\t\t\tmargin-right:6px;\t\t\tcursor:pointer;\t\t\tjustify-content:center;\t\t\talign-items:center;\t\t}\t\t@media screen and (max-width: 727px){\t\t\t#proper-debug-console {\t\t\t\tmax-width:100vw !important;\t\t\t\twidth:100vw !important;\t\t\t\tposition:fixed !important;\t\t\t\tleft:0 !important;\t\t\t\ttop: auto !important;\t\t\t\tbottom:0 !important;\t\t\t\tbox-shadow: none !important;\t\t\t\tanimation:none !important;\t\t\t\tmax-height:500px !important;\t\t\t\ttransition: max-height 250ms !important;\t\t\t}\t\t\t#proper-debug-console.pinned {\t\t\t\tmax-height:50px !important;\t\t\t}\t\t\t#proper-debug-console.pinned .proper-debug-mobile-pin-btn{\t\t\t\ttransform: scaleY(-1);\t\t\t}\t\t\t#proper-debug-console-breadcrumb {\t\t\t\tcursor: default !important;\t\t\t}\t\t\t#proper-debug-console-resizer {\t\t\t\tdisplay:none;\t\t\t}\t\t\t.proper-debug-mobile-pin-btn {\t\t\t\tdisplay:flex !important;\t\t\t}\t\t\tbody.proper-debug-pinned .proper-ad-unit.sticky-btm{\t\t\t\ttransform: translateY(-50px);\t\t\t}\t\t}\t\t"},h=(ve.prototype.initialize=function(e){e.email?this.email=e.email:this.config.urlParameter&&ProperMedia.utils.deepAccess(_e,"get_vars."+this.config.urlParameter)?this.email=_e.get_vars[this.config.urlParameter]:ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_email")?this.email=ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_email"):ProperMedia.utils.getCookieValue("proper_lre")&&(this.email=ProperMedia.utils.getCookieValue("proper_lre")),this.email&&(this.config.ats_enabled=!0,ProperMedia.utils.isBase64(this.email)&&(this.email=ProperMedia.utils.b64DecodeUnicode(this.email))),ProperMedia.utils.deepAccess(e,"emailHashes")?(this.config.ats_enabled=!0,this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(e,"emailHashes"))||[]):ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_emailHashes")&&(this.config.ats_enabled=!0,this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_emailHashes"))||[]),this.config.ats_enabled&&this.loadASTScript()},ve.prototype.loadASTScript=function(){var e=window.top.document.createElement("script");e.onload=function(){var e={placementID:this.config.placementID};this.email&&(e.email=this.email.toLowerCase().trim()),this.emailHashes&&this.emailHashes.length&&(e.emailHashes=this.emailHashes),window.top.ats.start(e),this.getIdCalled&&!this.astCalled&&this.callAst()}.bind(this),e.src="https://ats.rlcdn.com/ats.js",window.top.document.body.appendChild(e)},ve.prototype.decode=function(e){return e||void 0},ve.prototype.getValue=function(){return this.idObj||void 0},ve.prototype.getId=function(){this.getIdCalled=!0;return{callback:function(e){this.astCallback=e,this.config.ats_enabled?this.callAst():this.getEnvelope()}}},ve.prototype.callAst=function(){window.top.ats&&this.getIdCalled&&!this.astCalled&&(this.astCalled=!0,le.mylog("identityLink: ATS exists!"),window.top.ats.retrieveEnvelope(function(e){e?(le.mylog("identityLink: An envelope can be retrieved from ATS!"),ye(!0),this.astCallback(ProperMedia.utils.safeJsonParse(e).envelope||"")):this.getEnvelope()}.bind(this)))},ve.prototype.getEnvelope=function(){var e,t,i;ProperMedia.utils.getCookieValue("_lr_retry_request")?this.astCallback():(i=(e=te&&"boolean"==typeof te.gdprApplies&&te.gdprApplies?1:0)?te.consentString:"",t=2===ProperMedia.utils.deepAccess(te,"vendorData.tcfPolicyVersion"),!e||i&&""!==i?(t="https://api.rlcdn.com/api/identity/envelope?pid="+this.config.placementID+(e?(t?"&ct=4&cv=":"&ct=1&cv=")+i:""),(i=new Date).setTime(i.getTime()+36e5),ProperMedia.utils.setCookie("_lr_retry_request","true",i.toUTCString()),le.mylog("identityLink: A 3P retrieval is attempted!"),ye(!1),I.ajax({url:t,method:"GET",requestType:"cors",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){le.mylog(e)}this.astCallback(t&&t.envelope?t.envelope:"")}.bind(this),error:function(e){le.mylog("identityLink: identityLink: ID fetch encountered an error "+JSON.stringify(e)),this.astCallback()}.bind(this)})):le.mylog("identityLink: Consent string is required to call envelope API."))},ve);function ve(){this.name="identityLink",this.eid_name="idl_env",this.envelope="",this.email="",this.emailHashes=[],this.source="liveramp.com",this.atype=3,this.config={enabled:!0,placementID:72,ats_enabled:!1,urlParameter:""},this.storage={type:"cookie",name:"idl_env",expiresInDays:30},this.idObj=null,this.callback=null,this.astCallback=null,this.getIdCalled=!1,this.astCalled=!1,this.excludeEid=!0}function ye(e){var t=new Date;t.setTime(t.getTime()+2592e6),ProperMedia.utils.setCookie("_lr_env_src_ats",e,t.toUTCString())}pe.identityLink=new h;var we,xe,Pe,Me,ke,Se,h=(we="_pubcid",xe="_pubcid_optout",Pe="PublisherCommonId",Me="_exp",ke="cookie",Se="localstorage",Ie.prototype.decode=function(e){return e||void 0},Ie.prototype.getValue=function(){return ProperMedia.utils.isStr(this.idObj)?this.idObj:ProperMedia.utils.deepAccess(this,"idObj.pubcid")},Ie.prototype.init=function(){ProperMedia.utils.localStorageIsEnabled()?this.storage.type=Se:ProperMedia.utils.cookiesAreEnabled()?this.storage.type=ke:this.storage.type=null,this.getId()},Ie.prototype.removeStorageItem=function(e){try{ProperMedia.utils.removeDataFromLocalStorage(e+Me),ProperMedia.utils.removeDataFromLocalStorage(e)}catch(e){le.mylog(JSON.stringify(e))}},Ie.prototype.readValue=function(e,t){var i;return(t=t||this.storage.type)===ke?i=ProperMedia.utils.getCookieValue(e):t===Se&&(i=function(e){var t=null;try{var i=ProperMedia.utils.getDataFromLocalStorage(e+Me);!i||0<new Date(i).getTime()-Date.now()?t=ProperMedia.utils.getDataFromLocalStorage(e):removeStorageItem(e)}catch(e){le.mylog(JSON.stringify(e))}return t}(e)),"undefined"===i||"null"===i?null:i},Ie.prototype.writeValue=function(e,t,i){var r,s,a,n,o;e&&t&&(this.storage.type===ke?(r=e,s=t,a=i,n="Lax",(o=new Date).setTime(o.getTime()+864e5*a),T.setCookie(r,s,o.toGMTString(),n)):this.storage.type===Se&&function(e,t,i){try{var r;void 0!==i&&null!=i&&(r=new Date(Date.now()+864e5*i).toUTCString(),ProperMedia.utils.setDataInLocalStorage(e+Me,r)),ProperMedia.utils.setDataInLocalStorage(e,t)}catch(e){le.mylog(JSON.stringify(e))}}(e,t,i))},Ie.prototype.getId=function(){var e=null,t=ProperMedia.utils.cookiesAreEnabled()&&this.readValue(xe,ke)||ProperMedia.utils.hasLocalStorage()&&this.readValue(xe,Se);return!(!this.config.enabled||!this.storage.type||t)&&("object"==typeof window[Pe]?(e=window[Pe].getId(),le.mylog(Pe+": pubcid = "+e)):((e=this.readValue(we))||(this.storage.type==ke?e=this.readValue(we,Se):this.storage.type==Se&&(e=this.readValue(we,ke))),e?this.config.extend&&this.writeValue(we,e,this.storage.expiresInDays):this.config.create&&(e=(e=this.storage.type===Se?this.readValue(we,ke):e)||ProperMedia.utils.generateUUID(),this.writeValue(we,e,this.storage.expiresInDays),e=this.readValue(we)),le.mylog("pubCommonId: pubcid = "+e)),this.idObj={pubcid:e},!0)},Ie);function Ie(){this.name="pubcid",this.eid_name="pubcid",this.source="pubcid.org",this.atype=1,this.config={enabled:!0,create:!0,extend:!0},this.storage={type:Se,name:we,expiresInDays:365},this.idObj=null,this.callback=null}pe.pubCommonId=new h;Te.prototype.initialize=function(e){e&&e.email&&(ProperMedia.utils.isBase64(e.email)||(e.email=ProperMedia.utils.b64EncodeUnicode(e.email)),this.config.e=e.email),e.ipv4&&(this.config.i4=e.ipv4),e.ipv6&&(this.config.i6=e.ipv6)},Te.prototype.decode=function(e){return e.fabrickId||void 0},Te.prototype.getValue=function(){return this.idObj||void 0},Te.prototype.getId=function(e){try{if(!this.config.enabled)return;if("string"!=typeof this.config.apiKey)return void le.mylog("fabrick submodule requires an apiKey.");try{var t,r="https://fid.agkn.com/f?",i=Object.keys(this.config);for(t in i){var s=i[t];if("url"!==s&&"refererInfo"!==s&&"enabled"!==s){var a=this.config[s];if(Array.isArray(a))for(var n in a)r+=s+"="+a[n]+"&";else r+=s+"="+a+"&"}}var r=r.slice(0,-1),o=[];r=je(o,r,"r",_e.referer),r=je(o,r,"r",_e.canonical_url),r=je(o,r,"r",_e.url);return{callback:function(i){I.ajax({url:r,method:"GET",requestType:"cors",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){le.mylog(e),t={}}i(t)}.bind(this),error:function(e){le.mylog("fabrickId fetch encountered an error",e),i()}})}}}catch(e){le.mylog("fabrickIdSystem encountered an error",e)}}catch(e){le.mylog("fabrickIdSystem encountered an error",e)}},h=Te;function Te(){this.name="fabrickId",this.eid_name="fabrickId",this.source="neustar.biz",this.atype=1,this.config={enabled:!1,apiKey:null},this.storage={type:"cookie",name:"fabrickId",expiresInDays:7},this.idObj=null,this.callback=null}function je(e,t,i,r){return r&&t.length<2e3&&(200<r.length&&(r=r.substring(0,200)),-1==e.indexOf(r))?(e.push(r),t+"&"+i+"="+r):t}pe.fabrickId=new h;var Ae,Ee,Ce,Re,De,Oe,h=(Ae=86400,Ee="https://id.sharedid.org/id",Re=(Ce="0123456789ABCDEFGHJKMNPQRSTVWXYZ").length,De=Math.pow(2,48)-1,Oe=function(t){t=t||function(e){e=e||("undefined"!=typeof window?window:null);var t=e&&(e.crypto||e.msCrypto);if(t)return function(){var e=new Uint8Array(1);return t.getRandomValues(e),e[0]/255};return function(){return Math.random()}}();return function(e){return function(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(!1===Number.isInteger(e))throw Be("time must be an integer");if(De<e)throw Be("cannot encode time greater than "+De);if(e<0)throw Be("time must be positive");if(!1===Number.isInteger(t))throw Be("length must be an integer");if(t<0)throw Be("length must be positive");for(var i,r="";0<t;t--)i=e%Re,r=Ce.charAt(i)+r,e=(e-i)/Re;return r}(e=isNaN(e)?Date.now():e,10)+function(e,t){for(var i="";0<e;e--)i=function(e){e=Math.floor(e()*Re);e===Re&&(e=Re-1);return Ce.charAt(e)}(t)+i;return i}(16,t)}}(),ze.prototype.decode=function(e){return e?function(e){var t={},i=e&&"string"==typeof e.id?e.id:void 0;if("00000000000000000000000000"==i)return;if(i){var r={id:i};return null==(e&&"boolean"==typeof e.ns?e.ns:void 0)&&(r.third=i),t=r,le.mylog("SharedId: Decoded value "+JSON.stringify(t)),t}return i}(e):void 0},ze.prototype.getValue=function(){return ProperMedia.utils.deepAccess(this,"idObj.id")},ze.prototype.getUidExt=function(){return ProperMedia.utils.deepAccess(this,"idObj.third")?{third:ProperMedia.utils.deepAccess(this,"idObj.third")}:void 0},ze.prototype.sharedIdUrl=function(){return te&&"boolean"==typeof te.gdprApplies&&te.gdprApplies?Ee+"?gdpr=1&gdpr_consent="+te.consentString:Ee},ze.prototype.isIdSynced=function(e){if(e.ns)return!0;"number"!=typeof this.storage.refreshInSeconds&&le.mylog("SharedId: Sync time is not configured or is not a number");var t="number"!=typeof this.storage.refreshInSeconds?Ae:this.storage.refreshInSeconds;Ae<t&&(t=Ae);e=e.ts;return!!e&&t<=function(e,t){t=(e-t)/1e3;return Math.abs(Math.round(t))}((new Date).getTime(),e)},ze.prototype.getId=function(){return{callback:function(r){le.mylog("SharedId: Sharedid doesnt exists, new cookie creation"),I.ajax({url:this.sharedIdUrl(),method:"GET",requestType:"cors",success:function(e){var t={};if(e)try{var i=ProperMedia.utils.safeJsonParse(e);le.mylog("SharedId: Generated SharedId: "+i.sharedId),t=qe(i.sharedId,!1)}catch(e){le.mylog(e)}r(t)},error:function(e,t){var i=qe(Oe(),!0);le.mylog("SharedId: Ulid Generated SharedId: "+i.id),r(i)}})}}},ze.prototype.extendId=function(r){le.mylog("SharedId: Existing shared id "+r.id);return{callback:function(i){var e;this.isIdSynced(r)&&(le.mylog("SharedId: Existing shared id "+r+" is not synced"),(e={}).sharedId=r.id,e=JSON.stringify(e),I.ajax({url:this.sharedIdUrl(),method:"POST",requestType:"cors",data:e,success:function(e){if(le.mylog("SharedId: id to be synced: "+r.id),e)try{var t=ProperMedia.utils.safeJsonParse(e);r=qe(t.sharedId,!1),le.mylog("SharedId: Older SharedId: "+r.id)}catch(e){le.mylog(e)}i(r)},error:function(){le.mylog("SharedId: Sync error for id : "+r.id),i(r)}}))}}},ze);function ze(){this.name="sharedId",this.eid_name="sharedid",this.source="sharedid.org",this.config={enabled:!0},this.storage={type:"cookie",name:"sharedid",expiresInDays:30,refreshInSeconds:Ae},this.idObj=null,this.callback=null}function qe(e,t){var i={};return i.id=e,i.ts=(new Date).getTime(),t&&(i.ns=!0),le.mylog("SharedId: cookie Value: "+JSON.stringify(i)),i}function Be(e){le.mylog(e);e=new Error(e);return e.source="sharedId",e}pe.sharedId=new h;Ne.prototype.initialize=function(e){this.enabled=ProperMedia.utils.deepAccess(ce,"bidders.header.conversant.enabled")||!1,this.enabled&&(this.config.siteId=ProperMedia.utils.deepAccess(ce,"bidders.header.conversant.site_id")||0,e.email&&(this.email=e.email),this.email&&ProperMedia.utils.isBase64(this.email)&&(this.email=ProperMedia.utils.b64DecodeUnicode(this.email)),ProperMedia.utils.deepAccess(e,"emailHashes")&&(this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(e,"emailHashes"))||[]),this.loadScript())},Ne.prototype.loadScript=function(){var e=window.top.document.createElement("script");e.onload=function(){this.callAPI()}.bind(this),window.top.cnvr_launcher_options={lid:616},e.src="https://secure.cdn.fastclick.net/js/cnvr-launcher/latest/launcher-stub.min.js",window.top.document.body.appendChild(e)},Ne.prototype.decode=function(e){return e||void 0},Ne.prototype.getValue=function(){return this.idObj||void 0},Ne.prototype.getId=function(){this.getIdCalled=!0;return{callback:function(e){this.apiCallback=e,this.callAPI()}}},Ne.prototype.callAPI=function(){var e;this.enabled||this.apiCallback(),ProperMedia.utils.deepAccess(window,"top.conversant.launch")&&this.getIdCalled&&!this.apiCalled&&(e={siteId:this.config.siteId},this.email?e.email=this.email.toLowerCase().trim():this.emailHashes&&this.emailHashes.length&&(e.emailHashes=this.emailHashes),this.apiCalled=!0,this.config.siteId&&(this.email||this.emailHashes.length)?(window.top.conversant.launch("publink","start",e),this.apiCallback(ProperMedia.utils.makeid(25))):this.apiCallback())},h=Ne;function Ne(){this.name="pubLink",this.eid_name="publink",this.email="",this.emailHashes=[],this.source="publink.com",this.atype=1,this.config={enabled:!0,siteId:null},this.storage={type:"cookie",name:"publink",expiresInDays:30},this.idObj=null,this.callback=null,this.apiCallback=null,this.getIdCalled=!1,this.apiCalled=!1}pe.pubLink=new h;var Ve,Ue,Fe,Le,Je,We,He,Ge,Ze,Ye,Xe,$e,Qe,Ke,et,tt,it,rt,st,at,nt,ot,dt,pt,lt,ct,ut,gt,mt,ht,_t,ft,bt,vt,yt,wt,xt,Pt,Mt,kt,St,It,Tt,jt,At,Et,Ct,Rt,Dt,Ot,zt,qt,Bt,Nt,Vt,Ut,Ft,Lt,Jt,Wt,Ht,Gt,Zt,Yt,Xt,$t,Qt,Kt,ei,ti,ii,ri,si,ai,ni,oi,di,pi,li,ci,ui,gi,mi,hi,_i,fi,bi,vi,yi,wi,xi,Pi,Mi,ki,Si,Ii,Ti,ji,Ai,Ei,h=(Ve=30,Fe=(Ue="id5id")+"_privacy",Ci.prototype.initialize=function(e){ProperMedia.utils.deepAccess(e,"emailHashes.sha256")&&(this.email=e.emailHashes.sha256)},Ci.prototype.generatePD=function(){return this.email?ProperMedia.utils.b64EncodeUnicode(this.email+(me.pubcid?"&5="+me.pubcid:"")):""},Ci.prototype.getValue=function(){return ProperMedia.utils.deepAccess(this,"idObj.uid")},Ci.prototype.getUidExt=function(){if(ProperMedia.utils.deepAccess(this,"idObj.ext"))return ProperMedia.utils.deepAccess(this,"idObj.ext")},Ci.prototype.decode=function(e){var t,i=0,i=e&&"string"==typeof e.universal_uid?(t=e.universal_uid,e.link_type||i):void 0;return{uid:t,ext:{linkType:i}}},Ci.prototype.getId=function(e){var t="https://id5-sync.com/g/v2/"+this.config.partnerId+".json",i=te&&"boolean"==typeof te.gdprApplies&&te.gdprApplies?1:0,r=J.cmpPresent&&J.usPrivacy?J.usPrivacy:"",e=e&&e.signature?e.signature:"",s={gdpr:i,gdpr_consent:i?te.consentString:"",partner:this.config.partnerId,nbPage:zi(this.config.partnerId),o:"pbjs",pd:this.generatePD(),provider:"",rf:_e.referrer,s:e,top:1,u:_e.url,us_privacy:r,v:ce.prebid_version};return{callback:function(i){I.ajax({url:t,method:"POST",requestType:"cors",data:JSON.stringify(s),success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e),Di(this.config.partnerId,0),t.privacy&&qi(Fe,JSON.stringify(t.privacy),Ve)}catch(e){le.mylog(e)}i(t)}.bind(this),error:function(e){le.mylog("UserID - ID5 submodule getId fetch encountered an error: "+JSON.stringify(e)),i()}})}}},Ci.prototype.extendId=function(e){return zi(this.config.partnerId||0),e},Ci);function Ci(){this.name="id5Id",this.eid_name="id5id",this.source="id5-sync.com",this.email="",this.atype=1,this.config={enabled:!0,partnerId:445},this.storage={type:"localstorage",name:Ue,expiresInDays:90,refreshInSeconds:28800},this.idObj=null,this.callback=null}function Ri(e){return Ue+"_"+e+"_nb"}function Di(e,t){qi(Ri(e),t,Ve)}function Oi(e){e=function(e){var t=ProperMedia.utils.getDataFromLocalStorage(e+"_exp");{if(""===t)return ProperMedia.utils.getDataFromLocalStorage(e);if(t&&0<new Date(t).getTime()-Date.now())return ProperMedia.utils.getDataFromLocalStorage(e)}return ProperMedia.utils.removeDataFromLocalStorage(e),null}(Ri(e));return e?parseInt(e):0}function zi(e){var t=Oi(e)+1;return Di(e,t),t}function qi(e,t,i){ProperMedia.utils.setDataInLocalStorage(e+"_exp",(i=i,new Date(Date.now()+864e5*i).toUTCString())),ProperMedia.utils.setDataInLocalStorage(e,t)}function Bi(r,s){var a={slots:{},tag_sizes:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===a.slots[i]&&(a.slots[i]={slotID:i},a.tag_sizes[i]=[],"video"==s.demand_type?a.slots[i].mediaType="video":a.slots[i].sizes=[]),"display"==s.demand_type&&a.slots[i].sizes.push(e.split("x").map(function(e){return parseInt(e)})),a.tag_sizes[i].push(e),a.request_cnt++}}),a}function Ni(a){var n={bids:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,r,s=a[e][t];void 0===n.bids[s]&&(i=ProperMedia.utils.makeid(10),r=e.split("x"),n.bids[s]={TransactionID:i,PlacementID:s,Width:parseInt(r[0]),Height:parseInt(r[1]),AvailableSizes:""}),n.bids[s].AvailableSizes+=(n.bids[s].AvailableSizes.length?",":"")+e,n.request_cnt++}}),n}function Vi(e){e=e.split("x");return{width:parseInt(e[0]),height:parseInt(e[1])}}function Ui(n,o,d){var p={astTags:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(i=0;i<n[e].length;i++){var t,r,s=n[e][i];void 0===p.astTags[s]&&(t=Vi(e),r=function(){var i=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)});return e=e.split("-")[4]}(),a=ProperMedia.utils.deepAccess(ce,"bidders.header."+o+".site_id")||s,p.astTags[s]={sizes:[],primary_size:t,uuid:r,id:parseInt(a),prebid:!0,ad_types:[],reserve:0,hb_source:1,disable_psa:!0,allow_smaller_sizes:!1,use_pmt_rule:!1}),"display"==d.demand_type?p.astTags[s].ad_types.push("banner"):"video"==d.demand_type&&(p.astTags[s].ad_types.push("video"),"instream"==d.video_type?p.astTags[s].require_asset_url=!0:"outstream"==d.video_type&&(p.astTags[s].require_asset_url=!1),p.astTags[s].allow_smaller_sizes=!0,p.astTags[s].video_frameworks=[2],p.astTags[s].video={minduration:1,playback_method:2,mimes:["video/mp4","application/javascript"],custom_renderer_present:!0});var a=Er(o,e);p.astTags[s].reserve&&p.astTags[s].sizes.length?p.astTags[s].reserve=(p.astTags[s].reserve*p.astTags[s].sizes.length+a)/(p.astTags[s].sizes.length+1):p.astTags[s].reserve=a,p.astTags[s].sizes.push(Vi(e)),p.request_cnt++}}),p}function Fi(r){var s={bids:{},request_cnt:0},a=ProperMedia.utils.deepAccess(ce,"bidders.header."+nt+".site_id")||0;return a?0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t,i=0;i<r[e].length;i++)"native_horizontal"==e&&(t=r[e][i],void 0===s.bids[t]&&(s.bids[t]={name:t,bidId:t,transactionId:ProperMedia.utils.generateUUID(),sizes:ot,partnerId:a,slotType:""},s.request_cnt+=4))}):le.mylog("Error: Concert Site ID is Required."),s}function Li(){return"true"===ProperMedia.utils.getDataFromLocalStorage("c_nap")}function Ji(n){var o={imps:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i=n[e][t],r=i.split("|"),s=r[0]||"",a=r[1]||"",r=(r[2]||"").split(",");void 0===o.imps[i]&&(o.imps[i]={networkId:pt,siteId:lt,divName:i,unitName:s,unitId:a,zoneIds:[],adTypes:[]}),r instanceof Array?o.imps[i].zoneIds.concat(r.map(function(e){return parseInt(e)})):o.imps[i].zoneIds.push(parseInt(r));r=(r=e.split("x"),0<=(r=mt.indexOf(r[0]+"x"+r[1]))&&r);r&&(o.imps[i].adTypes.push(r),o.request_cnt++)}}),o}function Wi(s){var a={imps:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===a.imps[i]&&(a.imps[i]={id:i.toString(),bidfloor:0,secure:_e.use_ssl?1:0,displaymanager:"propermedia",displaymanagerver:"2.2.4",banner:{format:[],pos:0}});var r=Er(ft,e);a.imps[i].bidfloor&&a.imps[i].banner.format.length?a.imps[i].bidfloor=(a.imps[i].bidfloor*a.imps[i].banner.format.length+r)/(a.imps[i].banner.format.length+1):a.imps[i].bidfloor=r,a.imps[i].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),a.request_cnt++}}),a}function Hi(s,a,n){var o={imps:{},request_cnt:0},d=ProperMedia.utils.deepAccess(ce,"bidders.header."+a+".site_id")||0;return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===o.imps[i]&&(r=e.split("x"),d=d||i,o.imps[i]={id:String(i),tagid:String(d),secure:_e.use_ssl?1:0,bidfloor:0},"display"==n.demand_type?o.imps[i].banner={topframe:1,w:parseInt(r[0])||0,h:parseInt(r[1])||0,format:[]}:"video"==n.demand_type&&(o.imps[i].video={topframe:1,skip:1,linearity:"outstream"==n.video_type?2:1,minduration:10,maxduration:30,playbackmethod:[2],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(r[0])||0,h:parseInt(r[1])||0}));var r=Er(a,e);"display"==n.demand_type&&o.imps[i].bidfloor&&o.imps[i].banner.format.length?o.imps[i].bidfloor=(o.imps[i].bidfloor*o.imps[i].banner.format.length+r)/(o.imps[i].banner.format.length+1):o.imps[i].bidfloor=r,"display"==n.demand_type&&o.imps[i].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),o.request_cnt++}}),o}function Gi(a,n,o){var d={imps:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,r=a[e][t];void 0===d.imps[r]&&(i=ProperMedia.utils.deepAccess(ce,"bidders.header."+n+".site_id")||r,s=e.split("x"),d.imps[r]={id:r.toString(),tid:ProperMedia.utils.generateUUID(),tagid:i.toString(),secure:_e.use_ssl?1:0,bidfloor:0,bidfloorcur:"USD",banner:{w:s[0],h:s[1],format:[]}},"display"==o.demand_type?d.imps[r].banner={w:parseInt(s[0])||0,h:parseInt(s[1])||0,format:[]}:"video"==o.demand_type&&(d.imps[r].video={topframe:1,skippable:1,linearity:"outstream"==o.video_type?2:1,minduration:10,maxduration:30,playback_methods:["auto_play_sound_off"],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(s[0])||0,h:parseInt(s[1])||0}));var s=Er(n,e);"display"==o.demand_type&&d.imps[r].bidfloor&&d.imps[r].banner.format.length?d.imps[r].bidfloor=(d.imps[r].bidfloor*d.imps[r].banner.format.length+s)/(d.imps[r].banner.format.length+1):d.imps[r].bidfloor=s,"display"==o.demand_type&&d.imps[r].banner.format.push((r=(r=e).split("x"),{w:parseInt(r[0]),h:parseInt(r[1])})),d.request_cnt++}}),d}function Zi(n){var o={bids:{},request_cnt:0,query_string:""};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,r=n[e][t],s="native",a=.5;-1!=r.indexOf("-")&&(r=(i=r.split("-"))[0],"banner"==i[1]?s="banner":"fullwidth"==i[1]?s="fullwidth":"native"!=i[1]&&(a=i[1]/100),void 0!==i[2]&&(a=i[1]/100)),o.bids[r]={size:e,format:s,bidmod:a};a="banner"==o.bids[r].format?o.bids[r].size:o.bids[r].format;o.query_string+="&placementids[]="+r+"&adformats[]="+a,o.request_cnt++}}),o}function Yi(n){var o={data:[],index_bids:{}},d=ProperMedia.utils.deepAccess(ce,"bidders.header."+wt+".site_id")||0;return d?0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,r,s,a=n[e][t];void 0===o[a]&&(i=a+"-"+ProperMedia.utils.makeid(5),r=e.split("x"),s=Er(wt,e),o.data.push({id:i,width:parseInt(r[0]),height:parseInt(r[1]),siteID:parseInt(d),bidfloorcur:"USD",bidfloor:s}),o.index_bids[i]={width:parseInt(r[0]),height:parseInt(r[1]),tag_id:a,floor:s})}}):le.mylog("Error: Index Excnahge Site ID is Required."),o}function Xi(n,o,d){var p={imps:[],index_bids:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,r,s,a=n[e][t];void 0===p.imps[a]&&(i=a+"-"+ProperMedia.utils.makeid(5),r=e.split("x"),s={id:String(i),bidfloor:Er(o,e),bidfloorcur:"USD",ext:{sid:i,siteID:String(Mt)}},"display"==d.demand_type?s.banner={topframe:1,w:parseInt(r[0])||0,h:parseInt(r[1])||0}:"video"==d.demand_type&&(s.video={placement:1,topframe:1,skip:1,linearity:1,minduration:10,maxduration:30,playbackmethod:[2],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(r[0])||0,h:parseInt(r[1])||0}),"outstream"==d.video_type&&(s.video.placement=4),p.imps.push(s),p.index_bids[i]={width:parseInt(r[0]),height:parseInt(r[1]),tag_id:a}),p.request_cnt++}}),p}function $i(s){var a={imps:{},JPbids:{},request_cnt:0},n=ge.isMobile()?"mobile":"desktop";return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===a.imps[i]&&(a.imps[i]={tag_id:parseInt(i),sizes:[],slot_types:[[],{}]}),a.JPbids[i]=e;var r=(ProperMedia.utils.deepAccess(kt,"native_sizes."+n+"."+e)||e).split("x").map(function(e){return parseInt(e)});if("728"==r[0]&&"90"==r[1])a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["cf","pu","as"]),a.imps[i].sizes.push([r[0],r[1]]),a.request_cnt++;else if("160"==r[0]&&"600"==r[1])a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["sa"]),a.imps[i].sizes.push([r[0],r[1]]),a.request_cnt++;else{if("320"!=r[0]||"50"!=r[1])return a;a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["ms"]),a.imps[i].sizes.push([r[0],r[1]]),a.request_cnt++}}}),a}function Qi(i){var r={bidIDs:{},bidSizes:{},prebidRawBidRequests:[],request_cnt:0,tag_sizes:{},floor:0};return Object.keys(i).forEach(function(e){var t=Er(Tt,e);r.floor&&r.request_cnt?r.floor=(r.floor*r.request_cnt+t)/(r.request_cnt.length+1):r.floor=t;t=e,t=(t=ProperMedia.utils.deepAccess(It,"native_sizes."+t)||t).split("x"),t=[parseInt(t[0]),parseInt(t[1])];r.bidIDs[i[e]]=i[e][0],r.bidSizes[i[e]]=[t],r.prebidRawBidRequests.push({bidId:i[e],userId:{}}),r.request_cnt++,ProperMedia.utils.deepAccess(It,"native_sizes."+e)&&(r.tag_sizes[i[e]]=e)}),r}function Ki(){var e=function(){try{return JSON.parse(atob(er("krg_crb")))}catch(e){return{}}}();return Object.keys(e).length?e:function(){try{var e=JSON.parse(decodeURIComponent(ProperMedia.utils.getCookieValue("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}}()}function er(e){try{return ProperMedia.utils.getDataFromLocalStorage(e)}catch(e){return null}}function tr(r){var s={bidRequests:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===s.bidRequests[i]&&(s[i],s.bidRequests[i]={requestId:i,adUnitCode:i,adUnitId:i,sizes:[]}),s.bidRequests[i].sizes.push(e),s.request_cnt++}}),s}function ir(r){var s={bids:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===s.bids[i]&&(s.bids[i]={bidId:i,sizes:[]}),s.bids[i].sizes.push((i=(i=e).split("x"),{width:parseInt(i[0]),height:parseInt(i[1])})),s.request_cnt++}}),s}function rr(e,t,i){var r={referrer:S.referrer,tz:(new Date).getTimezoneOffset(),buster:(new Date).getTime(),secure:"https:"===S.location.protocol,version:9};if(sr()&&!nr()||(r.mobile=!nr()&&function(e){var t=!e&&("ontouchstart"in window||navigator.msMaxTouchPoints);if(sr())return!t;e=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth;return!t&&(!e||e>=(window.mantis_breakpoint||768))}(!0)?"false":"true"),window.mantis_uuid?r.uuid=window.mantis_uuid:!window.localStorage||(s=window.localStorage.getItem("mantis:uuid"))&&(r.uuid=s),sr())r.iframe=!0;else try{r.title=window.top.document.title,r.referrer=window.top.document.referrer,r.url=window.top.document.location.href}catch(e){}nr()&&(r.amp=!0,!r.url&&window.context.canonicalUrl&&(r.url=window.context.canonicalUrl),!r.url&&window.context.location&&(r.url=window.context.location.href),!r.referrer&&window.context.referrer&&(r.referrer=window.context.referrer)),Object.keys(t||{}).forEach(function(e){r[e]=t[e]});var s=function e(t,i,r){if(!t)return null;var s=r||[];for(var a in t){var n=a;i&&(n=i+"["+a+"]");var o=t[a];if(or(o))for(var d=0;d<o.length;d++){var p=n+"["+d+"]",l=o[d];dr(l)?e(l,p,s):ar(l)&&s.push(p+"="+encodeURIComponent(l))}else dr(o)?e(o,n,s):ar(o)&&s.push(n+"="+encodeURIComponent(o))}return s.join("&")}(r);return(void 0===window.mantis_domain?i||Nt:window.mantis_domain)+e+"?"+s}function sr(){try{return window.self!==window.top&&!window.mantis_link}catch(e){return 1}}function ar(e){return null!=e&&("string"==typeof e?e&&!/^\s*$/.test(e):"number"!=typeof e||!isNaN(e))}function nr(){return"object"==typeof window.context&&("AMP-AD"===window.context.tagName||"AMP-EMBED"===window.context.tagName)}function or(e){return"[object Array]"===Object.prototype.toString.call(e)}function dr(e){return"[object Object]"===Object.prototype.toString.call(e)}function pr(i,a,n,o){function d(){u&&g&&g(),u=!1}function r(e,t,i){var r=void 0!==S.hidden&&S.hidden;if(0==i.width||0==i.height||r)return d(),0;var s=i.height*o,r=i.width*o;return(i.top<0&&i.bottom>=s||0<i.top&&t-i.top>=s)&&(i.left<0&&i.right>=r||0<i.left&&e-i.left>=r)?!c&&n?(c=Date.now(),d()):n&&Date.now()-c<n?d():void(u||a(function(e){e?u=!0:(p&&clearInterval(p),l&&l())},function(e){g=e})):d()}var p,l,c=null,u=!1,g=null;nr()&&(l=window.context.observeIntersection(function(e){e.forEach(function(e){r(e.rootBounds.width,e.rootBounds.height,e.boundingClientRect)})})),p=setInterval(function(){var e=window.innerHeight||S.documentElement.clientHeight,t=window.innerWidth||S.documentElement.clientWidth;r(t,e,i.getBoundingClientRect())},100)}function lr(e,t){var i=S.createElement("img");i.src=e,i.style.cssText="display:none !important;",(t||S.body).appendChild(i)}function cr(s){var a={imps:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===a.imps[i]&&(r=e.split("x").map(function(e){return parseInt(e)}),a.imps[i]={id:i.toString(),tagid:i,secure:_e.use_ssl?1:0,bidfloor:0,banner:{w:r[0],h:r[1],format:[]}});var r=Er(Ut,e);a.imps[i].bidfloor&&a.imps[i].banner.format.length?a.imps[i].bidfloor=(a.imps[i].bidfloor*a.imps[i].banner.format.length+r)/(a.imps[i].banner.format.length+1):a.imps[i].bidfloor=r,a.imps[i].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),a.request_cnt++}}),a}function ur(s){var a={imps:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===a.imps[i]&&(a.imps[i]={id:i.toString(),tagid:ge.isMobile()?"506882127":"515514711",bidfloor:0,banner:[],ext:{visibility:0}});var r=Er(Lt,e);a.imps[i].bidfloor&&a.imps[i].banner.length?a.imps[i].bidfloor=(a.imps[i].bidfloor*a.imps[i].banner.length+r)/(a.imps[i].banner.length+1):a.imps[i].bidfloor=r,a.imps[i].banner.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),a.request_cnt++}}),a}function gr(e,t){e=function(e,t){try{var i=window.top.document.querySelector(e);if(null!==i&&i[t])return i[t]}catch(e){}}(e,t);return e&&(t=e,(e=window.top.document.createElement("a")).href=t,e.href)}function mr(s){var a={data:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===a.data[i]&&(r="openx-"+ProperMedia.utils.generateUUID(),a.data[i]={price_floor:0,slot_div:r,tag_id:i,sizes:[]});var r=Er(Ht,e);a.data[i].price_floor&&a.data[i].sizes.length?a.data[i].price_floor=(a.data[i].price_floor*a.data[i].sizes.length+r)/(a.data[i].sizes.length+1):a.data[i].price_floor=r,a.data[i].sizes.push(e),a.request_cnt++}}),a}function hr(n){var o={imps:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,r,s=n[e][t];1==s&&(s=ProperMedia.utils.makeid(10)),void 0===o.imps[s]?(i=s.split("-")[0],r=e.split("x"),o.imps[s]={id:s.toString(),tagid:i.toString(),bidfloor:0,bidfloorcur:"USD",secure:1,banner:{w:parseInt(r[0]),h:parseInt(r[1]),pos:0,format:[],topframe:1},ext:{}}):o.imps[s].banner.format.push((a=(a=e).split("x"),{w:parseInt(a[0]),h:parseInt(a[1])}));var a=Er(Xt,e);o.imps[s].bidfloor&&o.imps[s].banner.format.length?o.imps[s].bidfloor=(o.imps[s].bidfloor*o.imps[s].banner.format.length+a)/(o.imps[s].banner.format.length+1):o.imps[s].bidfloor=a,o.request_cnt++}}),o}function _r(s,a,n){var o={imps:[]};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=e.split("x"),r={id:ProperMedia.utils.makeid(10),bidfloor:Er(a,e),secure:_e.use_ssl?1:0,ext:{bidder:{placementId:ei,zone:"1r",path:"mvo"}}};"display"==n.demand_type?r.banner={format:[{w:i[0],h:i[1]}]}:"video"==n.demand_type&&(r.video={mimes:ri,protocols:ii,w:parseInt(i[0]),h:parseInt(i[1]),startdelay:0,skip:0,playbackmethod:si,delivery:ai,api:ni}),o.imps.push(r)}}),o}function fr(s,a){var n={imps:{},request_cnt:0},o={},d=ProperMedia.utils.deepAccess(ce,"bidders.header."+a+".site_id")||0;return d?0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i,r=s[e][t];void 0===n.imps[r]&&(i=r.split("-")[0],o[r]=[],n.imps[r]={account_id:parseInt(oi),site_id:parseInt(d),zone_id:parseInt(i),size_id:void 0,alt_size_ids:"",rp_floor:Er(a,e),rp_secure:1==_e.use_ssl?"1":"0",tk_flint:"pbjs_lite_v3.2.0","x_source.tid":ProperMedia.utils.generateUUID(),p_screen_res:_e.width+"x"+_e.height,kw:"",tk_user_key:"","p_geo.latitude":void 0,"p_geo.longitude":void 0,"tg_fl.eid":r,rf:_e.bidder_page_url},ce.schain&&ce.schain.nodes&&ce.schain.nodes[0]&&ce.schain.nodes[0].sid&&(n.imps[r]["x_source.pchain"]="proper.io:"+ce.schain.nodes[0].sid)),void 0!==di[e]&&(i=Er(a,e),n.imps[r].rp_floor&&o[r].length?n.imps[r].rp_floor=(n.imps[r].rp_floor*o[r].length+i)/(o[r].length+1):n.imps[r].rp_floor=i,o[r].push(di[e]),o[r]=function(e){var s=[15,2,9];return e.sort(function(e,t){var i=s.indexOf(e),r=s.indexOf(t);return-1<i||-1<r?-1===i?1:-1===r?-1:i-r:e-t})}(o[r]),n.imps[r].size_id=o[r][0],n.imps[r].alt_size_ids=o[r].slice(1).join(","),n.request_cnt++)}}):le.mylog("Error: Rubicon Site ID is Required."),n}function br(r){var s={};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===s[i]&&(s[i]={tag_id:i,pkey:i,size:e})}}),s}function vr(s,a,n){var o={};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===o[i]&&(!((r=i.split("-")).length<2)&&r[0]&&r[1]||le.mylog("Error: Smart Ad Server missing id for tag_id. Tag ID needs to be in format: {pageid}-{formatid}"),o[i]={pageid:r[0],formatid:r[1],sizes:[],bidfloor:0,tagId:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),bidId:ProperMedia.utils.generateUUID()});var r=Er(a,e);"display"==n.demand_type&&o[i].bidfloor&&o[i].sizes.length?o[i].bidfloor=(o[i].bidfloor*o[i].sizes.length+r)/(o[i].sizes.length+1):o[i].bidfloor=r,"video"==n.demand_type?(r=e.split("x"),o[i].isVideo="outstream"!=n.video_type,o[i].videoData={videoProtocol:6,playerWidth:r[0],playerHeight:r[1],adBreak:1}):o[i].sizes.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])}))}}),o}function yr(s,a){var n={imps:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];void 0===n.imps[i]&&(r=ProperMedia.utils.deepAccess(ce,"bidders.header."+a+".site_id")||i,n.imps[i]={bidId:r,floor:0,sizes:[]});var r=Er(a,e);n.imps[i].floor&&n.imps[i].sizes.length?n.imps[i].floor=(n.imps[i].floor*n.imps[i].sizes.length+r)/(n.imps[i].sizes.length+1):n.imps[i].floor=r,n.imps[i].sizes.push(e),n.request_cnt++}}),n}function wr(s){var a={imps:[]};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=e.split("x"),i=0;i<s[e].length;i++){var r=s[e][i];a.imps.push({id:r+"|"+e,banner:{format:[{w:parseInt(t[0]),h:parseInt(t[1])}],w:1,h:1},tagid:r,bidfloor:Er(gi,e)})}}),a}function xr(a){var n={data:{},sizes:{},request_cnt:0},o=ProperMedia.utils.deepAccess(ce,"bidders.header."+fi+".site_id")||0;return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=a[e][t],r=i.split("-"),r=o?r[0]:(o=r[0],r[1]);if(!o)return le.mylog("Error: Teads Page ID is Required."),n;if(!r)return le.mylog("Error: Teads Placement ID is Required."),n;void 0===n.data[i]&&(s="teads-"+ProperMedia.utils.generateUUID(),n.data[i]={bidId:i,placementId:parseInt(r),pageId:parseInt(o),adUnitCode:s,bidderRequestId:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),auctionId:ProperMedia.utils.generateUUID(),sizes:[]},n.sizes[i]=[]);var s=hi.native_sizes[e]||e;n.data[i].sizes.push(s),n.sizes[i].push(e),n.request_cnt++}}),n}function Pr(e,t,i){var r=bi.GDPR_APPLIES_PUBLISHER;return e?(i=i,((t=t)&&1===i?t.hasGlobalScope||t.hasGlobalConsent:t&&2===i&&!t.isServiceSpecific)&&(r=bi.GDPR_APPLIES_GLOBAL)):r=bi.GDPR_DOESNT_APPLY,r}function Mr(n,o,d){var p={imps:{},tag_sizes:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i=n[e][t],r=i.split("-"),s=(s=(s=ProperMedia.utils.deepAccess(d,"native_sizes."+e)||e).split("x"),{w:parseInt(s[0]),h:parseInt(s[1])});placementId=r[0],void 0===p.imps[i]&&(a={id:i,tagid:placementId,floor:Er(o,e)},"display"==d.demand_type?a.banner={format:[s]}:"video"==d.demand_type&&(a.video={mimes:["video/mp4","application/javascript"],w:s.w,h:s.h,context:d.video_type},"instream"==d.video_type&&(a.video.placement=1)),p.imps[i]=a,p.tag_sizes[i]=[]);var a=Er(o,e);p.imps[i].floor&&p.imps[i].banner.format.length?p.imps[i].floor=(p.imps[i].floor*p.imps[i].banner.format.length+a)/(p.imps[i].banner.format.length+1):p.imps[i].floor=a,p.tag_sizes[i].push(e),p.request_cnt++}}),p}function kr(a,n){var o={imps:{},tag_sizes:{},request_cnt:0},d=ge.isMobile()?"mobile":"desktop";return Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,r,s=a[e][t];void 0===o.imps[s]&&(r={bidRequestId:i=ProperMedia.utils.generateUUID(),hbadaptor:"prebid",url:_e.bidder_page_url,domain:_e.domain,placementId:void 0!==s?s.toString():null,publisherId:parseInt(wi),sizes:ProperMedia.utils.deepAccess(n,"native_sizes."+d+"."+e)||[e.split("x").map(function(e){return parseInt(e)})],params:{placementId:s.toString(),publisherId:parseInt(wi)}},"video"==n.demand_type&&(r.video={streamType:n.video_type,playbackmethod:[2],maxDuration:30,skippable:!0},r.mediaType="video"),0<r.sizes.length&&(o.request_cnt++,o.imps[s]=r,ProperMedia.utils.deepAccess(n,"native_sizes."+d+"."+e)&&(o.tag_sizes[i]=e)))}}),o}function Sr(e){return e?"gdpr="+(te.gdprApplies?"1":"0")+"&gdprstr="+(te.consentString||""):null}function Ir(s,a,n){var o={imps:[]},d=1;return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t];1==ce.testing_mode.ids&&(i=ge.isMobile()?"2124083":"2124082");var r=e.split("x");o.imps.push({id:d.toString(),tagid:i,secure:_e.use_ssl?1:0,ext:{},bidfloor:Er(a,e),bidfloorcur:"USD",video:{mimes:["video/mp4","application/javascript"],minduration:1,maxduration:15,startdelay:0,playbackmethod:[2],api:[2],protocols:[2,3,5,6],w:parseInt(r[0]),h:parseInt(r[1]),linearity:1,placement:"outstream"==n.video_type?3:1,ext:{video_skippable:1}}}),d++}}),o}function Tr(){void 0!==_e.get_vars.proper_debug_console||window.location.hash.includes("proper_debug_console")?be.createDebugConsole():void 0===_e.get_vars.proper_debug_console&&!window.location.hash.includes("proper_overlay")||be.createDebugOverlays()}function jr(){return(void 0!==properSpecialOps.kill_all_ads&&"yes"==properSpecialOps.kill_all_ads||_e.dont_send_bids)&&(le.mylog("Kill All Ads enabled! Good bye!"),1)}function Ar(e){return ce.bidder_info[e]&&ce.bidder_info[e].adapter_name?ce.bidder_info[e].adapter_name:e}function Er(e,t,i){try{if(ce.testing_mode.enabled)return.01;var r=i?"s2s":"header",s=ge.isMobile()?"mobile":"desktop",a=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(ce,"bidders."+r+"."+e+".floors."+s)||{}),n=ProperMedia.utils.deepCopy(ce.floors[s]||{}),o=a.backup||n.backup||0,d=[];if(ProperMedia.utils.isStr(t)?d=t.split(","):ProperMedia.utils.isArray(t)&&(d=t),0<d.length){for(var p=new Array,l=0;l<d.length;l++){var c,u=properSpecialOps.dynamicFloors&&ProperMedia.utils.deepAccess(ue,"sessionData.bid_avg."+d[l])||0;a.sizes&&a.sizes[d[l]]?(c=Math.max(a.sizes[d[l]],u),p.push(c)):n.sizes&&n.sizes[d[l]]?(c=Math.max(n.sizes[d[l]],u),p.push(c)):u&&p.push(u)}0<p.length&&(o=Math.min.apply(null,p))}ProperMedia.utils.deepAccess(ce,"bidder_info."+e+".rev_share")&&(o=parseFloat((o/ProperMedia.utils.deepAccess(ce,"bidder_info."+e+".rev_share")).toFixed(2)))}catch(e){console.error(e),o=a.backup||n.backup||0,g(v.computeStackTrace(e))}return parseFloat(o)}function Cr(e){e=parseFloat(e);var t=ge.isMobile()?"mobile":"desktop",t=ProperMedia.utils.deepCopy(ce.floors[t]||{});return e=e&&""!=e?e<=.1?.1:e<=.25?.25:e<=.4?.4:e<=2?(Math.ceil(4*e)/4).toFixed(2):e<=5?(Math.ceil(2*e)/2).toFixed(2):5:t.backup,ProperMedia.utils.round(e,2)}function Rr(e){if(e.getElement()){var t=1;if(e.hasWinningBid())t=0;else if(1==ce.testing_mode.enabled){if(void 0===e.default_size||"0x0"==e.default_size)return;var t=0,i=new D({bidder:"unfilled",size:e.default_size.join("x"),adcode:'<div style="text-align:center;width:'+e.default_size[0]+"px;height:"+e.default_size[1]+'px;background:#ccc;color:#000;padding-top:10px;">-- no ad found --</div>'});e.winning_ad=i}return 0==t?Dr(e.getElement(),e.number,1):Br(e),1}}function Dr(e,t,i,r){var s=_e.getSlotByNumber(t,["display"]);if(!s)return le.mylog("Couldn't find slot with number: "+t),!1;i=i||0;var a,n,o,d,t=[0,0];s.hasWinningBid()||ce.testing_mode.enabled&&s.winning_ad instanceof D?(s.getWinningBid(["display"]),s.winning_ad.displayed=1,t=s.winning_ad.size.split("x"),"1x1"!=s.winning_ad.size&&!ce.native_sizes[s.winning_ad.size]||(t=["100%","auto"]),ProperMedia.utils.deepAccess(de,s.winning_ad.bidder+".bidderInfo.div_insertion")&&(s.winning_ad.adcode=s.winning_ad.adcode.replace(/{PROPER_SLOT_DIV_ID}/g,s.div_id)),s.removeCreative(),1==i?function(e,t,i){e.innerHTML="";var r=S.createElement("iframe");r.frameBorder=0,r.scrolling="no",r.marginWidth="0",r.marginHeight="0",r.width=i[0],r.height=i[1],r.style.overflow="hidden",r.style.border="0px",r.style.verticalAlign="bottom",r.onload=function(){console.log("Proper isolated slotOnload: "+t.name),1==ce.testing_mode.enabled&&"unfilled"==ce.testing_mode.bidder&&"unfilled"==t.winning_ad.bidder?t.dispatchCustomEvent("proper-unfilled"):(t.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(t,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(t,"displayed_ad.size"),ad_type:t.ad_type}),t.hasWinningBid()&&1==t.winning_ad.displayed&&t.winning_ad.onBidWon()),"auto"==r.height&&(this.style.height=this.contentWindow.document.body.scrollHeight+"px")},ce.sandbox_iframe&&(r.sandbox=ce.sandbox_options.join(" ")||""),r.src="javascript:\"<html><body style='background:transparent'></body></html>\"",e.appendChild(r),e="<html><body>"+t.winning_ad.adcode+"</body></html>",ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")?oe.wrapTag(t,r.contentWindow,ProperMedia.utils.mergeObject({},t.winning_ad,{adcode:e})):1==ce.confiant?ne.wrapTag(t,r.contentWindow.document,ProperMedia.utils.mergeObject({},t.winning_ad,{adcode:e})):(r.contentWindow.document.open(),r.contentWindow.document.write(e),r.contentWindow.document.close()),"auto"==i[1]&&ProperMedia.utils.onElementHeightChange(r,function(e){r.style.height=e+"px"})}(e,s,t):0==i&&(i=e,a=s,n=t,(d=window.top.document.getElementById(a.div_id+"-iframe"))&&(d.style.width=Nr(n[0]),d.style.height=Nr(n[1])),i.defaultView&&i.defaultView.frameElement&&(e=n[0],t=n[1],i.defaultView.frameElement.width=e,i.defaultView.frameElement.height=t),1==ce.confiant?ne.wrapTag(a,i,a.winning_ad):i.write(a.winning_ad.adcode),"auto"==n[1]&&(d?(o=d.contentWindow.document.getElementById(a.dfpIframeId))?ProperMedia.utils.onElementHeightChange(o,function(e){o.style.height=e+"px",d.style.height=e+"px"}):ProperMedia.utils.onElementHeightChange(d,function(e){d.style.height=e+"px"}):(d=window.top.document.getElementById(a.dfpIframeId))&&ProperMedia.utils.onElementHeightChange(d,function(e){d.style.height=e+"px"}))),le.mylog("displayed! ("+s.name+", bidder="+s.winning_ad.bidder+", size="+s.winning_ad.size+", price="+s.winning_ad.price+")"),n=ProperMedia.utils.getTimePassed(s.auction_started_ts),a=ProperMedia.utils.validateValue(s.winning_ad.price,{type:"number",max:999,max_len:15}),ue.setSessionRevenue(a),le.saved_data[s.name]={bidder:s.winning_ad.bidder,cpm:a,size:s.winning_ad.size,slot:s.dfp_name,request_url:s.winning_ad.request_url,request_response:s.winning_ad.response,adcode:s.winning_ad.adcode,ad_details:s.winning_ad.ad_details},le.bid_data.ad_slots[s.name]={slot_name:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"dfp_name"),{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.bidder"),{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.gross"),{type:"number",max:999,max_len:15}),price:a,size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(n,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.advertiserId"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.campaignId"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.creativeId"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.dealid"),{type:"string",max_len:50})},s.displayed_ad=ProperMedia.utils.deepCopy(s.winning_ad),fe.displayed_ads.push(ProperMedia.utils.deepCopy(s.displayed_ad)),zr(0,s.name,s.winning_ad.size,0,0),clearTimeout(le.tracker_timeout),le.tracker_timeout=null,le.tracker_timeout=_.setTimeout.call(_e,function(){le.proper_tracker()},le.tracker_wait)):Br(s)}function Or(e,t){var i,r,s,a,n,o=_e.getSlotFromPageObject(e,["display","interstitial"]);o&&(o.interstitial||(o.removeCreative(),(s=window.top.document.getElementById(o.div_id+"-iframe"))&&(s.style.width=Nr(t.size[0]),s.style.height=Nr(t.size[1]))),i=t.size[0]+"x"+t.size[1],r=t.advertiserId,e="dfp",t.advertiserId==ce.amazon_advertiser?e="a9":t.advertiserId==ce.adsense_advertiser?e="adsense":t.advertiserId!=ce.google_advertiser&&1!=t.advertiserId&&null!=t.advertiserId&&null==t.yieldGroupIds||(e="adx"),o.advertiserId=t.advertiserId,s=0,"adx"!=e&&"adsense"!=e||(a=o.interstitial?"interstitial":i,n=o.getFloor(a),s=void 0!==o.winning_ad&&void 0!==o.winning_ad.dfp_price&&o.winning_ad.dfp_price>n?parseFloat(o.winning_ad.dfp_price)+.01:parseFloat(n)+.01),le.mylog("displayed! DFP ("+o.name+", bidder="+e+", size="+i+", price: "+s+")"),a=ProperMedia.utils.getTimePassed(o.auction_started_ts),ue.setSessionRevenue(s),n={slot_name:ProperMedia.utils.validateValue(o.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(e,{type:"string",max_len:30}),price:ProperMedia.utils.validateValue(s,{type:"number",max:1e3}),gross:ProperMedia.utils.validateValue(s,{type:"number",max:1e3}),size:ProperMedia.utils.validateValue(i,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(o.refresh.count,{type:"number",max:999}),line_item_id:ProperMedia.utils.validateValue(t.lineItemId,{type:"string",max_len:15}),response_ms:ProperMedia.utils.validateValue(a,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(a,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(r,{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(t.advertiserId,{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue("",{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(t.campaignId,{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(t.creativeId,{type:"string",max_len:50})},o.interstitial?le.interstitial_bid_data[o.name]=n:le.bid_data.ad_slots[o.name]=n,o.displayed_ad={type:"display",price:s,gross:s,dfp_price:s,bidder:e,size:i,adCode:"",tag_id:r,response_ms:a,displayed:1,adid:t.advertiserId,cid:t.campaignId,crid:t.creativeId},fe.displayed_ads.push(ProperMedia.utils.deepCopy(o.displayed_ad)),le.saved_data[o.name]={bidder:e,cpm:s,size:i,slot:o.dfp_name,request_url:"",request_response:"",adcode:"",ad_details:{}},clearTimeout(le.tracker_timeout),le.tracker_timeout=null,le.tracker_timeout=_.setTimeout.call(_e,function(){le.proper_tracker()},le.tracker_wait))}function zr(e,t,i,r,s){setTimeout(E.start,3e3);var a,n,o=".ad-sticky[class*='"+t+"']",d=_e.getSlotFromPageObject(t,["display"]);d&&(e||(d.size=i,le.ad_info[d.name]={creative_id:r,line_item_id:s,size:i}),i=ce.native_sizes[i]||i,d.sticky?e?0==d.refresh.count&&I(o).hide():(d.displayed=1,ce.enable_sticky_freq_cap&&0==d.refresh.count&&me.stickyFreqCapHandler.incrementStickyUnitImps(),void 0===d.winning_ad.bidder||0==d.winning_ad.displayed||1==d.winning_ad.displayed&&void 0===ce.native_sizes[d.winning_ad.size]?(void 0===I(o+" .sticky-inner .inner-left").obj&&"1x1"!==i&&(n='<div class="inner-left">',n+='<a href="https://proper.io?from=sticky" target="_blank" class="brand"></a>',n+="</div>",a='<div class="inner-right">',a+='<div class="close"></div>',a+="</div>",I(o+" .sticky-inner").insideBefore('<div class="inner-right"><div class="close"></div></div>'),I(o+" .sticky-inner").insideBefore('<div class="inner-left"><a href="https://proper.io?from=sticky" target="_blank" class="brand"></a></div>'),I(o+" .close").on("click",function(e){e.preventDefault(),I(o).removeStyle(),I(o).removeClass("isOpen"),I(o).addClass("close"),d.sticky_settings.disable_on_close&&me.stickyFreqCapHandler.setStickyClosedCookie(),Vr(d.name)})),I(o).removeClass("sticky-right"),I(o).removeClass("sticky-left"),I(o).removeClass("sticky-btm"),n=i.split("x"),a=parseInt(n[0]),n=parseInt(n[1]),300==a&&250==n||336==a&&280==n?I(o).addClass("sticky-corner-"+d.sticky_settings.position):a<n?I(o).addClass("sticky-"+d.sticky_settings.position):I(o).addClass("sticky-btm"),I(o).attr("style",""),I(o+" .sticky-inner").attr("style",""),"1x1"!==i&&I(o).attr("style","height: "+n+"px"),"1x1"!==i?qr(I(o)):I(o).hide(),(!window.innerWidth||window.innerWidth<=720||window.innerWidth<=a-96)&&I(o).addClass("for-mobile")):"gumgum"==d.winning_ad.bidder||"gumgum_s2s"==d.winning_ad.bidder?(I(o).addClass("sticky-btm"),I(o).obj.style.background="none",qr(I(o))):I(o).hide()):e||(1<d.min_width&&1<d.min_height&&(I("#"+CSS.escape(d.div_id)).obj.style.width="",I("#"+CSS.escape(d.div_id)).obj.style.height="",I("#"+CSS.escape(d.div_id)).obj.style.minWidth=d.min_width+"px",I("#"+CSS.escape(d.div_id)).obj.style.minHeight=d.min_height+"px"),1==d.report_ad_tool&&0==d.displayed&&I("#"+CSS.escape(d.div_id)).after('<a href="#report-ad" data-aid="'+d.div_id+'" class="call-modal report-ad">Report Advertisement</a>'),d.displayed=1),1!=d.displayed||e||(d.last_displayed_ts=ProperMedia.utils.getTimestampMs(),d.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),1==ProperMedia.utils.deepAccess(d,"winning_ad.displayed")&&1==ProperMedia.utils.deepAccess(ce,"bidder_info."+d.winning_ad.bidder+".dont_refresh")&&d.refresh.enabled,d.refresh.count),1==d.refresh.enabled&&d.refresh.count<d.refresh.max&&d.setRefreshInterval(),1==be.enabled&&be.addSlotOverlay(d),d.recycleBid())}function qr(t){var e=function(){var e,t=S.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}();e&&t.on(e,function(e){t.hasClass("open")?(t.addClass("isOpen"),t.removeClass("open")):t.hasClass("close")&&(t.addClass("isClosed"),t.removeClass("close"))}),t.addClass("open")}function Br(e){var t;zr(1,e.name,"0x0",0,0),"display"==e.type&&0<e.refresh.count||(t=ProperMedia.utils.getTimePassed(e.auction_started_ts),le.bid_data.ad_slots[e.name]={slot_name:ProperMedia.utils.validateValue(e.dfp_name,{type:"string",max_len:50}),bidder:"unfilled",price:0,gross:0,size:ProperMedia.utils.validateValue(e.default_size,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(e.refresh.count,{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(t,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(t,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:"",adid:"",adomain:"",cid:"",crid:"",dealid:""},e.displayed_ad={price:0,gross:0,dfp_price:0,bidder:"unfilled",size:e.default_size.join("x"),adCode:"",tag_id:"",response_ms:t},fe.displayed_ads.push(ProperMedia.utils.deepCopy(e.displayed_ad)),e.dispatchCustomEvent("proper-unfilled"),clearTimeout(le.tracker_timeout),le.tracker_timeout=null,le.tracker_timeout=_.setTimeout.call(_e,function(){le.proper_tracker()},le.tracker_wait))}function Nr(e){return"string"!=typeof e||-1===e.indexOf("%")&&"auto"!=e?e+"px":e}function Vr(e){e=_e.getSlotFromPageObject(e,["display"]);return!!e&&(e.refresh.enabled=0,e.removeRefreshTimeout(),!0)}return pe.id5Id=new h,de.a9=(Je=Le=0,We={display:{"1guboqo":.01,z31o8w:.02,"1yllp8g":.03,"8g4ni8":.04,"17yoohs":.05,q7eo00:.06,"1ppyozk":.07,cvy5mo:.08,"1cei6m8":.09,un864g:.1,"1u5s740":.11,"40b5ds":.12,"13iv6dc":.13,lrl5vk:.14,"1la56v4":.15,f3uwow:.16,"1emexog":.17,wv4x6o:.18,"1wdoy68":.19,"687wg0":.2,"15qrxfk":.21,nzhwxs:.22,"1ni1xxc":.23,ao1ekg:.24,"1a6lfk0":.25,sfbf28:.26,"1rxvg1s":.27,"1seebk":.28,"11ayfb4":.29,jjoetc:.3,"1j28fsw":.31,g7ta80:.32,"1fqdb7k":.33,xz3aps:.34,"1xhnbpc":.35,"7c69z4":.36,"16uqayo":.37,p3gagw:.38,"1om0bgg":.39,brzs3k:.4,"1bajt34":.41,tj9slc:.42,"1t1ttkw":.43,"2wcruo":.44,"12ewsu8":.45,knmscg:.46,"1k66tc0":.47,dzwj5s:.48,"1digk5c":.49,vr6jnk:.5,"1v9qkn4":.51,"549iww":.52,"14mtjwg":.53,mvjjeo:.54,"1me3ke8":.55,"9k311c":.56,"192n20w":.57,rbd1j4:.58,"1qtx2io":.59,og0sg:.6,"10701s0":.61,ifq1a8:.62,"1hya29s":.63,grsgzk:.64,"1gachz4":.65,yj2hhc:.66,"1y1migw":.67,"7w5gqo":.68,"17ephq8":.69,pnfh8g:.7,"1p5zi80":.71,cbyyv4:.72,"1buizuo":.73,u38zcw:.74,"1tlt0cg":.75,"3gbym8":.76,"12yvzls":.77,l7lz40:.78,"1kq603k":.79,ejvpxc:.8,"1e2fqww":.81,wb5qf4:.82,"1vtpreo":.83,"5o8pog":.84,"156sqo0":.85,nfiq68:.86,"1my2r5s":.87,a427sw:.88,"19mm8sg":.89,rvc8ao:.9,"1rdw9a8":.91,"18f7k0":.92,"10qz8jk":.93,izp81s:.94,"1ii991c":.95,fnu3gg:.96,"1f6e4g0":.97,xf43y8:.98,"1wxo4xs":.99,"6s737k":1,"16ar474":1.01,ojh3pc:1.02,"1o214ow":1.03,b80lc0:1.04,"1aqkmbk":1.05,szalts:1.06,"1shumtc":1.07,"2cdl34":1.08,"11uxm2o":1.09,k3nlkw:1.1,"1jm7mkg":1.11,dfxce8:1.12,"1cyhdds":1.13,v77cw0:1.14,"1uprdvk":1.15,"4kac5c":1.16,"142ud4w":1.17,mbkcn4:1.18,"1lu4dmo":1.19,"903u9s":1.2,"18inv9c":1.21,qrdurk:1.22,"1q9xvr4":1.23,"4gu0w":1.24,zn0v0g:1.25,hvquio:1.26,"1heavi8":1.27,hlr94w:1.28,"1h4ba4g":1.29,zd19mo:1.3,"1yvlam8":1.31,"8q48w0":1.32,"188o9vk":1.33,qhe9ds:1.34,"1pzyadc":1.35,d5xr0g:1.36,"1cohs00":1.37,ux7ri8:1.38,"1ufrshs":1.39,"4aaqrk":1.4,"13surr4":1.41,m1kr9c:1.42,"1lk4s8w":1.43,fdui2o:1.44,"1ewej28":1.45,x54ikg:1.46,"1wnojk0":1.47,"6i7hts":1.48,"160ritc":1.49,o9hibk:1.5,"1ns1jb4":1.51,ay0zy8:1.52,"1agl0xs":1.53,spb0g0:1.54,"1s7v1fk":1.55,"22dzpc":1.56,"11ky0ow":1.57,jto074:1.58,"1jc816o":1.59,ghsvls:1.6,"1g0cwlc":1.61,y92w3k:1.62,"1xrmx34":1.63,"7m5vcw":1.64,"174pwcg":1.65,pdfvuo:1.66,"1ovzwu8":1.67,c1zdhc:1.68,"1bkjegw":1.69,tt9dz4:1.7,"1tbteyo":1.71,"36cd8g":1.72,"12owe80":1.73,kxmdq8:1.74,"1kg6eps":1.75,e9w4jk:1.76,"1dsg5j4":1.77,w1651c:1.78,"1vjq60w":1.79,"5e94ao":1.8,"14wt5a8":1.81,n5j4sg:1.82,"1mo35s0":1.83,"9u2mf4":1.84,"19cmneo":1.85,rlcmww:1.86,"1r3wnwg":1.87,yfm68:1.88,"10gzn5s":1.89,ippmo0:1.9,"1i89nnk":1.91,h1s2dc:1.92,"1gkc3cw":1.93,yt22v4:1.94,"1ybm3uo":1.95,"86524g":1.96,"17op340":1.97,pxf2m8:1.98,"1pfz3ls":1.99,clyk8w:2,"1c4il8g":2.01,ud8kqo:2.02,"1tvslq8":2.03,"3qbk00":2.04,"138vkzk":2.05,lhlkhs:2.06,"1l05lhc":2.07,etvbb4:2.08,"1ecfcao":2.09,wl5bsw:2.1,"1w3pcsg":2.11,"5y8b28":2.12,"15gsc1s":2.13,npibk0:2.14,"1n82cjk":2.15,ae1t6o:2.16,"19wlu68":2.17,s5btog:2.18,"1rnvuo0":2.19,"1iesxs":2.2,"110ytxc":2.21,j9otfk:2.22,"1is8uf4":2.23,fxtou8:2.24,"1fgdpts":2.25,xp3pc0:2.26,"1x7nqbk":2.27,"726olc":2.28,"16kqpkw":2.29,otgp34:2.3,"1oc0q2o":2.31,bi06ps:2.32,"1b0k7pc":2.33,t9a77k:2.34,"1sru874":2.35,"2md6gw":2.36,"124x7gg":2.37,kdn6yo:2.38,"1jw77y8":2.39,dpwxs0:2.4,"1d8gyrk":2.41,vh6y9s:2.42,"1uzqz9c":2.43,"4u9xj4":2.44,"14ctyio":2.45,mljy0w:2.46,"1m43z0g":2.47,"9a3fnk":2.48,"18sngn4":2.49,r1dg5c:2.5,"1qjxh4w":2.51,egfeo:2.52,zx0ge8:2.53,i5qfwg:2.54,"1hoagw0":2.55,hgrgg0:2.56,"1gzbhfk":2.57,z81gxs:2.58,"1yqlhxc":2.59,"8l4g74":2.6,"183oh6o":2.61,qcegow:2.62,"1puyhog":2.63,d0xybk:2.64,"1cjhzb4":2.65,us7ytc:2.66,"1uarzsw":2.67,"45ay2o":2.68,"13nuz28":2.69,lwkykg:2.7,"1lf4zk0":2.71,f8upds:2.72,"1ereqdc":2.73,x04pvk:2.74,"1wioqv4":2.75,"6d7p4w":2.76,"15vrq4g":2.77,o4hpmo:2.78,"1nn1qm8":2.79,at179c:2.8,"1abl88w":2.81,skb7r4:2.82,"1s2v8qo":2.83,"1xe70g":2.84,"11fy800":2.85,joo7i8:2.86,"1j788hs":2.87,gct2ww:2.88,"1fvd3wg":2.89,y433eo:2.9,"1xmn4e8":2.91,"7h62o0":2.92,"16zq3nk":2.93,p8g35s:2.94,"1or045c":2.95,bwzksg:2.96,"1bfjls0":2.97,to9la8:2.98,"1t6tm9s":2.99,"31ckjk":3,"1dngcu8":3.05,n0jc3k:3.1,"1qywv7k":3.15,gws9og:3.2,"17jpaf4":3.25,u88s1s:3.3,"1kv5ssg":3.35,"5t8idc":3.4,"19rm1hc":3.45,j4p0qo:3.5,"1x2nxmo":3.55,bd0e0w:3.6,"11zxerk":3.65,vc75kw:3.7,"1lz46bk":3.75,"9gmps":3.8,"1h9b2tc":3.85,qme22o:3.9,"1ukrl6o":3.95,fiuark:4,"165rbi8":4.05,suat4w:4.1,"1jh7tvk":4.15,"7r5o1s":4.2,"1bpj75s":4.25,l2m6f4:4.3,"1vopyps":4.35,"9z2f40":4.4,"10lzfuo":4.45,yy1vk0:4.5,"1pkywao":4.55,"3vbcow":4.6,"1ehf4zk":4.65,nui48w:4.7,"1rsvncw":4.75,g2thj4:4.8,"16pqi9s":4.85,te9zwg:4.9,"1k170n4":4.95,"4z9q80":5,"18xn9c0":5.05,iaq8lc:5.1,"1yj3sw0":5.15,ctg9a8:5.2,"13gda0w":5.25,wsn0u8:5.3,"1nfk1kw":5.35,"1pwhz4":5.4,"1fnvev4":5.45,p0ye4g:5.5,"1szbx8g":5.55,dxemtc:5.6,"14kbnk0":5.65,r8v56o:5.7,"1hvs5xc":5.75,"7tnke8":5.8,"1bs13i8":5.85,l542rk:5.9,"1vr7v28":5.95,a1kbgg:6,"10ohc74":6.05,xcm7ls:6.1,"1nzj8cg":6.15,"29voqo":6.2,"1cvzh1c":6.25,m92gao:6.3,"1q7fzeo":6.35,hj9csg:6.4,"1866dj4":6.45,uupv5s:6.5,"1lhmvwg":6.55,"6fplhc":6.6,"1ae34lc":6.65,jr63uo:6.7,"1xp50qo":6.75,bzhh4w:6.8,"12mehvk":6.85,vyo8ow:6.9,"1mll9fk":6.95,vxpts:7,"1ghu70g":7.05,pux69s:7.1,"1ttapds":7.15,erdeyo:7.2,"15eafpc":7.25,s2txc0:7.3,"1ipqy2o":7.35,"6zos8w":7.4,"1ay2bcw":7.45,kb5am8:7.5,"1ux92ww":7.55,"97ljb4":7.6,zuik1s:7.65,z5jklc:7.7,"1psglc0":7.75,"42t1q8":7.8,"1eowu0w":7.85,o1zta8:7.9,"1s0dce8":7.95,gab6kg:8,wdnmrk:8.5,"8sm58g":9,n8114w:9.5,bki328:10,se2gw0:10.5,"3f30g0":11,huhwcg:11.5,e8n6dc:12,xnur5s:12.5,"6byqyo":13,pr6br4:13.5,"93uosg":14,tx08hs:14.5,"1m5ngg":15,lnubcw:15.5,go1mgw:16,v3gidc:16.5,"7if0u8":17,nlrh1c:17.5,cx73sw:18,rclzpc:18.5,"2dmj9c":19,juwydc:19.5,ev49hc:20,"53n1ts":21,axeiv4:22,dtybk:23,fs7f28:24,"8aidq8":25,boveo0:26,"476dc0":27,dmskcg:28,"5q44xs":29,"9vy1og":30,"1qiz28":31,hjvtvk:32,"70b9c0":33,cf3cao:34,"39gqo0":35},video:{v_1guboqo:.01,v_z31o8w:.02,v_1yllp8g:.03,v_8g4ni8:.04,v_17yoohs:.05,v_q7eo00:.06,v_1ppyozk:.07,v_cvy5mo:.08,v_1cei6m8:.09,v_un864g:.1,v_1u5s740:.11,v_40b5ds:.12,v_13iv6dc:.13,v_lrl5vk:.14,v_1la56v4:.15,v_f3uwow:.16,v_1emexog:.17,v_wv4x6o:.18,v_1wdoy68:.19,v_687wg0:.2,v_15qrxfk:.21,v_nzhwxs:.22,v_1ni1xxc:.23,v_ao1ekg:.24,v_1a6lfk0:.25,v_sfbf28:.26,v_1rxvg1s:.27,v_1seebk:.28,v_11ayfb4:.29,v_jjoetc:.3,v_1j28fsw:.31,v_g7ta80:.32,v_1fqdb7k:.33,v_xz3aps:.34,v_1xhnbpc:.35,v_7c69z4:.36,v_16uqayo:.37,v_p3gagw:.38,v_1om0bgg:.39,v_brzs3k:.4,v_1bajt34:.41,v_tj9slc:.42,v_1t1ttkw:.43,v_2wcruo:.44,v_12ewsu8:.45,v_knmscg:.46,v_1k66tc0:.47,v_dzwj5s:.48,v_1digk5c:.49,v_vr6jnk:.5,v_1v9qkn4:.51,v_549iww:.52,v_14mtjwg:.53,v_mvjjeo:.54,v_1me3ke8:.55,v_9k311c:.56,v_192n20w:.57,v_rbd1j4:.58,v_1qtx2io:.59,v_og0sg:.6,v_10701s0:.61,v_ifq1a8:.62,v_1hya29s:.63,v_grsgzk:.64,v_1gachz4:.65,v_yj2hhc:.66,v_1y1migw:.67,v_7w5gqo:.68,v_17ephq8:.69,v_pnfh8g:.7,v_1p5zi80:.71,v_cbyyv4:.72,v_1buizuo:.73,v_u38zcw:.74,v_1tlt0cg:.75,v_3gbym8:.76,v_12yvzls:.77,v_l7lz40:.78,v_1kq603k:.79,v_ejvpxc:.8,v_1e2fqww:.81,v_wb5qf4:.82,v_1vtpreo:.83,v_5o8pog:.84,v_156sqo0:.85,v_nfiq68:.86,v_1my2r5s:.87,v_a427sw:.88,v_19mm8sg:.89,v_rvc8ao:.9,v_1rdw9a8:.91,v_18f7k0:.92,v_10qz8jk:.93,v_izp81s:.94,v_1ii991c:.95,v_fnu3gg:.96,v_1f6e4g0:.97,v_xf43y8:.98,v_1wxo4xs:.99,v_6s737k:1,v_16ar474:1.01,v_ojh3pc:1.02,v_1o214ow:1.03,v_b80lc0:1.04,v_1aqkmbk:1.05,v_szalts:1.06,v_1shumtc:1.07,v_2cdl34:1.08,v_11uxm2o:1.09,v_k3nlkw:1.1,v_1jm7mkg:1.11,v_dfxce8:1.12,v_1cyhdds:1.13,v_v77cw0:1.14,v_1uprdvk:1.15,v_4kac5c:1.16,v_142ud4w:1.17,v_mbkcn4:1.18,v_1lu4dmo:1.19,v_903u9s:1.2,v_18inv9c:1.21,v_qrdurk:1.22,v_1q9xvr4:1.23,v_4gu0w:1.24,v_zn0v0g:1.25,v_hvquio:1.26,v_1heavi8:1.27,v_hlr94w:1.28,v_1h4ba4g:1.29,v_zd19mo:1.3,v_1yvlam8:1.31,v_8q48w0:1.32,v_188o9vk:1.33,v_qhe9ds:1.34,v_1pzyadc:1.35,v_d5xr0g:1.36,v_1cohs00:1.37,v_ux7ri8:1.38,v_1ufrshs:1.39,v_4aaqrk:1.4,v_13surr4:1.41,v_m1kr9c:1.42,v_1lk4s8w:1.43,v_fdui2o:1.44,v_1ewej28:1.45,v_x54ikg:1.46,v_1wnojk0:1.47,v_6i7hts:1.48,v_160ritc:1.49,v_o9hibk:1.5,v_1ns1jb4:1.51,v_ay0zy8:1.52,v_1agl0xs:1.53,v_spb0g0:1.54,v_1s7v1fk:1.55,v_22dzpc:1.56,v_11ky0ow:1.57,v_jto074:1.58,v_1jc816o:1.59,v_ghsvls:1.6,v_1g0cwlc:1.61,v_y92w3k:1.62,v_1xrmx34:1.63,v_7m5vcw:1.64,v_174pwcg:1.65,v_pdfvuo:1.66,v_1ovzwu8:1.67,v_c1zdhc:1.68,v_1bkjegw:1.69,v_tt9dz4:1.7,v_1tbteyo:1.71,v_36cd8g:1.72,v_12owe80:1.73,v_kxmdq8:1.74,v_1kg6eps:1.75,v_e9w4jk:1.76,v_1dsg5j4:1.77,v_w1651c:1.78,v_1vjq60w:1.79,v_5e94ao:1.8,v_14wt5a8:1.81,v_n5j4sg:1.82,v_1mo35s0:1.83,v_9u2mf4:1.84,v_19cmneo:1.85,v_rlcmww:1.86,v_1r3wnwg:1.87,v_yfm68:1.88,v_10gzn5s:1.89,v_ippmo0:1.9,v_1i89nnk:1.91,v_h1s2dc:1.92,v_1gkc3cw:1.93,v_yt22v4:1.94,v_1ybm3uo:1.95,v_86524g:1.96,v_17op340:1.97,v_pxf2m8:1.98,v_1pfz3ls:1.99,v_clyk8w:2,v_1c4il8g:2.01,v_ud8kqo:2.02,v_1tvslq8:2.03,v_3qbk00:2.04,v_138vkzk:2.05,v_lhlkhs:2.06,v_1l05lhc:2.07,v_etvbb4:2.08,v_1ecfcao:2.09,v_wl5bsw:2.1,v_1w3pcsg:2.11,v_5y8b28:2.12,v_15gsc1s:2.13,v_npibk0:2.14,v_1n82cjk:2.15,v_ae1t6o:2.16,v_19wlu68:2.17,v_s5btog:2.18,v_1rnvuo0:2.19,v_1iesxs:2.2,v_110ytxc:2.21,v_j9otfk:2.22,v_1is8uf4:2.23,v_fxtou8:2.24,v_1fgdpts:2.25,v_xp3pc0:2.26,v_1x7nqbk:2.27,v_726olc:2.28,v_16kqpkw:2.29,v_otgp34:2.3,v_1oc0q2o:2.31,v_bi06ps:2.32,v_1b0k7pc:2.33,v_t9a77k:2.34,v_1sru874:2.35,v_2md6gw:2.36,v_124x7gg:2.37,v_kdn6yo:2.38,v_1jw77y8:2.39,v_dpwxs0:2.4,v_1d8gyrk:2.41,v_vh6y9s:2.42,v_1uzqz9c:2.43,v_4u9xj4:2.44,v_14ctyio:2.45,v_mljy0w:2.46,v_1m43z0g:2.47,v_9a3fnk:2.48,v_18sngn4:2.49,v_r1dg5c:2.5,v_1qjxh4w:2.51,v_egfeo:2.52,v_zx0ge8:2.53,v_i5qfwg:2.54,v_1hoagw0:2.55,v_hgrgg0:2.56,v_1gzbhfk:2.57,v_z81gxs:2.58,v_1yqlhxc:2.59,v_8l4g74:2.6,v_183oh6o:2.61,v_qcegow:2.62,v_1puyhog:2.63,v_d0xybk:2.64,v_1cjhzb4:2.65,v_us7ytc:2.66,v_1uarzsw:2.67,v_45ay2o:2.68,v_13nuz28:2.69,v_lwkykg:2.7,v_1lf4zk0:2.71,v_f8upds:2.72,v_1ereqdc:2.73,v_x04pvk:2.74,v_1wioqv4:2.75,v_6d7p4w:2.76,v_15vrq4g:2.77,v_o4hpmo:2.78,v_1nn1qm8:2.79,v_at179c:2.8,v_1abl88w:2.81,v_skb7r4:2.82,v_1s2v8qo:2.83,v_1xe70g:2.84,v_11fy800:2.85,v_joo7i8:2.86,v_1j788hs:2.87,v_gct2ww:2.88,v_1fvd3wg:2.89,v_y433eo:2.9,v_1xmn4e8:2.91,v_7h62o0:2.92,v_16zq3nk:2.93,v_p8g35s:2.94,v_1or045c:2.95,v_bwzksg:2.96,v_1bfjls0:2.97,v_to9la8:2.98,v_1t6tm9s:2.99,v_31ckjk:3,v_1dngcu8:3.05,v_n0jc3k:3.1,v_1qywv7k:3.15,v_gws9og:3.2,v_17jpaf4:3.25,v_u88s1s:3.3,v_1kv5ssg:3.35,v_5t8idc:3.4,v_19rm1hc:3.45,v_j4p0qo:3.5,v_1x2nxmo:3.55,v_bd0e0w:3.6,v_11zxerk:3.65,v_vc75kw:3.7,v_1lz46bk:3.75,v_9gmps:3.8,v_1h9b2tc:3.85,v_qme22o:3.9,v_1ukrl6o:3.95,v_fiuark:4,v_165rbi8:4.05,v_suat4w:4.1,v_1jh7tvk:4.15,v_7r5o1s:4.2,v_1bpj75s:4.25,v_l2m6f4:4.3,v_1vopyps:4.35,v_9z2f40:4.4,v_10lzfuo:4.45,v_yy1vk0:4.5,v_1pkywao:4.55,v_3vbcow:4.6,v_1ehf4zk:4.65,v_nui48w:4.7,v_1rsvncw:4.75,v_g2thj4:4.8,v_16pqi9s:4.85,v_te9zwg:4.9,v_1k170n4:4.95,v_4z9q80:5,v_18xn9c0:5.05,v_iaq8lc:5.1,v_1yj3sw0:5.15,v_ctg9a8:5.2,v_13gda0w:5.25,v_wsn0u8:5.3,v_1nfk1kw:5.35,v_1pwhz4:5.4,v_1fnvev4:5.45,v_p0ye4g:5.5,v_1szbx8g:5.55,v_dxemtc:5.6,v_14kbnk0:5.65,v_r8v56o:5.7,v_1hvs5xc:5.75,v_7tnke8:5.8,v_1bs13i8:5.85,v_l542rk:5.9,v_1vr7v28:5.95,v_a1kbgg:6,v_10ohc74:6.05,v_xcm7ls:6.1,v_1nzj8cg:6.15,v_29voqo:6.2,v_1cvzh1c:6.25,v_m92gao:6.3,v_1q7fzeo:6.35,v_hj9csg:6.4,v_1866dj4:6.45,v_uupv5s:6.5,v_1lhmvwg:6.55,v_6fplhc:6.6,v_1ae34lc:6.65,v_jr63uo:6.7,v_1xp50qo:6.75,v_bzhh4w:6.8,v_12mehvk:6.85,v_vyo8ow:6.9,v_1mll9fk:6.95,v_vxpts:7,v_1ghu70g:7.05,v_pux69s:7.1,v_1ttapds:7.15,v_erdeyo:7.2,v_15eafpc:7.25,v_s2txc0:7.3,v_1ipqy2o:7.35,v_6zos8w:7.4,v_1ay2bcw:7.45,v_kb5am8:7.5,v_1ux92ww:7.55,v_97ljb4:7.6,v_zuik1s:7.65,v_z5jklc:7.7,v_1psglc0:7.75,v_42t1q8:7.8,v_1eowu0w:7.85,v_o1zta8:7.9,v_1s0dce8:7.95,v_gab6kg:8,v_wdnmrk:8.5,v_8sm58g:9,v_n8114w:9.5,v_bki328:10,v_se2gw0:10.5,v_3f30g0:11,v_huhwcg:11.5,v_e8n6dc:12,v_xnur5s:12.5,v_6byqyo:13,v_pr6br4:13.5,v_93uosg:14,v_tx08hs:14.5,v_1m5ngg:15,v_lnubcw:15.5,v_go1mgw:16,v_v3gidc:16.5,v_7if0u8:17,v_nlrh1c:17.5,v_cx73sw:18,v_rclzpc:18.5,v_2dmj9c:19,v_juwydc:19.5,v_ev49hc:20,v_53n1ts:21,v_axeiv4:22,v_dtybk:23,v_fs7f28:24,v_8aidq8:25,v_boveo0:26,v_476dc0:27,v_dmskcg:28,v_5q44xs:29,v_9vy1og:30,v_1qiz28:31,v_hjvtvk:32,v_70b9c0:33,v_cf3cao:34,v_39gqo0:35,v_ezhl34:36,v_4fx0jk:37,v_a9ohkw:38,v_p2hvk:39,v_gifcow:40,v_8gfw1s:41,v_b8btvk:42,v_3qmsjk:43,v_e57ke8:44,v_6nij28:45,v_9fegw0:46,v_168jr4:47,v_gzlekg:48,v_7ezev4:49,v_d8qvwg:50}},He={display:{fiuark:"a9","1lmmolc":"pubmatic_tam",fgcef4:"openx_tam",x7meww:"rubicon_tam","7onrpc":"oath_tam","1777sow":"adgeneration_tam",pfxs74:"districtmdmx_tam",l04a2o:"rhythmone_tam",n8114w:"verizonmedia_tam",b0iwao:"sovrn_tam",obzeo0:"pulsepoint_tam",rnuj9c:"index_tam","6kpe68":"districtm_tam",jw5wjk:"smaato_tam",tvrabk:"conversant_tam","11nfx1c":"triplelift_tam"},video:{fiuark:"amazon_tam_instream",x7meww:"magnite_tam_instream","5gr0n4":"adobe_tam_instream","19f4jr4":"conversant_uam_instream",b0iwao:"sovrn_tam_instream",obzeo0:"pulsepoint_tam_instream","1r6ek8w":"amobee_tam_instream",jw5wjk:"smaato_tam_instream",rnuj9c:"index_tam_instream","1lmmolc":"pubmatic_tam_instream",fgcef4:"openx_tam_instream","6kpe68":"districtm_tam_instream","7onrpc":"verizon_media_tam_instream","1777sow":"adgeneration_tam_instream",pfxs74:"dmx_tam_instream","1tebbb4":"yahoo_tam_instream",l04a2o:"unruly_tam_instream",n8114w:"verizon_media_tam_instream","1mql24g":"gumgum_uam_instream"}},Ge={sovrn_tam:9e4},{formatRequest:Bi,send:function(_){var f=_.bidder,b=ce.bidder_info[f]||b,e=Bi(_.requests,b);function n(g){"function"==typeof window.apstag.debug&&(1==ce.testing_mode.ids?window.apstag.debug("enable"):window.apstag.debug("disable"));var m,e,h=g.request_cnt||0,t=ProperMedia.utils.objectValues(g.slots)||[];0==t.length&&0<h||(le.mylog("Amazon bids sent",f),_.incrementRequestsSent(h),m=ProperMedia.utils.getTimestampMs(),e=function(e){try{le.mylog("Amazon bids returned: "+e.length);for(var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r=0;r<e.length;r++){var s,a=e[r];s=1==ce.testing_mode.ids?100:parseFloat(We[b.demand_type][a.amznbid])||0;var n=a.amznp||"fiuark",o=He[b.demand_type][n]||f,d=a.encodedQsParams||"",p=a.qsParams||"",l=a.ttl||Ge[o]||b.default_bid_ttl,c={encodedQsParams:d,qsParams:p},u=new D({bidder:o,price:s,gross:s,size:a.size,tag_id:a.slotID,request_url:"https://c.amazon-adsystem.com/e/dtb/bid",response:a,response_ms:i,received_ts:t,ad_details:c,ttl:l});"video"===b.demand_type?(u.type="video",u.vast_type="url",u.vast_tag="https://aax.amazon-adsystem.com/e/dtb/vast?b="+a.amzniid+"&pp="+a.amznbid+"&rnd="+Math.round((new Date).getTime())+"&cust_params="+d,u.vpaid=!1,u.video_type=b.video_type,u.size=(ProperMedia.utils.deepAccess(g,"tag_sizes."+u.tag_id)||(ge.isMobile()?["400x300"]:["640x480"]))[0]):(u.type="display",u.adcode='<script>var amzn_win=window,amzn_c=5,amzn_x=0;while(amzn_x<amzn_c){amzn_win=amzn_win.parent;if(amzn_win.apstag)try{amzn_win.apstag.renderImp(document,"'+a.amzniid+'");amzn_x=amzn_c}catch(e){}amzn_x++};<\/script>'),_.logBidResponse(u)}_.incrementBidResponseCount(h)}catch(e){throw e.bidder=f,e}},void 0!==v&&v.wrap(e),window.apstag.fetchBids({slots:t,timeout:2e3},e))}1==Le?n(e):(_e.amazon_queue=e,0==Je&&(Je=1,function(i,r,e,t,s){function a(e,t){r[i]._Q.push([e,t])}r[i]||(r[i]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},_Q:[]},(t=e.createElement("script")).async=1,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",t.addEventListener("load",v.wrap(function(){try{var e={pubID:"cb3b5777-430d-4622-b7fc-358cfa27d518",params:{},bidTimeout:2e3};ce.schain&&(e.schain=ce.schain),te.cmpPresent&&te.gdprApplies&&(e.gdpr={cmpTimeout:25}),"video"===b.demand_type&&(e.videoAdServer="DFP"),window.apstag.init(e),Le=1,n(_e.amazon_queue)}catch(e){throw e.bidder=f,e}})),(s=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,s))}("apstag",window,S)))},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4}}),de.adyoulike=(Ye="https://hb-api.omnitagjs.com/hb-api/prebid/v1",Xe="adyoulike",{formatRequest:Ni,send:function(g){var e=(t=Ni(g.requests)).bids||{},m=t.request_cnt,h=Ye+function(e){var t=[];e.referrer&&t.push("RefererUrl="+encodeURIComponent(e.referrer));e=ProperMedia.utils.getCanonicalUrl();e&&t.push("CanonicalUrl="+encodeURIComponent(e));return t.length?"?"+t.join("&"):""}(_e),t={Version:"1.0",PageRefreshed:ProperMedia.utils.getPageRefreshed(),Bids:e};te.cmpPresent&&(t.gdprConsent={consentString:te.consentString,consentRequired:"boolean"!=typeof te.gdprApplies||te.gdprApplies}),g.incrementRequestsSent(m),le.mylog(h,Xe);var _=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+Xe+".edge")||!1;I.ajax({url:h,method:"POST",requestType:"cors",bidder:Xe,edge:e,withCredentials:!0,data:JSON.stringify(t),success:function(e){try{if(response=ProperMedia.utils.safeJsonParse(e),response&&0!=response.length){var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(_,t);le.mylog(response,Xe);for(var r=0;r<response.length;r++){var s=response[r],a=s.BidID||"",n=s.Price||0,o=s.Width||1,d=s.Height||1,p=s.Ad||"",l=s.CreativeID||"",c=Ze.default_bid_ttl,u=new D({bidder:Xe,size:o+"x"+d,price:parseFloat(n),gross:parseFloat(n),adcode:p,tag_id:a,crid:l,request_url:h,response:s,response_ms:i,received_ts:t,ttl:c});g.logBidResponse(u)}}else{le.mylog("no "+Xe+" bids returned");var u=new D({bidder:Xe,price:0,gross:0,tag_id:"",request_url:Ye,response:e,response_ms:i,received_ts:t,ttl:0});g.logNoBidResponse(u)}g.incrementBidResponseCount(m)}catch(e){throw e.bidder=Xe,e}},error:function(e){try{g.incrementBidResponseCount(m);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(_,t),r={bidder:Xe,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=Xe,e}}})},bidderInfo:Ze={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),de.aol=(Qe="aol",Ke=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,et=/\w*(?=\s)/,tt=/src=("|')(.*?)\1/,{send:function(u){var i=u.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,p){var t={"728x90":225,"160x600":154,"300x600":529,"300x250":170,"320x50":3055};if(void 0===t[e])return;var i=Er(Qe,e),r=t[e],t=p,e=(new Date).getTime(),l="https://adserver-us.adtech.advertising.com/pubapi/3.0/9857.1/"+p+"/0/"+r+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+t+";misc="+e+";bidfloor="+i;te.cmpPresent&&("boolean"==typeof te.gdprApplies&&(l+=";gdpr="+Number(te.gdprApplies)),te.consentString&&(l+=";euconsent="+te.consentString));J.cmpPresent&&J.usPrivacy&&(l+=";us_privacy="+J.usPrivacy);le.mylog(l,Qe),u.incrementRequestsSent(1);var c=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(ce,"bidders.header."+Qe+".edge")||!1;I.ajax({url:l,special:"aol",requestType:"cors",bidder:Qe,edge:i,success:function(e){try{var t,i,r,s,a,n,o,d;le.mylog(e,Qe),(e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0<e.seatbid.length?(t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(c,t),r=e.seatbid[0].bid[0]||{},0<Object.keys(r).length?(void 0!==r.crid&&r.crid,s=r.w||1,a=r.h||1,n=r.price||0,o=r.adm||"",d=new D({bidder:Qe,size:s+"x"+a,price:parseFloat(n),gross:parseFloat(n),adcode:o,tag_id:p,request_url:l,response:r,response_ms:i,received_ts:t,ttl:$e.default_bid_ttl}),u.logBidResponse(d)):(d=new D({bidder:Qe,price:0,gross:0,tag_id:r.tag_id||"",request_url:l,response:r,response_ms:i,received_ts:t,ttl:0}),u.logNoBidResponse(d))):(d=new D({bidder:Qe,price:0,gross:0,tag_id:"",request_url:l,response:e,response_ms:i,received_ts:t,ttl:0}),u.logNoBidResponse(d)),u.incrementBidResponseCount(1),function(e){{var i;e&&e.ext&&e.ext.pixels&&((e=e.ext.pixels.match(Ke))&&(i=[],e.forEach(function(e){var t=e.match(et)[0],e=e.match(tt)[2];t&&e&&i.push({type:"img"===t?"image":"iframe",url:e,bidder:Qe})}),E.add(i)))}}(e)}catch(e){throw e.bidder=Qe,e}},error:function(e){try{u.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(c,t),r={bidder:Qe,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=Qe,e}}})}(e,i[e][t])})},bidderInfo:$e={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4}}),de.appnexus=(it="https://ib.adnxs.com/ut/v3/prebid",rt=[pe.identityLink],E.add({type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html",bidder:"appnexus"}),{formatRequest:Ui,send:function(x){var P=x.bidder,M=ce.bidder_info[P]||M,e=Ui(x.requests,P,M),t=ProperMedia.utils.objectValues(e.astTags)||[],k=e.request_cnt;if(0==t.length)return!1;var e={tags:t,sdk:{source:"pbjs",version:ce.prebid_version},referrer_detection:{rd_ref:encodeURIComponent(_e.url),rd_top:!0,rd_ifs:0,rd_stk:encodeURIComponent(_e.url)},user:{}},s=[];rt.forEach(function(e){var t,i,r;ProperMedia.utils.deepAccess(e,"config.enabled")&&(t=s,i=e.getValue(),r=e.source,e=null,i&&(e?t.push({source:r,id:i,rti_partner:e}):t.push({source:r,id:i})))}),s.length&&(e.eids=s),ce.schain&&(e.schain=ce.schain),te.cmpPresent&&(e.gdpr_consent={consent_string:te.consentString,consent_required:te.gdprApplies}),J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy),le.mylog(it,P),x.incrementRequestsSent(k);var S=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+P+".edge")||!1;I.ajax({url:it,requestType:"cors",method:"POST",bidder:P,edge:t,data:JSON.stringify(e),success:function(e){try{le.mylog(e,P);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(S,t),r=ProperMedia.utils.safeJsonParse(e);if(r&&r.error){le.mylog("Error: "+P+" adapter - "+r.error);var s={bidder:P,status:418,statusText:r.error+"(x"+k+")",response_ms:i};x.logBidResponseError(s)}else if(r&&r.tags&&r.tags.length)for(var a=0;a<r.tags.length;a++){var n=r.tags[a];if(n.ads&&n.ads[0]){var o=n.tag_id,d=n.ads[0],p=d.cpm||0,l=d.advertiser_id||"",c=d.creative_id||"",u=M.rev_share||1,g=new D({bidder:P,price:parseFloat(p*u),gross:parseFloat(p),tag_id:o,adid:l,crid:c,request_url:it,response:n,response_ms:i,received_ts:t,ttl:M.default_bid_ttl});if("video"==M.demand_type){var m=ProperMedia.utils.deepAccess(d,"rtb.notify_url")||"",h=ProperMedia.utils.deepAccess(d,"rtb.video.asset_url")||"",_=(ProperMedia.utils.deepAccess(d,"rtb.video.notify_url"),ProperMedia.utils.deepAccess(d,"rtb.video.player_width")||""),f=ProperMedia.utils.deepAccess(d,"rtb.video.player_height")||"",b="",v="";"instream"==M.video_type?(b=m+"&redir="+encodeURIComponent(h),v="url"):"outstream"==M.video_type&&(b=ProperMedia.utils.deepAccess(d,"rtb.video.content")||"",v="tag"),g.size=_+"x"+f,g.type="video",g.vast_tag=b,g.vast_type=v,g.vpaid=!0,g.video_type=M.video_type}else{var y=ProperMedia.utils.deepAccess(d,"rtb.banner.content")||"",_=ProperMedia.utils.deepAccess(d,"rtb.banner.width")||"",f=ProperMedia.utils.deepAccess(d,"rtb.banner.height")||"",w="";try{w=d.rtb.trackers[0].impression_urls[0]}catch(e){}y+='<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(w)+'"></div>',g.size=_+"x"+f,g.adcode=y}x.logBidResponse(g)}else n.nobid&&(g=new D({bidder:P,price:0,gross:0,tag_id:n.tag_id||"",request_url:it,response:n,response_ms:i,received_ts:t,ttl:0}),x.logNoBidResponse(g))}else{g=new D({bidder:P,price:0,gross:0,tag_id:"",request_url:it,response:r,response_ms:i,received_ts:t,ttl:0});x.logNoBidResponse(g)}x.incrementBidResponseCount(k)}catch(e){throw e.bidder=P,e}},error:function(e){try{x.incrementBidResponseCount(k);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(S,t),r={bidder:P,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};x.logBidResponseError(r)}catch(e){throw e.bidder=P,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),de.concert=(st={rev_share:1,bid_grouping:"page",default_bid_ttl:6e4,native_sizes:{"1030x590":"native_horizontal"}},at="https://bids.concert.io/bids/prebid",nt="concert",ot=[[1030,590],[620,366],[325,204],[325,508]],L.ready(function(){Li()||E.add({type:"iframe",url:"https://cdn.concert.io/lib/bids/sync.html",bidder:nt})}),{formatRequest:Fi,send:function(l){var s,e=Fi(l.requests),t=ProperMedia.utils.objectValues(e.bids)||[],a=e.request_cnt;0!=a&&(e={meta:{prebidVersion:ce.prebid_version,pageUrl:_e.bidder_page_url,screen:[window.screen.width,window.screen.height].join("x"),debug:1==ce.testing_mode.ids,uid:function(){if(Li())return!1;var e=ProperMedia.utils.getDataFromLocalStorage("c_uid");e||(e=ProperMedia.utils.generateUUID(),ProperMedia.utils.setDataInLocalStorage("c_uid",e));return e}(),optedOut:Li(),adapterVersion:"1.0.2"},slots:t},le.mylog(at,nt),l.incrementRequestsSent(a),s=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+nt+".edge")||!1,I.ajax({url:at,method:"POST",requestType:"cors",bidder:nt,edge:t,data:JSON.stringify(e),success:function(o){try{o=ProperMedia.utils.safeJsonParse(o);var e,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(s,d);o&&o.bids&&0!=Object.keys(o.bids).length?(le.mylog(o,nt),Object.keys(o.bids).forEach(function(e){var t=o.bids[e],i=t.bidId||"",r=t.cpm||0,s=(t.netRevenue,t.currency,t.width||1),a=t.height||1,n=t.ad||"",e=1e3*t.ttl||st.default_bid_ttl,a=s+"x"+a;st.native_sizes[a]&&(a=st.native_sizes[a]);e=new D({bidder:nt,size:a,price:parseFloat(r*st.rev_share),gross:parseFloat(r),adcode:n,tag_id:i,request_url:at,response:t,response_ms:p,received_ts:d,ttl:e});e.price&&e.adcode?l.logBidResponse(e):l.logNoBidResponse(e)})):(le.mylog("no "+nt+" bids returned"),e=new D({bidder:nt,price:0,gross:0,tag_id:"",request_url:at,response:o,response_ms:p,received_ts:d,ttl:0}),l.logNoBidResponse(e)),l.incrementBidResponseCount(a)}catch(e){throw e.bidder=nt,e}},error:function(e){try{l.incrementBidResponseCount(a);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(s,t),r={bidder:nt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};l.logBidResponseError(r)}catch(e){throw e.bidder=nt,e}}}))},bidderInfo:st}),de.consumable=(dt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e4},pt="9969",lt="1030626",ct="consumable",ut=1,gt="https://e.serverbid.com/api/v2",(mt=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"])[77]="970x90",mt[123]="970x250",mt[43]="300x600",mt[286]="970x66",mt[3230]="970x280",mt[429]="486x60",mt[374]="700x500",mt[934]="300x1050",mt[1578]="320x100",mt[331]="320x250",mt[3301]="320x267",mt[2730]="728x250",{formatRequest:Ji,send:function(u){lt=ProperMedia.utils.deepAccess(ce,"bidders.header."+ct+".site_id")||lt;var e=Ji(u.requests),t=e.imps||{},g=e.request_cnt;if(0==g)return!1;e={networkId:pt,siteId:lt,placements:ProperMedia.utils.objectValues(t)||[],time:Date.now(),url:_e.bidder_page_url,referrer:_e.referrer,source:[{name:"prebidjs",version:ce.prebid_version}]},te.cmpPresent&&(e.gdpr={consent:te.consentString,applies:"boolean"!=typeof te.gdprApplies||te.gdprApplies}),J.cmpPresent&&J.usPrivacy&&(e.ccpa=J.usPrivacy),E.add({type:"iframe",url:"https://sync.serverbid.com/ss/"+lt+".html",bidder:ct}),le.mylog(gt,ct),u.incrementRequestsSent(g);var m=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+ct+".edge")||!1;I.ajax({url:gt,method:"POST",requestType:"cors",bidder:ct,edge:t,data:JSON.stringify(e),success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t);if(e){var r=(e=ProperMedia.utils.safeJsonParse(e))||{};if(r&&r.decisions&&0<Object.keys(r.decisions).length)for(ut in r.decisions){var s=r.decisions[ut],a=ProperMedia.utils.deepAccess(s,"pricing.clearPrice")||0,n=s.width||0,o=s.height||0,d=s.adId||"",p=(c=s).contents&&c.contents[0]&&c.contents[0].body+function(e){if(!e)return"";var t=encodeURI(e),e='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return e+='<img src="'+t+'"></div>'}(c.impressionUrl)||"",l=new D({bidder:ct,size:n+"x"+o,price:parseFloat(a),gross:parseFloat(a),adcode:p,tag_id:ut,adid:d,request_url:gt,response:e,response_ms:i,received_ts:t,ttl:dt.default_bid_ttl});u.logBidResponse(l),u.incrementBidResponseCount(g)}else{l=new D({bidder:ct,price:0,gross:0,tag_id:"",request_url:gt,response:r,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(l)}}else{l=new D({bidder:ct,price:0,gross:0,tag_id:"",request_url:gt,response:e,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(l)}u.incrementBidResponseCount(g)}catch(e){throw e.bidder=ct,e}var c},error:function(e){try{u.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r={bidder:ct,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=ct,e}}})},bidderInfo:dt}),de.conversant=(_t="https://web.hb.ad.cpe.dotomi.com/s2s/header/24",ft="conversant",{formatRequest:Wi,send:function(c){if(!(i=ProperMedia.utils.deepAccess(ce,"bidders.header."+ft+".site_id")||0))return le.mylog("Error: Conversant Site ID is Required."),!1;var e=Wi(c.requests),t=ProperMedia.utils.objectValues(e.imps)||[],s=e.request_cnt,i={id:Date.now().toString(),at:1,imp:t,site:{id:i.toString(),mobile:ge.isMobile()?1:0,page:_e.bidder_page_url},device:(t=navigator.language?"language":"userLanguage",{h:screen.height,w:screen.width,dnt:ProperMedia.utils.getDNT()?1:0,language:navigator[t].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent}),user:{ext:{fpc:me.pubcid}}};0<(t=function(){var t=T.getEidsArray();if(ProperMedia.utils.isArray(t)&&0<t.length){const i={"adserver.org":1,"liveramp.com":1,"criteo.com":1,"id5-sync.com":1,"parrable.com":1,"digitru.st":1,"liveintent.com":1};t.forEach(function(e){i.hasOwnProperty(e.source)&&t.push(e)})}return t}()).length&&ProperMedia.utils.deepSetValue(i,"user.ext.eids",t),ce.schain&&(i.source={ext:{schain:ce.schain}}),te.cmpPresent&&(i.user.ext.consent=te.consentString,"boolean"==typeof te.gdprApplies&&(i.regs={ext:{gdpr:Number(te.gdprApplies)}})),J.cmpPresent&&J.usPrivacy&&(i.regs=i.regs||{},i.regs.ext=i.regs.ext||{},i.regs.ext.us_privacy=J.usPrivacy),le.mylog(_t,ft),c.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+ft+".edge")||!1;I.ajax({url:_t,method:"POST",requestType:"cors",bidder:ft,edge:t,data:JSON.stringify(i),success:function(d){try{var e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);(d=ProperMedia.utils.safeJsonParse(d))&&d.seatbid&&0!=d.seatbid.length&&d.seatbid[0].bid&&d.seatbid[0].bid.length?(le.mylog(d,ft),Object.keys(d.seatbid).forEach(function(o){Object.keys(d.seatbid[o].bid).forEach(function(e){var t=d.seatbid[o].bid[e],i=(t.id,t.impid||""),r=t.price||0,s=t.w||1,a=t.h||1,n=t.adm||"",e=t.nurl||"",n=e?n+'<img src="'+e+'" />':n,t=new D({bidder:ft,size:s+"x"+a,price:parseFloat(r),gross:parseFloat(r),adcode:n,tag_id:i,request_url:_t,response:t,response_ms:l,received_ts:p,ttl:ht.default_bid_ttl});c.logBidResponse(t)})})):(le.mylog("no conversant bids returned"),e=new D({bidder:ft,price:0,gross:0,tag_id:"",request_url:_t,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=ft,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:ft,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=ft,e}}})},bidderInfo:ht={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),de.criteo=function(){var m={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4},h="criteo",i=1;function r(r){var s={slots:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===s.slots[i]&&(s.slots[i]={impid:i,sizes:[]}),s.slots[i].sizes.push(e),s.request_cnt++}}),s}return{formatRequest:r,send:function(u){var e=r(u.requests),t=ProperMedia.utils.objectValues(e.slots)||[],s=e.request_cnt;if(0==(t={publisher:{url:_e.bidder_page_url,networkid:parseInt(8388)},slots:t}).slots.length)return!1;te.cmpPresent&&(t.gdprConsent={},void 0!==te.gdprApplies&&(t.gdprConsent.gdprApplies=!!te.gdprApplies),void 0!==te.consentString&&(t.gdprConsent.consentData=te.consentString),te.vendorData&&te.vendorData.vendorConsents&&void 0!==te.vendorData.vendorConsents[91]&&(t.gdprConsent.consentGiven=!!te.vendorData.vendorConsents[91])),J.cmpPresent&&J.usPrivacy&&(t.user={uspIab:J.usPrivacy});var g="https://bidder.criteo.com/cdb";g+="?profileId=207",g+="&av="+String(29),g+="&wv="+encodeURIComponent(ce.prebid_version),g+="&cb="+String(Math.floor(99999999999*Math.random())),g+="&im="+i,1==ce.testing_mode.ids&&(g+="&debug=1"),le.mylog(g,h),u.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs();I.ajax({url:g,requestType:"cors",method:"POST",data:JSON.stringify(t),success:function(e){try{le.mylog(e,h);var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p),c=ProperMedia.utils.safeJsonParse(e);c&&c.slots&&0<Object.keys(c.slots).length?Object.keys(c.slots).forEach(function(e){var t=c.slots[e],i=(t.impid,t.zoneid||""),r=t.cpm||0,s=t.width||0,a=t.height||0,n=t.creative||"",o=t.deal||"",d=t.creativecode||"",e=1e3*t.ttl||m.default_bid_ttl,e=new D({bidder:h,size:s+"x"+a,price:parseFloat(r),gross:parseFloat(r),adcode:n,tag_id:i,dealid:o,crid:d,request_url:g,response:t,response_ms:l,received_ts:p,ttl:e});u.logBidResponse(e)}):(t=new D({bidder:h,price:0,gross:0,tag_id:"",request_url:g,response:c,response_ms:l,received_ts:p,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(s)}catch(e){throw e.bidder=h,e}},error:function(e){try{u.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}})},bidderInfo:m}}(),de.districtmdmx=(bt=[pe.identityLink,pe.id5Id,pe.pubCommonId],L.ready(function(){var e=[],t="https://cdn.districtm.io/ids/index.html";te&&te.cmpPresent&&te.gdprApplies&&"string"==typeof te.consentString&&e.push(["gdpr",te.consentString]),J.cmpPresent&&J.usPrivacy&&e.push(["ccpa",J.usPrivacy]),0<e.length&&(t+="?"+e.map(function(e){e.join("=")}).join("&")),E.add({type:"iframe",url:t,bidder:"districtmdmx"})}),{formatRequest:Hi,send:function(h){var _=h.bidder,f=ce.bidder_info[_]||f,b=Hi(h.requests,_,f),e=ProperMedia.utils.objectValues(b.imps)||[],s=b.request_cnt,v=1==ce.testing_mode.ids?"https://demo.arrepiblik.com/dmx2":"https://dmx.districtm.io/b/v1",t={id:ProperMedia.utils.generateUUID(),cur:["USD"],tmax:550,site:{publisher:{id:String(100275)}},imp:e},a=[];bt.forEach(function(e){var t,i,r;ProperMedia.utils.deepAccess(e,"config.enabled")&&(t=a,i=e.getValue(),r=e.source,e=e.atype,ProperMedia.utils.isStr(i)&&Array.isArray(t)&&t.push({source:r,uids:[{id:i,atype:e}]}))}),ProperMedia.utils.deepSetValue(t,"user.ext.eids",a),ce.schain&&(t.source={ext:{schain:ce.schain}}),te.cmpPresent&&(t.user={ext:{consent:te.consentString}},"boolean"==typeof te.gdprApplies&&(t.regs={ext:{gdpr:Number(te.gdprApplies)}})),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy),1==ce.testing_mode.ids&&(t.test=1),le.mylog(v,_),h.incrementRequestsSent(s);var n=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+_+".edge")||!1;I.ajax({url:v,requestType:"cors",method:"POST",bidder:_,edge:e,data:JSON.stringify(t),success:function(u){try{var e,g=ProperMedia.utils.getTimestampMs(),m=ProperMedia.utils.calcResponseMs(n,g);(u=ProperMedia.utils.safeJsonParse(u))&&u.seatbid&&0!=u.seatbid.length&&u.seatbid[0].bid&&u.seatbid[0].bid.length?(le.mylog(u,_),Object.keys(u.seatbid).forEach(function(c){Object.keys(u.seatbid[c].bid).forEach(function(e){var t=u.seatbid[c].bid[e],i=(t.id,t.impid||""),r=t.price||0,s=t.w||0,a=t.h||0,n=t.adm||"",o=t.dealid||"",d=t.crid||"",p=t.nurl||"",l=p?n+'<img src="'+p+'" />':n;s&&a||(e="display"==f.demand_type?"banner":"video",s=ProperMedia.utils.deepAccess(b,"imps."+i+"."+e+".w"),a=ProperMedia.utils.deepAccess(b,"imps."+i+"."+e+".h"));o=new D({bidder:_,size:s+"x"+a,price:parseFloat(r),gross:parseFloat(r),tag_id:i,dealid:o,crid:d,request_url:v,response:t,response_ms:m,received_ts:g,ttl:f.default_bid_ttl});"video"==f.demand_type?(d=function(t,i){try{var e=/<img\s[^>]*?src\s*=\s*['\"]([^'\"]*?)['\"][^>]*?>/,r=t.match(e),s=r[0]||"",a=r[1]||"";return t=t.replace(e,""),s&&a&&(n="<Impression><![CDATA["+a+"]]></Impression>",t=t.replace("</Impression>","</Impression>"+n)),t}catch(e){if(!i)return t;var n="<Impression><![CDATA["+i+"]]></Impression>";return t=t.replace("</Impression>","</Impression>"+n)}}(n,p),n=t.attr||[],p=t.api||0,t=t.protocol||5,t=-1!==[1,2,3,7].indexOf(t)?"url":"tag",p=-1!==n.indexOf(16)||-1!==[1,2].indexOf(p),o.type="video",o.vast_tag=d,o.vast_type=t,o.vpaid=p,o.video_type=f.video_type):o.adcode=l,h.logBidResponse(o)})})):(le.mylog("No "+_+" bids returned"),e=new D({bidder:_,price:0,gross:0,tag_id:"",request_url:v,response:u,response_ms:m,received_ts:g,ttl:0}),h.logNoBidResponse(e)),h.incrementBidResponseCount(s)}catch(e){throw e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(n,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:36e4}}),de.emx=(L.ready(function(){var e=[],t="https://biddr.brealtime.com/check.html";te&&te.cmpPresent&&"string"==typeof te.consentString&&("boolean"==typeof te.gdprApplies?e.push(["gdpr",Number(te.gdprApplies)],["gdpr_consent",te.consentString]):e.push(["gdpr_consent",te.consentString])),0<e.length&&(t+="?"+e.map(function(e){e.join("=")}).join("&")),E.add({type:"iframe",url:t,bidder:"emx"})}),{formatRequest:Gi,send:function(c){var u=c.bidder,g=ce.bidder_info[u]||g,e=Gi(c.requests,u,g),m=ProperMedia.utils.objectValues(e.imps)||[],s=e.request_cnt,h="https://hb.emxdgt.com?t=1000&ts="+Date.now(),t={id:Date.now().toString(),imp:m,site:{domain:ProperMedia.utils.getPageDomain(),page:_e.bidder_page_url,ref:_e.referrer},device:{ua:navigator.userAgent,js:1,dnt:ProperMedia.utils.getDNT()?1:0,h:_e.height,w:_e.width,devicetype:ge.isMobile()?1:2,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},cur:"USD",version:"1.5.1"};ce.schain&&(t.source={ext:{schain:ce.schain}}),te.cmpPresent&&(t.user={ext:{consent:te.consentString}},"boolean"==typeof te.gdprApplies&&(t.regs={ext:{gdpr:Number(te.gdprApplies)}})),J.cmpPresent&&J.usPrivacy&&(t.us_privacy=J.usPrivacy),le.mylog(h,u),c.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+u+".edge")||!1;I.ajax({url:h,method:"POST",requestType:"cors",bidder:u,edge:e,data:JSON.stringify(t),success:function(d){try{d=ProperMedia.utils.safeJsonParse(d);var e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);d&&d.seatbid&&0<d.seatbid.length&&d.seatbid[0].bid&&0<d.seatbid[0].bid.length?(le.mylog(d,u),Object.keys(d.seatbid).forEach(function(e){var t=d.seatbid[e].bid[0],i=t.id||"",r=(t.crid||t.id,t.price||0),s=t.w||1,a=t.h||1,n=t.adm||"",o=t.crid||"",e=1e3*t.ttl||g.default_bid_ttl;1==s&&1==a&&(s=m[0].banner.w,a=m[0].banner.h);a=new D({bidder:u,size:s+"x"+a,price:parseFloat(r),gross:parseFloat(r),tag_id:i,crid:o,request_url:h,response:t,response_ms:l,received_ts:p,ttl:e});if("video"==g.demand_type){r=n,i=t.attr||[],o=t.api||0,e=t.protocol||5,e=-1!==[1,2,3,7].indexOf(e)?"url":"tag",o=-1!==i.indexOf(16)||-1!==[1,2].indexOf(o);a.type="video",a.vast_tag=r,a.vast_type=e,a.vpaid=o,a.video_type=g.video_type}else{try{n=decodeURIComponent(n)||""}catch(e){n=t.adm||""}a.adcode=n}c.logBidResponse(a)})):(e=new D({bidder:u,price:0,gross:0,tag_id:"",request_url:h,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=u,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=u,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page"}}),de.facebook=(vt="facebook",{formatRequest:Zi,send:function(m){var h=Zi(m.requests),e=h.query_string||"",t=h.request_cnt;if(0==t)return!1;var _="https://an.facebook.com/v2/placementbid.json?sdk=5.5.web"+e,e=!1;1==ce.testing_mode.ids&&(e=!0,le.mylog("Facebook debug mode")),le.mylog(_+="&testmode="+e,vt),m.incrementRequestsSent(t);var i=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+vt+".edge")||!1;I.ajax({url:_,requestType:"cors",bidder:vt,edge:e,success:function(e){try{le.mylog(e,vt);var c,u,g=ProperMedia.utils.safeJsonParse(e);g&&void 0!==g.bids&&(c=ProperMedia.utils.getTimestampMs(),u=ProperMedia.utils.calcResponseMs(i,c),Object.keys(g.bids).forEach(function(e){for(var t=0;t<g.bids[e].length;t++){var i,r,s,a=g.bids[e][t],n=parseFloat(a.bid_price_cents/100)||0,o=a.placement_id||"",d=a.bid_id||"",p=a.bid_price_currency||"",l=a.bid_price_model||"";"usd"===p&&"cpm"===l?void 0!==h.bids[o]&&0!=n&&(i=h.bids[o].size,r=h.bids[o].format,h.bids[o].bidmod,s="<html>",s+="<body>",s+='<div style="display:none; position: relative;">',s+='<script type="text/javascript">',s+="var data = {",s+='placementid: "'+o+'",',s+='format: "'+("fullwidth"==r?r:i)+'",',s+='bidid: "'+d+'",',s+="testmode: false,",s+="onAdLoaded: function(element) {",s+='element.style.display = "block";',s+="},",s+="onAdError: function(errorCode, errorMessage) {",s+='console.log("Audience Network '+o+' error (" + errorCode + ") " + errorMessage);',s+="}",s+="};",s+="<\/script>",s+="<script>",s+='(function(a,b,c){var d="https://www.facebook.com",e="https://connect.facebook.net/en_US/fbadnw55.js",f={iframeLoaded:true,xhrLoaded:true},g=a.data,h=function(){if(Date.now){return Date.now();}else return +new Date();},i=function(aa){var ba=d+"/audience_network/client_event",ca={cb:h(),event_name:"ADNW_ADERROR",ad_pivot_type:"audience_network_mobile_web",sdk_version:"5.5.web",app_id:g.placementid.split("_")[0],publisher_id:g.placementid.split("_")[1],error_message:aa},da=[];for(var ea in ca)da.push(encodeURIComponent(ea)+"="+encodeURIComponent(ca[ea]));var fa=ba+"?"+da.join("&"),ga=new XMLHttpRequest();ga.open("GET",fa,true);ga.send();if(g.onAdError)g.onAdError("1000","Internal error.");},j=function(){if(b.currentScript){return b.currentScript;}else{var aa=b.getElementsByTagName("script");return aa[aa.length-1];}},k=function(aa){try{return aa.document.referrer;}catch(ba){}return "";},l=function(){var aa=a,ba=[aa];try{while(aa!==aa.parent&&aa.parent.document)ba.push(aa=aa.parent);}catch(ca){}return ba.reverse();},m=function(){var aa=l();for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=ca.ADNW||{};ca.ADNW=da;if(!ca.ADNW)continue;return da.v55=da.v55||{ads:[],window:ca};}throw new Error("no_writable_global");},n=function(aa){var ba=aa.indexOf("/",aa.indexOf("://")+3);if(ba===-1)return aa;return aa.substring(0,ba);},o=function(aa){return aa.location.href||k(aa);},p=function(aa){if(aa.sdkLoaded)return;var ba=aa.window.document,ca=ba.createElement("iframe");ca.name="fbadnw";ca.style.display="none";ba.body.appendChild(ca);var da=ca.contentDocument.createElement("script");da.src=e;da.async=true;ca.contentDocument.body.appendChild(da);aa.sdkLoaded=true;},q=function(aa){var ba=/^https?:\\/\\/www\\.google(\\.com?)?.\\w{2,3}$/;return !!aa.match(ba);},r=function(aa){return !!aa.match(/cdn\\.ampproject\\.org$/);},s=function(){var aa=c.ancestorOrigins||[],ba=aa[aa.length-1]||c.origin,ca=aa[aa.length-2]||c.origin;if(q(ba)&&r(ca)){return n(ca);}else return n(ba);},t=function(aa){try{return JSON.parse(aa);}catch(ba){i(ba.message);throw ba;}},u=function(aa,ba,ca){if(!aa.iframe){var da=ca.createElement("iframe");da.src=d+"/audiencenetwork/iframe/";da.style.display="none";ca.body.appendChild(da);aa.iframe=da;aa.iframeAppendedTime=h();aa.iframeData={};}ba.iframe=aa.iframe;ba.iframeData=aa.iframeData;ba.tagJsIframeAppendedTime=aa.iframeAppendedTime||0;},v=function(aa){var ba=d+"/audiencenetwork/xhr/?sdk=5.5.web";for(var ca in aa)if(typeof aa[ca]!=="function")ba+="&"+ca+"="+encodeURIComponent(aa[ca]);var da=new XMLHttpRequest();da.open("GET",ba,true);da.withCredentials=true;da.onreadystatechange=function(){if(da.readyState===4){var ea=t(da.response);aa.events.push({name:"xhrLoaded",source:aa.iframe.contentWindow,data:ea,postMessageTimestamp:h(),receivedTimestamp:h()});}};da.send();},w=function(aa,ba){var ca=d+"/audiencenetwork/xhriframe/?sdk=5.5.web";for(var da in ba)if(typeof ba[da]!=="function")ca+="&"+da+"="+encodeURIComponent(ba[da]);var ea=b.createElement("iframe");ea.src=ca;ea.style.display="none";b.body.appendChild(ea);ba.iframe=ea;ba.iframeData={};ba.tagJsIframeAppendedTime=h();},x=function(aa){var ba=function(event){try{var da=event.data;if(da.name in f)aa.events.push({name:da.name,source:event.source,data:da.data});}catch(ea){}},ca=aa.iframe.contentWindow.parent;ca.addEventListener("message",ba,false);},y=function(aa){if(aa.context&&aa.context.sourceUrl)return true;try{return !!JSON.parse(decodeURI(aa.name)).ampcontextVersion;}catch(ba){return false;}},z=function(aa){var ba=h(),ca=l()[0],da=j().parentElement,ea=ca!=a.top,fa=ca.$sf&&ca.$sf.ext,ga=o(ca),ha=m();p(ha);var ia={amp:y(ca),events:[],tagJsInitTime:ba,rootElement:da,iframe:null,tagJsIframeAppendedTime:ha.iframeAppendedTime||0,url:ga,domain:s(),channel:n(o(ca)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:ha.ads.length,crossdomain:ea,safeframe:!!fa,placementid:g.placementid,format:g.format||"300x250",testmode:!!g.testmode,onAdLoaded:g.onAdLoaded,onAdError:g.onAdError};if(g.bidid)ia.bidid=g.bidid;if(ea){w(ha,ia);}else{u(ha,ia,ca.document);v(ia);}x(ia);ia.rootElement.dataset.placementid=ia.placementid;ha.ads.push(ia);};try{z();}catch(aa){i(aa.message||aa);throw aa;}})(window,document,location);',s+="<\/script>",s+="</div>",s+="</body>",a=new D({bidder:vt,size:i,price:n,gross:n,adcode:s+="</html>",tag_id:o,request_url:_,response:a,response_ms:u,received_ts:c}),m.logBidResponse(a)):le.mylog("We don't know how they are paying us. currency: "+p+" bid_price_model: "+l)}})),m.incrementBidResponseCount(t)}catch(e){throw e.bidder=vt,e}},error:function(e){try{m.incrementBidResponseCount(t)}catch(e){throw e.bidder=vt,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page"}}),de.index=(yt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},wt="index",xt={identityLink:{adapter:pe.identityLink,ixlPartnerName:"LiveRampIp",rtiPartner:"idl"}},Pt=Math.floor(256*Math.random()),{formatRequest:Yi,send:function(d){var p=Yi(d.requests),l=p.data.length,c=function(e,t){var i=encodeURIComponent(JSON.stringify(function(e){var t=location.href,i=1;top!==self&&(t=S.referrer,i=0);var r={id:String((new Date).getTime()%2592e3*256+(Pt=(Pt+1)%256)+256),site:{page:t},imp:[]};"string"==typeof S.referrer&&(r.site.ref=S.referrer);for(var s=0;s<e.length;s++){var a,n,o=e[s];"number"!=typeof o.width||o.width<=1||"number"!=typeof o.height||o.height<=1||(a={id:o.id,banner:{w:o.width,h:o.height,topframe:i},ext:{}},"number"==typeof o.bidfloor&&(a.bidfloor=o.bidfloor,"string"==typeof o.bidfloorcur&&(a.bidfloorcur=o.bidfloorcur)),"string"!=typeof o.id&&"number"!=typeof o.id||(n=String(o.id)).length<=50&&!n.match(/^\s*$/)&&(a.ext.sid=n),void 0!==o.siteID&&(a.ext.siteID=o.siteID),r.imp.push(a))}ce.schain&&(r.source={ext:{schain:ce.schain}});var d=[];Object.keys(xt).forEach(function(e){e=xt[e];ProperMedia.utils.deepAccess(e,"adapter.config.enabled")&&function(e,t,i,r){if(t)return e.push({source:i,uids:[{id:t,ext:{rtiPartner:r}}]});le.mylog("Tried to add a user ID from Prebid, the ID received was null")}(d,e.adapter.getValue(),e.adapter.source,(e.ixlPartnerName,e.rtiPartner))}),0<d.length&&ProperMedia.utils.deepSetValue(r,"user.eids",d);te.cmpPresent&&("boolean"==typeof te.gdprApplies&&(r.regs={ext:{gdpr:Number(te.gdprApplies)}}),void 0!==te.consentString&&(r.user={ext:{consent:te.consentString||""}}));J.cmpPresent&&J.usPrivacy&&(r.regs=r.regs||{},r.regs.ext=r.regs.ext||{},r.regs.ext.us_privacy=J.usPrivacy);return r}(t))),t="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";t+=259845==e?"/cygnus?v=7&s="+e+"&r="+i:"/headertag?v=9&s="+e+"&r="+i;return t+="&t=300"}(161112,p.data);if(0==l)return!1;le.mylog(c,wt),d.incrementRequestsSent(l);var u=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+wt+".edge")||!1;I.ajax({url:c,special:wt,requestType:"jsonp",bidder:wt,edge:e,success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(u,t);if(e&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length){le.mylog(e,wt);for(var r=0;r<e.seatbid.length;r++)for(var s=0;s<e.seatbid[r].bid.length;s++){e.seatbid[r].seat;obj=e.seatbid[r].bid[s],impid=obj.impid||"",adcode=obj.adm||"",cid=obj.cid||"",adid=obj.adid||"",crid=obj.crid||"",adomain=obj.adomain||"";var a=ProperMedia.utils.deepAccess(obj,"ext.pricelevel")||0,a=parseFloat(a.replace("_","")/100),n=p.index_bids[impid],o=new D({bidder:wt,size:n.width+"x"+n.height,price:a,gross:a,adcode:adcode,tag_id:n.tag_id,request_url:c,response:obj,response_ms:i,received_ts:t,ttl:yt.default_bid_ttl});d.logBidResponse(o)}}else{le.mylog("No "+wt+" bids found");var o=new D({bidder:wt,price:0,gross:0,tag_id:"",request_url:c,response:e,response_ms:i,received_ts:t,ttl:0});d.logNoBidResponse(o)}d.incrementBidResponseCount(l)}catch(e){throw e.bidder=wt,e}},error:function(e){try{d.incrementBidResponseCount(l);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(u,t),r={bidder:wt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};d.logBidResponseError(r)}catch(e){throw e.bidder=wt,e}}})},bidderInfo:yt}),de.ix=(Mt=null,E.add({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html",bidder:"ix"}),{formatRequest:Xi,send:function(h){var _=h.bidder,f=ce.bidder_info[_]||f,e=(ProperMedia.utils.deepAccess(ce,"bidders.header."+_+".site_id")||"").toString().split("-")||["",""];if(!(Mt=ge.isMobile()&&2==e.length?e[1]:e[0]))return le.mylog("Error: "+_+" Site ID is Required."),!1;var b=Xi(h.requests,_,f),e=b.imps||[],v=b.request_cnt,e={id:ProperMedia.utils.generateUUID(),site:{ref:_e.referrer,page:_e.bidder_page_url},ext:{source:"prebid",ixdiag:{msd:0,msi:0,sn:0}},imp:e},t=function(e){var t={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus"},i=[],r={};if(Array.isArray(e))for(var s=0;s<e.length;s++)t[e[s].source]&&ProperMedia.utils.deepAccess(e[s],"uids.0")&&(r[e[s].source]=1,e[s].uids[0].ext={rtiPartner:t[e[s].source]},delete e[s].uids[0].atype,i.push(e[s]));return{toSend:i,seenSources:r}}(T.getEidsArray()),i=t.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var r=window.headertag.getIdentityInfo();if(r&&"object"==typeof r)for(var s in r)!r.hasOwnProperty(s)||!(s=r[s]).responsePending&&s.data&&"object"==typeof s.data&&Object.keys(s.data).length&&!t.seenSources[s.data.source]&&i.push(s.data)}0<i.length&&ProperMedia.utils.deepSetValue(e,"user.eids",i),ce.schain&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",ce.schain),te.cmpPresent&&(te.consentString&&ProperMedia.utils.deepSetValue(e,"user.ext.consent",te.consentString),"boolean"==typeof te.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(te.gdprApplies))),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",J.usPrivacy),e={s:Mt,v:"display"==f.demand_type?7.2:8.1,ac:"j",sd:1,sn:0,r:JSON.stringify(e)},"video"==f.demand_type&&(e.nf=1);var y="https://htlb.casalemedia.com/cygnus?"+ProperMedia.utils.formatQueryString(e,!0);le.mylog(y,_),h.incrementRequestsSent(v);var w=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+_+".edge")||!1;I.ajax({url:y,method:"GET",bidder:_,edge:e,success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(w,t);if(e)if((e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length){le.mylog(e,_);for(var r=0;r<e.seatbid.length;r++)for(var s=0;s<e.seatbid[r].bid.length;s++){var a=e.seatbid[r].bid[s],n=a.impid||"",o=a.cid||"",d=a.crid||"",p=a.adid||"",l=a.adomain||[],c=a.adm||"",u=parseFloat(a.price/100)||0,g=b.index_bids[n],m=new D({bidder:_,price:u,gross:u,tag_id:g.tag_id,cid:o,crid:d,adid:p,adomain:l,request_url:y,response:a,response_ms:i,received_ts:t,ttl:f.default_bid_ttl});"video"==f.demand_type?(m.type="video",m.size=g.width+"x"+g.height,m.vast_tag=ProperMedia.utils.deepAccess(a,"ext.vasturl"),m.vast_type="url",m.vpaid=!1,m.video_type=f.video_type):(m.size=a.w+"x"+a.h,m.adcode=c),h.logBidResponse(m)}}else{le.mylog("No "+_+" bids returned");var m=new D({bidder:_,price:0,gross:0,tag_id:"",request_url:y,response:e,response_ms:i,received_ts:t,ttl:0});h.logNoBidResponse(m)}else{m=new D({bidder:_,price:0,gross:0,tag_id:"",request_url:y,response:e,response_ms:i,received_ts:t,ttl:0});h.logNoBidResponse(m)}h.incrementBidResponseCount(v)}catch(e){throw e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(v);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(w,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),de.justpremium=(kt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4,dont_refresh:1,native_sizes:{desktop:{sticky_horizontal:"728x90",native_horizontal:"728x90"},mobile:{sticky_horizontal:"320x50",native_horizontal:"320x50"}}},St="justpremium",L.ready(function(){var e="?_c=a"+Math.random().toString(36).substring(7)+Date.now();te.cmpPresent&&"boolean"==typeof te.gdprApplies&&(e+="&consentString="+encodeURIComponent(te.consentString)),J.cmpPresent&&J.usPrivacy&&(e+="&usPrivacy="+encodeURIComponent(J.usPrivacy)),E.add({type:"iframe",url:"https://pre.ads.justpremium.com/v/1.0/t/sync"+e,bidder:St})}),{formatRequest:$i,send:function(g){var t,i,r,s,m=$i(g.requests),h=m.request_cnt;if(0==h)return!1;(a={zone:Object.keys(m.imps).map(function(e){return parseInt(e)}),hostname:window.top.location.hostname,protocol:window.top.location.protocol.replace(":",""),sw:window.top.screen.width,sh:window.top.screen.height,ww:window.top.innerWidth,wh:window.top.innerHeight,c:(r=m.imps,s={},Object.keys(r).forEach(function(e){s[r[e].tag_id]=r[e].slot_types}),s),id:parseInt(Object.keys(m.imps).shift()),sizes:(t=m.imps,i={},Object.keys(t).forEach(function(e){i[t[e].tag_id]=t[e].sizes}),i),version:{prebid:ce.prebid_version,jp_adapter:"1.7"}}).pubcid=me.pubcid,a.uids=T.getUIdsObj(),te.cmpPresent&&(a.gdpr_consent={consent_string:te.consentString,consent_required:"boolean"!=typeof te.gdprApplies||te.gdprApplies}),J.cmpPresent&&J.usPrivacy&&(a.us_privacy=J.usPrivacy);var e=JSON.stringify(a),_="https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date;le.mylog(_,St),g.incrementRequestsSent(h);var f=ProperMedia.utils.getTimestampMs(),a=ProperMedia.utils.deepAccess(ce,"bidders.header."+St+".edge")||!1;I.ajax({method:"POST",url:_,requestType:"cors",bidder:St,edge:a,data:e,success:function(e){try{var t,i,r,s,a,n,o,d,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(f,p);if(e=ProperMedia.utils.safeJsonParse(e),le.mylog(e,St),e&&e.bid)for(var c in e.bid)e.bid[c]&&0<e.bid[c].length?(t=e.bid[c].pop(),i=c,r=t.price||0,s=t.width||1,a=t.height||1,n=t.adm||"",o=1e3*t.ttl||kt.default_bid_ttl,d=ProperMedia.utils.deepAccess(m,"JPbids."+i)||s+"x"+a,u=new D({bidder:St,size:d,price:parseFloat(r),gross:parseFloat(r),adcode:n,tag_id:i,request_url:_,response:t,ttl:o,response_ms:l,received_ts:p}),g.logBidResponse(u)):(u=new D({bidder:St,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:l,received_ts:p,ttl:0}),g.logNoBidResponse(u));else{var u=new D({bidder:St,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:l,received_ts:p,ttl:0});g.logNoBidResponse(u)}g.incrementBidResponseCount(h)}catch(e){throw e.bidder=St,e}},error:function(e){try{g.incrementBidResponseCount(h);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(f,t),r={bidder:St,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=St,e}}})},bidderInfo:kt}),de.kargo=(Tt="kargo",jt="https://krk.kargo.com/api/v2/bid",At="https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}",Et=5,Ct="",{formatRequest:Qi,send:function(d){var p=Qi(d.requests),s=p.request_cnt,e={sessionId:ue.sessionData.uuid,requestCount:window.location?Ct!==window.location.pathname?(Ct=window.location.pathname,requestCounter=0):++requestCounter:0,timeout:550,currency:"USD",cpmGranularity:1,timestamp:(new Date).getTime(),bidIDs:p.bidIDs,bidSizes:p.bidSizes,cpmRange:{floor:p.floor,ceil:999999},prebidRawBidRequests:p.prebidRawBidRequests,userIDs:{},pageURL:window.location.href},t={userIDs:function(e,t){var i=Ki(),t={kargoID:i.userId,clientID:i.clientId,crbIDs:i.syncIds||{},optOut:i.optOut,usp:t};e&&(t.tdID=e);return t}(!1,t=J.cmpPresent&&J.usPrivacy?J.usPrivacy:"1---"),pageURL:window.location.href,rawCRB:ProperMedia.utils.getCookieValue("krg_crb"),rawCRBLocalStorage:er("krg_crb")};ProperMedia.utils.mergeObject(e,t),le.mylog(jt,Tt),d.incrementRequestsSent(s);var l=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+Tt+".edge")||!1;I.ajax({url:jt+"?json="+encodeURIComponent(JSON.stringify(e)),method:"GET",bidder:Tt,edge:t,requestType:"cors",success:function(a){try{a=ProperMedia.utils.safeJsonParse(a);var e,n=ProperMedia.utils.getTimestampMs(),o=ProperMedia.utils.calcResponseMs(l,n);a&&0<Object.keys(a).length?(le.mylog(a,Tt),Object.keys(a).forEach(function(e){var t=a[e],i=t.width+"x"+t.height,r=Number(t.cpm)||0,s=t.adm||"";t.metadata&&t.metadata.landingPageDomain&&t.metadata.landingPageDomain,ProperMedia.utils.deepAccess(p,"tag_sizes."+e)&&(i=ProperMedia.utils.deepAccess(p,"tag_sizes."+e));t=new D({bidder:Tt,size:i,price:parseFloat(r),gross:parseFloat(r),adcode:s,tag_id:e,request_url:jt,response:t,response_ms:o,received_ts:n,ttl:It.default_bid_ttl});d.logBidResponse(t)})):(le.mylog("no kargo bids returned"),e=new D({bidder:Tt,price:0,gross:0,tag_id:"",request_url:jt,response:a,response_ms:o,received_ts:n,ttl:0}),d.logNoBidResponse(e)),function(){var e=ProperMedia.utils.generateUUID(),t=function(){var e=Ki();if(e)return e.clientId;return null}();if(e&&t)for(var i=0;i<Et;i++)E.add({type:"image",url:At.replace("{UUID}",t).replace("{SEED}",e).replace("{INDEX}",i),bidder:Tt})}(),d.incrementBidResponseCount(s)}catch(e){throw e.bidder=Tt,e}},error:function(e){try{d.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(l,t),r={bidder:Tt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};d.logBidResponseError(r)}catch(e){throw e.bidder=Tt,e}}})},bidderInfo:It={rev_share:1,bid_grouping:"page",default_bid_ttl:3e5,native_sizes:{native_vertical:"300x250",native_horizontal:"300x250",sticky_horizontal:"300x50"}}}),de.lockerdome=(Rt="lockerdome",Dt="https://lockerdome.com/ladbid/prebid",{formatRequest:tr,send:function(c){var e=tr(c.requests),t=ProperMedia.utils.objectValues(e.bidRequests)||[],s=e.request_cnt;if(0==(e={bidRequests:t,referrer:_e.referrer,url:_e.bidder_page_url}).bidRequests.length)return!1;te.cmpPresent&&(e.gdpr={applies:te.gdprApplies,consent:te.consentString}),J.cmpPresent&&J.usPrivacy&&(e.us_privacy={consent:J.usPrivacy}),c.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs();le.mylog(Dt,Rt),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+Rt+".edge")||!1,I.ajax({method:"POST",url:Dt,requestType:"cors",bidder:Rt,edge:t,data:JSON.stringify(e),success:function(d){try{le.mylog(d,Rt);var e,d=ProperMedia.utils.safeJsonParse(d),p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);d&&d.bids&&0<Object.keys(d.bids).length?Object.keys(d.bids).forEach(function(e){var t=d.bids[e],i=t.requestId||"",r=t.cpm||0,s=t.width||1,a=t.height||1,n=(t.creativeId,t.currency,t.netRevenue,t.ad||""),o=t.creativeId||"",e=1e3*t.ttl||12e4,e=new D({bidder:Rt,size:s+"x"+a,price:parseFloat(r),gross:parseFloat(r),adcode:n,tag_id:i,crid:o,request_url:Dt,response:t,response_ms:l,received_ts:p,ttl:e});c.logBidResponse(e)}):(e=new D({bidder:Rt,price:0,gross:0,tag_id:"",request_url:Dt,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=Rt,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:Rt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=Rt,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page"}}),de.mantis=(qt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:18e5},Bt="mantis",Nt="https://mantodea.mantisadnetwork.com",Ot="iframe",zt=function(t){if(window.$sf){var e=!1;$sf.ext.register(t.width,t.height,function(){$sf.ext.inViewPercentage()<50||e||(e=!0,lr(t.pixel))})}else for(var i=S.getElementsByTagName("iframe"),r=0;r<i.length;r++){var s=i[r];s.name==t.frame&&pr(s,function(e){lr(t.pixel),e()},1e3,.5)}},window.addEventListener("message",v.wrap(function(e){e.data.mantis&&e.data.type==Ot&&zt(e.data.data)}),!1),E.add({type:"iframe",url:rr("/prebid/iframe"),bidder:Bt}),{formatRequest:ir,send:function(u){var e=ir(u.requests),t=ProperMedia.utils.objectValues(e.bids)||[],g=e.request_cnt,e=ProperMedia.utils.deepAccess(ce,"bidders.header.mantis.site_id")||"5b32cf14d866814de2efe8c2";if(1==ce.testing_mode.ids&&(e="demo"),0==g.total)return!1;var m=rr("/prebid/display",{measurable:!0,property:e,bids:t})+"&foo";le.mylog(m,Bt),u.incrementRequestsSent(g);var h=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header.mantis.edge")||!1;I.ajax({url:m,requestType:"cors",bidder:Bt,edge:t,success:function(e){try{le.mylog(e,Bt);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t);if((e=ProperMedia.utils.safeJsonParse(e))&&e.ads&&0<e.ads.length){void 0!==e.uuid&&function(e){if(window.mantis_uuid)return;if(window.mantis_uuid=e,window.localStorage)try{window.localStorage.setItem("mantis:uuid",e)}catch(e){}}(e.uuid);for(var r=0;r<e.ads.length;r++){var s=e.ads[r],a=s.bid||"",n=s.view||"",o=s.cpm||0,d=s.width||0,p=s.height||0,l=s.html||"",c=new D({bidder:Bt,size:d+"x"+p,price:parseFloat(o),gross:parseFloat(o),adcode:l,tag_id:a,crid:n,request_url:m,response:s,response_ms:i,received_ts:t,ttl:qt.default_bid_ttl});u.logBidResponse(c)}}else{c=new D({bidder:Bt,price:0,gross:0,tag_id:"",request_url:m,response:e,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(c)}u.incrementBidResponseCount(g)}catch(e){throw e.bidder=Bt,e}},error:function(e){try{u.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),r={bidder:Bt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=Bt,e}}})},bidderInfo:qt}),de.mediaforce=(Ut="mediaforce",{formatRequest:cr,send:function(u){if(!(i=ProperMedia.utils.deepAccess(ce,"bidders.header."+Ut+".site_id")||0))return le.mylog("Error: MediaForce Site ID is Required."),!1;var e=cr(u.requests),t=ProperMedia.utils.objectValues(e.imps)||[],s=e.request_cnt,i={id:Date.now().toString(),site:{id:i.toString(),page:_e.bidder_page_url,ref:_e.bidder_page_url,publisher:{id:i.toString()}},device:(i=navigator.language?"language":"userLanguage",{js:1,ua:navigator.userAgent,dnt:ProperMedia.utils.getDNT()?1:0,language:navigator[i].split("-")[0]}),imp:t},g=1==ce.testing_mode.ids?"https://rtb.mfadsrvr.com/header_bid?debug_key=abcdefghijklmnop":"https://rtb.mfadsrvr.com/header_bid";le.mylog(g,Ut),u.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+Ut+".edge")||!1;I.ajax({url:g,method:"POST",requestType:"cors",bidder:Ut,edge:t,data:JSON.stringify(i),success:function(p){try{var e,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(a,l);(p=ProperMedia.utils.safeJsonParse(p))&&p.seatbid&&0!=p.seatbid.length&&p.seatbid[0].bid&&p.seatbid[0].bid.length?(le.mylog(p,Ut),Object.keys(p.seatbid).forEach(function(d){Object.keys(p.seatbid[d].bid).forEach(function(e){var t=p.seatbid[d].bid[e],i=(t.id,t.impid||""),r=t.price||0,s=t.w||0,a=t.h||0,n=t.adm||"",o=t.burl||"",e=ProperMedia.utils.deepAccess(t,"adserverTargeting.hb_pb")||r;ProperMedia.utils.isStr(o)&&""!==o&&(n=n+'<img src="'+(o=o.replace(/\$\{AUCTION_PRICE\}/g,e))+'" />');t=new D({bidder:Ut,size:s+"x"+a,price:parseFloat(r),gross:parseFloat(r),adcode:n,tag_id:i,request_url:g,response:t,response_ms:c,received_ts:l,ttl:1e3*t.ttl||Vt.default_bid_ttl});u.logBidResponse(t)})})):(le.mylog("no MediaForce bids returned"),e=new D({bidder:Ut,price:0,gross:0,tag_id:"",request_url:g,response:p,response_ms:c,received_ts:l,ttl:0}),u.logNoBidResponse(e)),u.incrementBidResponseCount(s)}catch(e){throw e.bidder=Ut,e}},error:function(e){try{u.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:Ut,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=Ut,e}}})},bidderInfo:Vt={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:3e5}}),de.medianet=(Lt="medianet",Jt="8CUW4K2MG",{formatRequest:ur,send:function(c){var u="https://prebid.media.net/rtb/prebid?cid="+Jt,e=ur(c.requests),t=ProperMedia.utils.objectValues(e.imps)||[],s=e.request_cnt,e={canonicalUrl:gr('link[rel="canonical"]',"href"),twitterUrl:gr('meta[property="og:url"]',"content"),ogUrl:gr('meta[name="twitter:url"]',"content")},e=ProperMedia.utils.mergeObject({domain:_e.domain,page:_e.bidder_page_url,ref:_e.referrer,canonical_url:_e.canonical_url,isTop:!0},e),e={id:Date.now().toString(),site:e,imp:t,ext:{customer_id:Jt.toString(),prebid_version:ce.prebid_version,screen:{w:window.innerWidth,h:window.innerHeight}},tmax:1e3};ce.schain&&(e.ext.schain=ce.schain),(t=T.getUIdsObj())&&Object.keys(t).length&&ProperMedia.utils.deepSetValue(e,"ext.user_id",t),te.cmpPresent&&(e.ext.consentString=te.consentString,"boolean"==typeof te.gdprApplies&&(e.ext.gdpr_applies=Number(te.gdprApplies))),J.cmpPresent&&J.usPrivacy&&(e.ext.usp_applies=J.cmpApplies,e.ext.usp_consent_string=J.usPrivacy),le.mylog(u,Lt),c.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+Lt+".edge")||!1;I.ajax({url:u,method:"POST",requestType:"cors",bidder:Lt,edge:t,data:JSON.stringify(e),success:function(e){try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.bidList&&0!=e.bidList.length?(le.mylog(e,Lt),e.bidList.map(function(e){var t=e.requestId||"",i=e.cpm||0,r=e.width||1,s=e.height||1,a=e.ad||"",n=e.creativeId||"",o=e.nurl||!1,d=1e3*e.ttl||Ft.default_bid_ttl,a=o?a+'<img src="'+o+'" />':a,d=new D({bidder:Lt,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),adcode:a,tag_id:t,crid:n,request_url:u,response:e,response_ms:l,received_ts:p,ttl:d});e.no_bid?c.logNoBidResponse(d):c.logBidResponse(d)})):(le.mylog("no medianet bids returned"),t=new D({bidder:Lt,price:0,gross:0,tag_id:"",request_url:u,response:e,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(t)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=Lt,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:Lt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=Lt,e}}})},bidderInfo:Ft={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),de.openx=(Wt={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},Ht="openx",Gt=!0,Zt=[pe.identityLink,pe.id5Id,pe.pubCommonId,pe.sharedId],{formatRequest:mr,send:function(v){var t,y=mr(v.requests),w=y.request_cnt,e={ju:_e.bidder_page_url,jr:_e.referrer,ch:S.charSet||S.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:!0,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,i,r=window,s=S,a=s.documentElement;if(e){try{r=window.top,s=window.top.document}catch(e){return}a=s.documentElement,i=s.body,t=r.innerWidth||a.clientWidth||i.clientWidth,i=r.innerHeight||a.clientHeight||i.clientHeight}else a=s.documentElement,t=r.innerWidth||a.clientWidth,i=r.innerHeight||a.clientHeight;return t+"x"+i}(!0),aus:"",auid:"",aumfs:"",dddid:"",divIds:"",be:1,bc:"hb_pb_3.0.1",nocache:(new Date).getTime()},i=[],r=[],s=[],a=[],n=[];Object.keys(y.data).forEach(function(e){e=y.data[e];i.push(e.sizes.join(",")),r.push(e.tag_id),s.push(1e3*e.price_floor),a.push(ProperMedia.utils.generateUUID()),n.push(encodeURIComponent(e.slot_div))}),e.aus=i.join("|"),e.auid=r.join(","),e.aumfs=s.join(","),e.dddid=a.join(","),e.divIds=n.join(","),ProperMedia.utils.getDNT()&&(e.ns=1),ce.schain&&(e.schain=ProperMedia.utils.formatSupplyChainString(ce.schain)),te.cmpPresent&&(void 0!==te.consentString&&(e.gdpr_consent=te.consentString),void 0!==te.gdprApplies&&(e.gdpr=Number(te.gdprApplies)),e.x_gdpr_f=1),J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy),t=e,Zt.forEach(function(e){ProperMedia.utils.deepAccess(e,"config.enabled")&&ProperMedia.utils.deepAccess(e,"storage.name")&&(t[e.storage.name]=e.getValue())});var x="https://propermedia-d.openx.net/w/1.0/arj?"+ProperMedia.utils.formatQueryString(e=t,!0);le.mylog(x,Ht),v.incrementRequestsSent(w);var P=ProperMedia.utils.getTimestampMs(),M=new Date,o=ProperMedia.utils.deepAccess(ce,"bidders.header."+Ht+".edge")||!1;I.ajax({url:x,requestType:"cors",bidder:Ht,edge:o,cache:!0,data:e,success:function(e){try{le.mylog(e,Ht);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(P,t),r=ProperMedia.utils.safeJsonParse(e)||{};if(r&&r.ads&&r.ads.ad&&0<Object.keys(r.ads.ad).length)for(var s=r.ads.ad||[],a=0;a<s.length;a++){var n=s[a]||{},o=n.creative[0]||{},d=Number(n.pub_rev)/1e3||0,p=n.html||"",l=o.width||1,c=o.height||1,u=n.adunitid||0,g=n.adid||"";_=n,f=M,b=void 0,Gt&&(Gt=!1,(f={bd:+new Date-f,bp:_.pub_rev,br:"0",bs:ProperMedia.utils.getPageDomain(),bt:3e3,ts:_.ts}).br=f.bt<f.bd?"t":"p",_=(_&&_.creative&&_.creative[0]&&_.creative[0].tracking&&_.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/),(b=_&&1<_.length?_[1]+"bo?"+ProperMedia.utils.formatQueryString(f,!0):b)&&E.add({type:"image",url:b,bidder:Ht+"_registerBeacon"}));y.data[u].price_floor;var m='<div id="'+y.data[u].slot_div+'"></div>',h=new D({bidder:Ht,size:l+"x"+c,price:d,gross:d,adcode:p=m+p,tag_id:u,adid:g,request_url:x,response:n,response_ms:i,received_ts:t,ttl:Wt.default_bid_ttl});v.logBidResponse(h)}else{h=new D({bidder:Ht,price:0,gross:0,tag_id:"",request_url:x,response:e,response_ms:i,received_ts:t,ttl:0});v.logNoBidResponse(h)}!function(e){var t="//u.openx.net/w/1.0/pd";e&&(e.ads&&e.ads.pixels?t=e.ads.pixels:e.pixels&&(t=e.pixels));e="";te.cmpPresent&&(e+="?gdpr="+(te.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(te.consentString||""));J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(J.usPrivacy));E.add({type:"iframe",url:t+e,bidder:Ht})}(r),v.incrementBidResponseCount(w)}catch(e){throw e.bidder=Ht,e}var _,f,b},error:function(e){try{v.incrementBidResponseCount(w);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(P,t),r={bidder:Ht,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};v.logBidResponseError(r)}catch(e){throw e.bidder=Ht,e}}})},bidderInfo:Wt}),de.pubmatic=(Yt={rev_share:.81,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5},Xt="pubmatic",$t="https://hbopenbid.pubmatic.com/translator?source=prebid-client",L.ready(function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p=109126";te.cmpPresent&&(e+="&gdpr="+(te.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(te.consentString||"")),J.cmpPresent&&J.usPrivacy&&(e+="&us_privacy="+encodeURIComponent(J.usPrivacy)),E.add({type:"iframe",url:e,bidder:Xt})}),{formatRequest:hr,send:function(h){var e=hr(h.requests),t=ProperMedia.utils.objectValues(e.imps)||[],_=e.request_cnt;if(0==t.length)return!1;e={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:t,site:{page:_e.bidder_page_url,domain:_e.domain,ref:_e.referrer,publisher:{id:109126..toString()}},device:{ua:navigator.userAgent,js:1,h:parseInt(_e.height),w:parseInt(_e.width),dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wp:"pbjs",wv:"prebid_prebid_"+ce.prebid_version,transactionId:ProperMedia.utils.generateUUID()}}},1==ce.testing_mode.ids&&(e.test=1),(t=T.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.eids",t),ce.schain&&(e.source={ext:{schain:ce.schain}}),te.cmpPresent&&(e.user.ext={consent:te.consentString||""},e.regs={ext:{gdpr:te.gdprApplies?1:0}}),J.cmpPresent&&J.usPrivacy&&(e.regs=e.regs||{},e.regs.ext=e.regs.ext||{},e.regs.ext.us_privacy=J.usPrivacy),le.mylog($t,Xt),h.incrementRequestsSent(_);var f=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+Xt+".edge")||!1;I.ajax({method:"POST",url:$t,requestType:"cors",bidder:Xt,edge:t,data:JSON.stringify(e),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(f,t);if(e&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length)for(var r=0;r<e.seatbid.length;r++)if(e.seatbid[r].bid)for(var s=0;s<e.seatbid[r].bid.length;s++){var a=e.seatbid[r].bid[s],n=a.impid,o=(parseFloat(a.price)||0).toFixed(2),d=a.w||0,p=a.h||0,l=a.cid||"",c=a.crid||"",u=a.adm||"",g=a.adomain||[],m=new D({bidder:Xt,size:d+"x"+p,price:parseFloat(o*Yt.rev_share),gross:parseFloat(o),adcode:u,tag_id:n,cid:l,crid:c,adomain:g,request_url:$t,response:a,response_ms:i,received_ts:t,ttl:Yt.default_bid_ttl});h.logBidResponse(m)}else{m=new D({bidder:Xt,price:0,gross:0,tag_id:"",request_url:$t,response:e.seatbid[r],response_ms:i,received_ts:t,ttl:0});h.logNoBidResponse(m)}else{m=new D({bidder:Xt,price:0,gross:0,tag_id:"",request_url:$t,response:e,response_ms:i,received_ts:t,ttl:0});h.logNoBidResponse(m)}h.incrementBidResponseCount(_)}catch(e){throw e.bidder=Xt,e}},error:function(e){try{h.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(f,t),r={bidder:Xt,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=Xt,e}}})},bidderInfo:Yt}),de.rhythmone=(Qt="2.1",Kt=Date.now(),ei=null,ti="https://hbevents.1rx.io/audit",ii=[2,3,5,6],ri=["video/mp4","application/javascript"],si=[1,2,3,4],ai=[1,2],ni=[1,2],{formatRequest:_r,send:function(v){var y=v.bidder,w=ce.bidder_info[y]||w,e=(ProperMedia.utils.deepAccess(ce,"bidders.header."+y+".site_id")||"").toString().split("-")||["",""];if(!(ei=ge.isMobile()&&2==e.length?e[1]:e[0]))return le.mylog("Error: RhythmOne Site ID is Required."),!1;var x=_r(v.requests,y,w),P=x.imps||[],M=x.imps.length,t=/(^v|(\.0)+$)/gi,k="https://tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}";k=(k=(k=k.replace(/\{placementId\}/i,ei)).replace(/\{zone\}/i,"1r")).replace(/\{path\}/i,"mvo"),k+="&hbv="+ce.prebid_version.replace(t,"")+","+Qt.replace(t,""),e={id:ProperMedia.utils.generateUUID(),imp:P,site:{domain:_e.domain,page:_e.bidder_page_url,ref:_e.referrer},device:{ua:navigator.userAgent,ip:"",dnt:ProperMedia.utils.getDNT()?1:0},at:1,tmax:550},ce.schain&&(e.source={ext:{schain:ce.schain}}),te.cmpPresent&&(e.user={ext:{consent:te.consentString}},"boolean"==typeof te.gdprApplies&&(e.regs={ext:{gdpr:Number(te.gdprApplies)}})),le.mylog(k,y),v.incrementRequestsSent(M),Kt=Date.now();var S=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+y+".edge")||!1;I.ajax({url:k,method:"POST",requestType:"cors",bidder:y,edge:t,data:JSON.stringify(e),success:function(e){try{le.mylog(e,y),e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(S,t);if(e&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length)for(var r=0;r<e.seatbid.length;r++)for(var s=0;s<e.seatbid[r].bid.length;s++){var a=e.seatbid[r].bid[s],n=(a.impid,a.w||1),o=a.h||1,d=a.price||0,p=a.adm||"",l=a.crid||"",c=a.adomain||[];if(1==n&&1==o)try{n=("display"==w.demand_type?P[0].banner.format[0]:P[0].video).w,o=("display"==w.demand_type?P[0].banner.format[0]:P[0].video).h}catch(e){}else 1280==parseInt(n)&&760==parseInt(o)&&(n=ge.isMobile()?400:640,o=ge.isMobile()?300:480);var u,g,m,h,_,f,b=new D({bidder:y,size:n+"x"+o,price:parseFloat(d),gross:parseFloat(d),tag_id:n+"x"+o,crid:l,adomain:c,request_url:k,response:a,response_ms:i,received_ts:t,ttl:w.default_bid_ttl});"video"==w.demand_type?(u=a.nurl||"",g=a.attr||[],m=a.api||0,h=a.protocol||2,_=-1!==[1,2,3,7].indexOf(h)?"url":"tag",f=-1!==g.indexOf(16)||-1!==[1,2].indexOf(m),b.type="video",b.vast_tag=u,b.vast_type=_,b.vpaid=f,b.video_type=w.video_type):b.adcode=p,v.logBidResponse(b)}else{b=new D({bidder:y,price:0,gross:0,tag_id:"",request_url:k,response:e,response_ms:i,received_ts:t,ttl:0});v.logNoBidResponse(b)}!function(e,t){var i=[],r=[],s=ProperMedia.utils.deepAccess(ce,"bidders.header."+t+".site_id");Object.keys(e).forEach(function(e){i.push(e),r.push(s)});var a={doc_version:1,doc_type:"Prebid Audit",placement_id:r.join(",").replace(/[,]+/g,",").replace(/^,|,$/g,"")},n="undefined"!=typeof window?window:{document:{location:{href:""}}},o=n.document.location.ancestorOrigins,d=[],e=ti+"?";o&&0<o.length&&(a.ancestor_origins=o[o.length-1]);a.popped=null!==n.opener?1:0,a.framed=n.top===n?0:1;try{a.url=n.top.document.location.href.toString()}catch(e){a.url=n.document.location.href.toString()}try{a.prebid_version=ce.prebid_version.toString(),a.prebid_timeout=1200}catch(e){}a.response_ms=Date.now()-Kt,a.placement_codes=i.join(","),a.bidder_version=Qt,te.cmpPresent&&(a.gdpr_consent=te.consentString,a.gdpr="boolean"==typeof te.gdprApplies&&te.gdprApplies);Object.keys(a).forEach(function(e){d.push(encodeURIComponent(e)+"="+encodeURIComponent("object"==typeof a[e]?JSON.stringify(a[e]):a[e]))}),d.sort(),E.add({type:"image",url:e+d.join("&"),bidder:t})}(x,y),v.incrementBidResponseCount(M)}catch(e){throw e.bidder=y,e}},error:function(e){try{v.incrementBidResponseCount(M);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(S,t),r={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};v.logBidResponseError(r)}catch(e){throw e.bidder=y,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:35e4}}),de.rubicon=(oi=8777,di={"468x60":1,"728x90":2,"120x90":5,"120x600":8,"160x600":9,"300x600":10,"200x200":13,"250x250":14,"300x250":15,"336x280":16,"300x100":19,"980x120":31,"250x360":32,"180x500":33,"980x150":145,"468x400":37,"930x180":38,"750x100":39,"750x200":40,"750x300":41,"320x50":43,"300x50":44,"300x300":48,"1024x768":53,"300x1050":54,"970x90":55,"970x250":57,"1000x90":58,"320x80":59,"320x150":60,"1000x1000":61,"580x500":64,"640x480":65,"930x600":66,"320x480":67,"1800x1000":68,"320x320":72,"320x160":73,"980x240":78,"980x300":79,"980x400":80,"480x300":83,"970x310":94,"970x210":96,"480x320":101,"768x1024":102,"480x280":103,"250x800":105,"320x240":108,"1000x300":113,"320x100":117,"800x250":125,"200x600":126,"980x600":144,"320x250":159,"250x600":179,"600x300":195,"640x360":198,"640x200":199,"1030x590":213,"980x360":214,"320x180":229,"580x400":232,"400x600":257},Object.keys(di).forEach(function(e){di[di[e]]=e}),L.ready(function(){var e="";te.cmpPresent&&("boolean"==typeof te.gdprApplies?e+="?gdpr="+Number(te.gdprApplies)+"&gdpr_consent="+te.consentString:e+="?gdpr_consent="+te.consentString),J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(J.usPrivacy)),E.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+e,bidder:"rubicon"})}),{formatRequest:fr,send:function(v){var y=v.bidder,w=ce.bidder_info[y]||w,e=fr(v.requests,y),x=ProperMedia.utils.objectValues(e.imps)||[],P=e.request_cnt;if(0==P)return!1;var i=function(s){if(1===s.length)return s[0];var r=s.reduce(function(t,i,r){return Object.keys(i).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(s.length)),t[e].splice(r,1,i[e])}),t},{}),a=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach(function(e){var t=r[e].join(";"),i=t.match(a);r[e]=i?i[1]:t}),r}(x);me.pubcid&&(i.ppuid=me.pubcid),(e=T.getEidsArray())&&e.length&&e.forEach(function(t){try{"adserver.org"===t.source?(i.tpid_tdid=t.uids[0].id,i["eid_adserver.org"]=t.uids[0].id):"liveintent.com"===t.source?(i["tpid_liveintent.com"]=t.uids[0].id,i["eid_liveintent.com"]=t.uids[0].id,t.ext&&Array.isArray(t.ext.segments)&&t.ext.segments.length&&(i["tg_v.LIseg"]=t.ext.segments.join(","))):"liveramp.com"===t.source?i.x_liverampidl=t.uids[0].id:"sharedid.org"===t.source?i["eid_sharedid.org"]=t.uids[0].id+"^"+t.uids[0].atype+"^"+(t.uids[0].ext&&t.uids[0].ext.third||""):"id5-sync.com"===t.source?i["eid_id5-sync.com"]=t.uids[0].id+"^"+t.uids[0].atype+"^"+(t.uids[0].ext&&t.uids[0].ext.linkType||""):i["eid_"+t.source]=t.uids[0].id+"^"+(t.uids[0].atype||"")}catch(e){le.mylog("Rubicon: error reading eid:"+t+". "+JSON.stringify(e))}}),te.cmpPresent&&("boolean"==typeof te.gdprApplies&&(i.gdpr=Number(te.gdprApplies)),i.gdpr_consent=te.consentString),J.cmpPresent&&J.usPrivacy&&(i.us_privacy=encodeURIComponent(J.usPrivacy)),ce.schain&&(i.rp_schain=ProperMedia.utils.formatSupplyChainString(ce.schain)),i.slots=x.length,i.rand=Math.random(),e=i,t=/^tg_v/,r=/^tg_i/,(s=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"])).concat(Object.keys(e).filter(function(e){return-1===s.indexOf(e)}));var t,r,s,M="https://fastlane.rubiconproject.com/a/api/fastlane.json?"+ProperMedia.utils.formatQueryString(i,!0);le.mylog(M,y),v.incrementRequestsSent(P);var k=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+y+".edge")||!1;I.ajax({url:M,requestType:"cors",bidder:y,edge:e,success:function(e){try{le.mylog(e,y);var t=ProperMedia.utils.safeJsonParse(e)||{};if(t&&"object"==typeof t){var i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(k,i),s=t.ads||[];if(Array.isArray(s)&&0<s.length)for(var a=0;a<s.length;a++){var n,o,d,p,l,c,u,g,m,h,_,f=s[a],b=x&&x[a]&&x[a]["tg_fl.eid"]?x[a]["tg_fl.eid"]:"";"ok"===f.status?(n=f.cpm||0,o=f.status||"",d=f.script||"",p=f.type||"",l=f.size_id||"",c=f.dealid||"",u=f.crid||"",g=f.adomain||[],t.zoneId,m=ProperMedia.utils.deepAccess(f,"ext.bidder.rp.advid")||"",h=di[l]||"unknown","script"==p&&d&&(d="<script>"+d+"<\/script>"),_={},void 0!==f.advertiser&&(_.advertiser=f.advertiser),void 0!==f.seat&&(_.seat=f.seat),void 0!==f.creative_id&&(_.creative_id=f.creative_id),void 0!==f.campaign_id&&(_.campaign_id=f.campaign_id),void 0!==f.ad_id&&(_.ad_id=f.ad_id),f=new D({bidder:y,size:h,price:parseFloat(n*w.rev_share),gross:parseFloat(n),adcode:d,tag_id:b,adid:m,dealid:c,crid:u,adomain:g,request_url:M,response:f,response_ms:r,received_ts:i,ttl:w.default_bid_ttl}),"no-ads"!==o?v.logBidResponse(f):v.logNoBidResponse(f)):void 0!==f.reason&&le.mylog("rubicon resposne status: "+f.reason)}else{f=new D({bidder:y,price:0,gross:0,tag_id:"",request_url:M,response:t,response_ms:r,received_ts:i,ttl:0});v.logNoBidResponse(f)}}else{f=new D({bidder:y,price:0,gross:0,tag_id:"",request_url:M,response:t,response_ms:r,received_ts:i,ttl:0});v.logNoBidResponse(f)}v.incrementBidResponseCount(P)}catch(e){throw e.bidder=y,e}},error:function(e){try{v.incrementBidResponseCount(P);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(k,t),r={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};v.logBidResponseError(r)}catch(e){throw e.bidder=y,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5}}),de.sharethrough=(li="sharethrough",{formatRequest:br,send:function(_){var t=br(_.requests);Object.keys(t).forEach(function(e){!function(e){var u=e.pkey,g=e.size,e={placement_key:u,bidId:u,bidfloor:Er(li,g),consent_required:!1,instant_play_capable:function(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),i=/iPhone|iPad|iPod/i.test(e),r=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),s=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),e=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&53<=r||i&&(10<=e||53<=s)||!t&&!i)}(),hbSource:"prebid",hbVersion:"3.0.0",strVersion:"3.2.0"};ProperMedia.utils.mergeObject(e,function(){var e={},t=pe.identityLink.getValue();t&&(e.idluid=t);t=pe.sharedId.getValue();t&&(e.shduid=t);t=pe.id5Id.getValue();t&&(e.id5uid={id:t},(i=ProperMedia.utils.deepAccess(pe.identityLink,"idObj.id5id.ext.linkType"))&&(e.id5uid.linkType=i));var i=me.pubcid;i&&(e.pubcid=i);return e}()),te.cmpPresent&&(te.consentString&&(e.consent_string=te.consentString),e.consent_required=!!te.gdprApplies);J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy);ce.schain&&(e.schain=JSON.stringify(ce.schain));var e=ProperMedia.utils.formatQueryString(e,!0),m="https://btlr.sharethrough.com/WYu2BXv1/v1?"+e;le.mylog(m,li),_.incrementRequestsSent(1);var h=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+li+".edge")||!1;I.ajax({url:m,method:"GET",requestType:"cors",bidder:li,edge:e,success:function(e){try{le.mylog(e,li);var t,i,r,s,a,n,o,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(h,d),l=ProperMedia.utils.safeJsonParse(e);l&&0<l.creatives.length?(t=l.creatives[0],i=l.bidId||"",r=t.cpm||0,s="str_response_"+i,a=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(l)),n='<div data-str-native-key="'+u+'" data-stx-response-name="'+s+'"></div>',n+="<script>var "+s+' = "'+a+'"<\/script>',n+='<script src="//native.sharethrough.com/assets/sfp.js"><\/script>',o=new D({bidder:li,size:g,price:parseFloat(r),gross:parseFloat(r),adcode:n,tag_id:i,request_url:m,response:l,response_ms:p,received_ts:d,ttl:pi.default_bid_ttl}),_.logBidResponse(o)):(o=new D({bidder:li,price:0,gross:0,tag_id:"",request_url:m,response:l,response_ms:p,received_ts:d,ttl:0}),_.logNoBidResponse(o)),(c=l)&&c.cookieSyncUrls&&(c=c.cookieSyncUrls.map(function(e){return{type:"image",url:e,bidder:li}}),E.add(c)),_.incrementBidResponseCount(1)}catch(e){throw e.bidder=li,e}var c},error:function(e){try{_.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),r={bidder:li,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};_.logBidResponseError(r)}catch(e){throw e.bidder=li,e}}})}(t[e])})},bidderInfo:pi={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:36e4}}),de.smart_adserver=(ci="https://prg.smartadserver.com/prebid/v1",{formatRequest:vr,send:function(g){var m=g.bidder,h=ce.bidder_info[m]||h,e=ProperMedia.utils.deepAccess(ce,"bidders.header."+m+".site_id")||"";if(!e)return le.mylog("Error: Smart Ad Server site is required."),!1;var i={siteid:e,currencyCode:"USD",ckid:0,pageDomain:_e.domain,prebidVersion:ce.prebid_version,timeout:1e3,schain:ProperMedia.utils.formatSupplyChainString(ce.schain)};(e=T.getEidsArray())&&e.length&&(i.eids=e),te.cmpPresent&&(i.gdpr_consent=te.consentString,i.gdpr=te.gdprApplies),J.cmpPresent&&J.usPrivacy&&(i.us_privacy=J.usPrivacy),e=vr(g.requests,m,h),(ProperMedia.utils.objectValues(e)||[]).forEach(function(e){!function(e){var t=ProperMedia.utils.mergeObject({},i,e);le.mylog(ci,m);var c="video"==h.demand_type?1:t.sizes.length;g.incrementRequestsSent(c);var u=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+m+".edge")||!1;I.ajax({url:ci,method:"POST",requestType:"cors",bidder:m,edge:e,data:JSON.stringify(t),success:function(e){try{var t,i,r,s,a,n,o,d,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(u,p);(e=ProperMedia.utils.safeJsonParse(e))?(le.mylog(e,m),t=e.tag_id||"",i=e.cpm||0,r=e.width||1,s=e.height||1,a=e.dealId||"",n=e.creativeId||"",o=1e3*e.ttl||h.default_bid_ttl,d=new D({bidder:m,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),tag_id:t,dealid:a,crid:n,request_url:ci,response:e,response_ms:l,received_ts:p,ttl:o}),"video"==h.demand_type?(d.type="video",d.vast_tag=e.adUrl,d.vast_type="url",d.vpaid=!1,d.video_type=h.video_type):d.adcode=e.ad,e.isNoAd?g.logNoBidResponse(d):g.logBidResponse(d)):(le.mylog("No Smart Ad Server bids returned"),d=new D({bidder:m,price:0,gross:0,tag_id:"",request_url:ci,response:e,response_ms:l,received_ts:p,ttl:0}),g.logNoBidResponse(d)),g.incrementBidResponseCount(c)}catch(e){throw e.bidder=m,e}},error:function(e){try{g.incrementBidResponseCount(c);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(u,t),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}})}(e)})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:12e4}}),de.sonobi={formatRequest:yr,send:function(l){var c=l.bidder,u=ce.bidder_info[c]||u,g=yr(l.requests,c),s=g.request_cnt;if(0==s)return!1;var e={key_maker:"",ref:_e.bidder_page_url,s:ProperMedia.utils.generateUUID(),pv:ProperMedia.utils.generateUUID(),vp:ge.device_type,lib_name:"prebid",lib_v:ce.prebid_version,us:1,ius:1},a={};Object.keys(g.imps).forEach(function(e){var t=g.imps[e],i=t.bidId,r=t.floor,t="display"==u.demand_type?t.sizes.join(","):"";a[e]=i+"|"+t+"|"+r}),e.key_maker=JSON.stringify(a);var t=T.getUIdsObj();t&&Object.keys(t).length&&(e.userid=JSON.stringify(t)),ce.schain&&(e.schain=JSON.stringify(ce.schain)),te.cmpPresent&&(e.gdpr=te.gdprApplies.toString(),te.consentString&&(e.consent_string=te.consentString)),J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy);var m="https://apex.go.sonobi.com/trinity.json?"+ProperMedia.utils.formatQueryString(e,!0);le.mylog(m,c),l.incrementRequestsSent(s);var h=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+c+".edge")||!1;I.ajax({url:m,method:"GET",requestType:"cors",bidder:c,edge:e,success:function(n){try{le.mylog(n,c);var o,e,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(h,d);(n=ProperMedia.utils.safeJsonParse(n)||{})&&n.slots&&0<Object.keys(n.slots).length?(o=n.sbi_dc||"",Object.keys(n.slots).forEach(function(e){var t,i,r,s,a=n.slots[e];0<Object.keys(a).length?(a.sbi_dozer,t=a.sbi_aid||"",a.sbi_ct,s=e,i=a.sbi_mouse,r=a.sbi_size,"video"==u.demand_type&&(r=g.imps[e].sizes[0]),s=new D({bidder:c,size:r,price:parseFloat(i),gross:parseFloat(i),tag_id:s,request_url:m,response:a,response_ms:p,received_ts:d,ttl:u.default_bid_ttl}),"video"==u.demand_type?(s.type="video",s.vast_tag="https://"+o+"apex.go.sonobi.com/vast.xml?vid="+t+"&ref="+encodeURIComponent(_e.bidder_page_url),s.vast_type="url",s.vpaid=!1,s.video_type=u.video_type):s.adcode='<script type="text/javascript" src="https://'+o+"apex.go.sonobi.com/sbi.js?aid="+t+"&as=null&ref="+encodeURIComponent(_e.bidder_page_url)+'"><\/script>',l.logBidResponse(s)):(s=new D({bidder:c,price:0,gross:0,tag_id:"",request_url:m,response:a,response_ms:p,received_ts:d,ttl:0}),l.logNoBidResponse(s))}),i=c,(t=n)&&t.sbi_px&&(t=t.sbi_px.map(function(e){return{type:e.type,url:e.url,bidder:i}}),E.add(t))):(e=new D({bidder:c,price:0,gross:0,tag_id:"",request_url:m,response:n,response_ms:p,received_ts:d,ttl:0}),l.logNoBidResponse(e)),l.incrementBidResponseCount(s)}catch(e){throw e.bidder=c,e}var t,i},error:function(e){try{l.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),r={bidder:c,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};l.logBidResponseError(r)}catch(e){throw e.bidder=c,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4}},de.sovrn=(ui={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:9e4},gi="sovrn",mi="https://ap.lijit.com/rtb/bid?src=prebid_prebid_"+ce.prebid_version,{formatRequest:wr,send:function(m){var e=(i=wr(m.requests)).imps||[],s=i.request_cnt;if(0==e.length)return!1;var t,i={id:ProperMedia.utils.generateUUID(),imp:e,site:{domain:_e.domain,page:_e.bidder_page_url}},r=[];(e=T.getEidsArray())&&e.length&&(e.forEach(function(e){e.uids&&e.uids[0]&&("criteo.com"===e.source&&(t=e.uids[0].id),r.push({source:e.source,uid:e.uids[0].id}))}),ProperMedia.utils.deepSetValue(i,"user.ext.eids",e),ProperMedia.utils.deepSetValue(i,"user.ext.tpid",r),t&&ProperMedia.utils.deepSetValue(i,"user.ext.prebid_criteoid",t)),ce.schain&&(i.source={ext:{schain:ce.schain}}),te.cmpPresent&&(i.regs={ext:{gdpr:Number(te.gdprApplies)}},i.user={ext:{consent:te.consentString}}),J.cmpPresent&&J.usPrivacy&&(i.regs=i.regs||{},i.regs.ext=i.regs.ext||{},i.regs.ext.us_privacy=J.usPrivacy),le.mylog(mi,gi),m.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+gi+".edge")||!1;I.ajax({url:mi,method:"POST",requestType:"cors",bidder:gi,edge:e,data:JSON.stringify(i),success:function(e){try{le.mylog(e,gi);var c,t,u=ProperMedia.utils.getTimestampMs(),g=ProperMedia.utils.calcResponseMs(a,u);(e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length?(c=e.seatbid[0].bid,Object.keys(c).forEach(function(e){var t=c[e],i=t.impid.split("|")||["",""],r=i[0]||"",s=i[1]||"",a=t.cid||"",n=t.crid||"",o=t.dealid||"",d=t.price||0,p=t.adm||"",l=t.nurl||"",e=1e3*ProperMedia.utils.deepAccess(t,"ext.ttl")||ui.default_bid_ttl;p&&(p=decodeURIComponent(p),l&&(p+='<img src="'+l+'" width=1 height=1>'));i={},l=ProperMedia.utils.getUrlParameters(l);void 0!==l.seatid&&(i.seatid=l.seatid),void 0!==l.campaignid&&(i.campaignid=l.campaignid),void 0!==l.bannerid&&(i.bannerid=l.bannerid),void 0!==l.cb&&(i.cb=l.cb),void 0!==l.rpid&&(i.rpid=l.rpid);e=new D({bidder:gi,size:s,price:parseFloat(d),gross:parseFloat(d),adcode:p,tag_id:r,cid:a,crid:n,dealid:o,request_url:mi,response:t,response_ms:g,received_ts:u,ttl:e});m.logBidResponse(e)})):(le.mylog("no sovrn bids found"),t=new D({bidder:gi,price:0,gross:0,tag_id:"",request_url:mi,response:e,response_ms:g,received_ts:u,ttl:0}),m.logNoBidResponse(t)),function(e){try{var t;e&&e.ext&&e.ext.iid&&(t="",te&&te.cmpPresent&&te.gdprApplies&&"string"==typeof te.consentString&&(t+="&gdpr_consent="+te.consentString),J.cmpPresent&&J.usPrivacy&&(t+="&us_privacy="+J.usPrivacy),E.add({type:"iframe",url:"//ap.lijit.com/beacon?informer="+e.ext.iid+t,bidder:gi}))}catch(e){throw e.bidder=gi,e}}(e),m.incrementBidResponseCount(s)}catch(e){throw e.bidder=gi,e}},error:function(e){try{m.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:gi,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=gi,e}}})},bidderInfo:ui}),de.teads=(hi={rev_share:1,demand_type:"display",bid_grouping:"page",div_insertion:1,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},_i="https://a.teads.tv/hb/bid-request",fi="teads",bi={GDPR_APPLIES_PUBLISHER:12,GDPR_APPLIES_GLOBAL:11,GDPR_DOESNT_APPLY:0,CMP_NOT_FOUND_OR_ERROR:22},L.ready(function(){var e,t="";te&&(e={status:Pr(te.gdprApplies,te.vendorData),consent:te.consentString},t="?gdprIab="+encodeURIComponent(JSON.stringify(e))),E.add({type:"iframe",url:"https://sync.teads.tv/iframe"+t,bidder:fi})}),{formatRequest:xr,send:function(m){var h=xr(m.requests),e=ProperMedia.utils.objectValues(h.data)||[],_=h.request_cnt,t={referrer:_e.bidder_page_url,data:e,deviceWidth:_e.width};ce.schain&&(t.schain=ce.schain),te&&(i="boolean"==typeof te.gdprApplies,e="string"==typeof te.consentString,i=i?Pr(te.gdprApplies,te.vendorData,te.apiVersion):bi.CMP_NOT_FOUND_OR_ERROR,t.gdpr_iab={consent:e?te.consentString:"",status:i,apiVersion:te.apiVersion}),J.cmpPresent&&J.usPrivacy&&(t.us_privacy=J.usPrivacy),le.mylog(_i,fi),m.incrementRequestsSent(_);var f=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(ce,"bidders.header."+fi+".edge")||!1;I.ajax({url:_i,method:"POST",requestType:"cors",bidder:fi,edge:i,data:JSON.stringify(t),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(f,t);if(e&&e.responses&&0<e.responses.length){le.mylog(e,fi);for(var r=0;r<e.responses.length;r++){var s=e.responses[r],a=s.bidId||"",n=s.width||1,o=s.height||1,d=s.cpm||0,p=s.ad||"",l=s.creativeId||"",c=1e3*(s.ttl||120),u="1x1";"1x1"==(u=-1!==h.data[a].sizes.indexOf(n+"x"+o)?n+"x"+o:u)&&(u=h.sizes[a].pop()||u);var p=(1==ce.dfp_per_slot&&0==_e.isolated?'<script>try { var slot_div = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}-iframe").contentWindow.document.getElementById("{PROPER_SLOT_DIV_ID}"); var div = document.createElement(\'div\'); div.setAttribute("id", "'+h.data[a].adUnitCode+'"); slot_div.appendChild(div); } catch(e) { console.error(e); }<\/script>':'<script>try { var slot_div = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}"); var div = document.createElement(\'div\'); div.setAttribute("id", "'+h.data[a].adUnitCode+'"); slot_div.appendChild(div); } catch(e) { console.error(e); }<\/script>')+p,g=new D({bidder:fi,size:u,price:parseFloat(d),gross:parseFloat(d),adcode:p,tag_id:a,crid:l,request_url:_i,response:s,response_ms:i,received_ts:t,ttl:c});m.logBidResponse(g)}}else{le.mylog("no teads bids returned");g=new D({bidder:fi,price:0,gross:0,tag_id:"",request_url:_i,response:e,response_ms:i,received_ts:t,ttl:0});m.logNoBidResponse(g)}m.incrementBidResponseCount(_)}catch(e){throw e.bidder=fi,e}},error:function(e){try{m.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(f,t),r={bidder:fi,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=fi,e}}})},bidderInfo:hi}),de.triplelift=(vi="https://tlx.3lift.com/header/auction",yi={identityLink:{adapter:pe.identityLink,valuePath:"idl_env",rtiPartner:"idl"}},L.ready(function(){var e=[];te.cmpPresent&&(te.gdprApplies&&e.push("gdpr="+encodeURIComponent(te.gdprApplies)),te.consentString&&e.push("cmp_cs="+encodeURIComponent(te.consentString))),J.cmpPresent&&J.usPrivacy&&e.push("us_privacy="+encodeURIComponent(J.usPrivacy)),E.add({type:"iframe",url:"https://eb2.3lift.com/sync?"+e.join("&"),bidder:"triplelift"})}),{send:function(f){var b=f.bidder,v=ce.bidder_info[b]||v,y=Mr(f.requests,b,v),e=ProperMedia.utils.objectValues(y.imps)||[],w=y.request_cnt;if(0==e.length)return!1;var t={imp:e},s=[];Object.keys(yi).forEach(function(e){var t,i,r=yi[e];ProperMedia.utils.deepAccess(r,"adapter.config.enabled")&&(t=s,i=r.adapter.getValue(),e=r.adapter.source,r=r.rtiPartner,i&&t.push({source:e,uids:[{id:i,ext:{rtiPartner:r}}]}))}),0<s.length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",s);var i=vi;i+="?lib=prebid",i+="&v="+ce.prebid_version,i+="&referrer="+encodeURIComponent(_e.bidder_page_url),i+="&tmax=1200",te.cmpPresent&&(void 0!==te.gdprApplies&&(i+="&gdpr="+!!te.gdprApplies),void 0!==te.consentString&&(i+="&cmp_cs="+te.consentString)),J.cmpPresent&&J.usPrivacy&&(i+="&us_privacy="+J.usPrivacy),ce.schain&&(t.ext={schain:ce.schain}),le.mylog(i,b),f.incrementRequestsSent(w);var x=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+b+".edge")||!1;I.ajax({url:i,requestType:"cors",method:"POST",bidder:b,edge:e,data:JSON.stringify(t),success:function(e){try{le.mylog(e,b);var t=ProperMedia.utils.safeJsonParse(e)||{},i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(x,i);if(t&&t.bids&&0<t.bids.length)for(var s=0;s<t.bids.length;s++){var a=t.bids[s],n=a.imp_id||0,o=a.cpm||0,d=a.ad||"",p=a.width||1,l=a.height||1,c=(a.iurl,a.crid||""),u=a.adomain||[],g=a.advertiser_name||"",m="1x1";"1x1"==(m=-1!==y.tag_sizes[n].indexOf(p+"x"+l)?p+"x"+l:m)&&(m=y.tag_sizes[n].pop()||m);var h=parseFloat(o),_=new D({bidder:b,size:m,price:h,gross:h,tag_id:n,adomain:u,crid:c,adid:g,request_url:vi,response:a,response_ms:r,received_ts:i,ttl:v.default_bid_ttl});"video"==v.demand_type?(_.type="video",_.vast_tag=d,_.vast_type="tag",_.vpaid=!1,_.video_type=v.video_type):_.adcode=d,f.logBidResponse(_)}else{_=new D({bidder:b,price:0,gross:0,tag_id:"",request_url:vi,response:t,response_ms:r,received_ts:i,ttl:0});f.logNoBidResponse(_)}f.incrementBidResponseCount(w)}catch(e){throw e.bidder=b,e}},error:function(e){try{f.incrementBidResponseCount(w);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(x,t),r={bidder:b,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(r)}catch(e){throw e.bidder=b,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},formatRequest:Mr,removeCreative:function(e){try{if(1==ce.dfp_per_slot){var t=window.top.document.querySelectorAll("#"+CSS.escape(e.div_id)+" .tlod");if(t&&0<t.length)for(var i=0;i<t.length;i++){var r=t[i];r.parentNode.removeChild(r)}}}catch(e){console.error(e)}}}),de.thirtythreeacross=function(){var p="thirtythreeacross",w="https://ssc.33across.com/api/v1/hb";SYNC_ENDPOINT="https://de.tynt.com/deb/v2?m=xch&rt=html",NON_MEASURABLE="nm";var l={sticky_horizontal:"1x1"};function e(a,n,o){var d={};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t,i=0;i<a[e].length;i++){var r,s=a[e][i];void 0===d[s]&&(d[s]={},"display"==o.demand_type?(d[s].banner={format:[]},d[s].product="siab"):"video"==o.demand_type&&(r=e.split("x"),d[s].video={skip:1,skipafter:5,linearity:"outstream"==o.video_type?2:1,placement:1,startdelay:0,minduration:15,maxduration:30,playback_methods:[2,3,6],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(r[0])||0,h:parseInt(r[1])||0,ext:{ttx:{bidfloors:[Er(n,e)]}}},d[s].product=o.video_type,"outstream"==o.video_type&&(d[s].placement=2))),"display"==o.demand_type&&(d[s].banner.format.push((t=void 0,t=(r=l[r=e]||r).split("x"),{w:parseInt(t[0]),h:parseInt(t[1]),ext:{ttx:{bidfloors:[Er(p,r)]}}})),"sticky_horizontal"==e&&(d[s].product="inview",d[s].special_size=e))}}),d}return{formatRequest:e,send:function(b){var v=b.bidder,y=ce.bidder_info[v]||y,t=e(b.requests,v,y);Object.keys(t).forEach(function(e){!function(h,_){var s="display"==y.demand_type?h.banner.format.length:1,f=h.product,e="inview"==f?100:NON_MEASURABLE,t={id:ProperMedia.utils.generateUUID(),site:{id:_},imp:[],ext:{ttx:{caller:[{name:"proper.io",version:"1.0"}]}}};"display"==y.demand_type?t.imp.push({banner:h.banner}):"video"==y.demand_type&&t.imp.push({video:h.video});t.imp[0]&&(t.imp[0].ext={ttx:{prod:f,viewability:{amount:isNaN(e)?e:Math.round(e)}}});ce.schain&&(t.source={ext:{schain:ce.schain}});te.cmpPresent&&(t.regs={ext:{gdpr:!0===te.gdprApplies?1:0}},te.consentString&&(t.user={ext:{consent:te.consentString}}));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);1==ce.testing_mode.ids&&(t.test=1);le.mylog(w,v),b.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+v+".edge")||!1;I.ajax({method:"POST",url:w,requestType:"cors",bidder:v,edge:e,data:JSON.stringify(t),success:function(u){try{le.mylog(u,v);var e,u=ProperMedia.utils.safeJsonParse(u),g=ProperMedia.utils.getTimestampMs(),m=ProperMedia.utils.calcResponseMs(a,g);u&&u.seatbid&&0<u.seatbid.length&&u.seatbid[0].bid&&0<u.seatbid[0].bid.length?Object.keys(u.seatbid).forEach(function(e){var c=u.seatbid[e].bid;Object.keys(c).forEach(function(e){var t=c[e],i=(u.bidid,t.price||0),r=t.w||1,s=t.h||1,a=t.adid||"",n=t.cid||"",o=t.crid||"",d=t.cat||[],p=t.adomain||[],l=(u.cur,t.adm||""),e=t.ttl||y.default_bid_ttl,s=r+"x"+s;"inview"==f&&"1x1"==s&&(s=h.special_size||s);o=new D({bidder:v,size:s,price:parseFloat(i),gross:parseFloat(i),tag_id:_,adid:a,cid:n,crid:o,cat:d,adomain:p,request_url:w,response:t,response_ms:m,received_ts:g,ttl:e});"video"==y.demand_type?(d=l,p=t.attr||[],e=t.api||0,t=t.protocol||6,t=-1!==[1,2,3,7].indexOf(t)?"url":"tag",e=-1!==p.indexOf(16)||-1!==[1,2].indexOf(e),o.type="video",o.vast_tag=d,o.vast_type=t,o.vpaid=e,o.video_type=y.video_type):o.adcode=l,b.logBidResponse(o)})}):(e=new D({bidder:v,price:0,gross:0,tag_id:"",request_url:w,response:u,response_ms:m,received_ts:g,ttl:0}),b.logNoBidResponse(e)),b.incrementBidResponseCount(s),function(e){e=[{type:"iframe",url:SYNC_ENDPOINT+"&id="+e.site.id+"&gdpr_consent="+encodeURIComponent(te.consentString)+"&us_privacy="+encodeURIComponent(J.usPrivacy),bidder:p}];"boolean"==typeof gdprApplies&&(e[0].url+="&gdpr="+Number(te.gdprApplies));E.add(e)}(t)}catch(e){throw e.bidder=v,e}},error:function(e){try{b.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:v,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};b.logBidResponseError(r)}catch(e){throw e.bidder=v,e}}})}(t[e],e)})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4}}}(),de.undertone=(wi=0,L.ready(function(){var e="",t=Sr(te.cmpPresent);t&&(e+="?"+t),J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"ccpa="+J.usPrivacy),E.add({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+e,bidder:"undertone"})}),{formatRequest:kr,send:function(d){var p=d.bidder,l=ce.bidder_info[p]||l;if(!(wi=ProperMedia.utils.deepAccess(ce,"bidders.header."+p+".site_id")||0))return le.mylog("Error: Undertone Site ID is Required."),!1;var c="https://hb.undertone.com/hb?pid="+wi+"&domain="+_e.domain,u=kr(d.requests,l),e=ProperMedia.utils.objectValues(u.imps)||[],s=u.request_cnt;if(0==s)return!1;var t=Math.max(S.documentElement.clientWidth,window.innerWidth||0),i=Math.max(S.documentElement.clientHeight,window.innerHeight||0),t={"x-ut-hb-params":e,commons:{adapterVersion:ce.prebid_version,uids:T.getEidsArray()||[],pageSize:0==t||0==i?null:[t,i]}};(i=Sr(te.cmpPresent))&&(c+="&"+i),J.cmpPresent&&J.usPrivacy&&(c+="&ccpa="+J.usPrivacy);var a=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(ce,"bidders.header."+p+".edge")||!1;I.ajax({url:c,method:"POST",requestType:"cors",bidder:p,edge:i,data:JSON.stringify(t),success:function(e){try{le.mylog(e,p);var t,e=ProperMedia.utils.safeJsonParse(e),n=ProperMedia.utils.getTimestampMs(),o=ProperMedia.utils.calcResponseMs(a,n);e&&Array.isArray(e)&&0<e.length?e.forEach(function(e){var t="1x1";ProperMedia.utils.deepAccess(u,"tag_sizes."+e.bidRequestId)?t=ProperMedia.utils.deepAccess(u,"tag_sizes."+e.bidRequestId):e.width&&e.height&&(t=e.width+"x"+e.height);var i=e.cpm||0,r=e.ttl||0,s=e.adId||"",a=e.bidRequestId||"",r=new D({bidder:p,size:t,price:parseFloat(i),gross:parseFloat(i),tag_id:a,adid:s,ttl:1e3*r||l.default_bid_ttl,request_url:c,response:e,response_ms:o,received_ts:n});"video"==l.demand_type?(r.type="video",r.vast_tag=e.ad,r.vast_type="tag",r.vpaid=!1,r.video_type=l.video_type):r.adcode=e.ad,d.logBidResponse(r)}):(t=new D({bidder:p,price:0,gross:0,tag_id:"",request_url:c,response:e,response_ms:o,received_ts:n,ttl:0}),d.logNoBidResponse(t)),d.incrementBidResponseCount(s)}catch(e){throw e.bidder=p,e}},error:function(e){try{d.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:p,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};d.logBidResponseError(r)}catch(e){throw e.bidder=p,e}}})},bidderInfo:{rev_share:1,bid_grouping:"page",demand_type:"display",default_bid_ttl:36e4,native_sizes:{desktop:{sticky_horizontal:[[1,1]],native_horizontal:[[1,2]]},mobile:{sticky_horizontal:[[1,1],[320,50]],native_horizontal:[[1,2]]}}}}),de.vidazoo=function(){var d={rev_share:1,bid_grouping:"slot",default_bid_ttl:3e5},p="vidazoo",l="300x250",r=["300x250"];ENDPOINT_TEST="https://demoad.cootlogix.com/prebid/multi/";var c={britepoolid:1,criteoId:1,digitrustid:1,id5id:1,idl_env:1,lipb:1,netId:1,parrableId:1,pubcid:1,tdid:1};function u(){return window.sessionStorage}return{send:function(o){if(!(ProperMedia.utils.deepAccess(ce,"bidders.header."+p+".site_id")||0))return le.mylog("Error: Vidazoo Site ID (Widget ID) is Required."),!1;var i=o.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,s){if(e!==l||!s)return;var t=function(e){try{var t=Number(function(e){try{return u().getItem(e)}catch(e){return null}}(e)||0)+1;return function(e,t){try{u().setItem(e,String(t))}catch(e){}}(e,t),t}catch(e){return 0}}(function(e,t){t=t||"_";var i=e.length,r=0,s=0;if(0<i)for(;s<i;)r=(r<<5)-r+e.charCodeAt(s++)|0;return t+r}(_e.bidder_page_url)),e={url:encodeURIComponent(_e.url),cb:Date.now(),bidFloor:Er(p,l),bidId:ProperMedia.utils.generateUUID(),publisherId:"59ac17c192832d0011283fe3",sizes:r,dealId:t,bidderVersion:"1.0.0",prebidVersion:ce.prebid_version,res:screen.width+"x"+screen.height};(function(i){var r,s=T.getUIdsObj();Object.keys(s).forEach(function(e){if(c[e]){var t=s[e];switch(r="uid."+e,e){case"digitrustid":i[r]=ProperMedia.utils.deepAccess(t,"data.id");break;case"lipb":i[r]=t.lipbid;break;case"parrableId":i[r]=t.eid;break;case"id5id":i[r]=t.uid;break;default:i[r]=t}}})})(e),te.cmpPresent&&("boolean"==typeof te.gdprApplies&&(e.gdpr=te.gdprApplies?1:0),e.gdprConsent=te.consentString);J.cmpPresent&&J.usPrivacy&&(e.usPrivacy=J.usPrivacy);var a="https://prebidnp.cootlogix.com/prebid/multi/"+s;1==ce.testing_mode.ids&&(s="5e7b4eac063c510017ca44ef",a=ENDPOINT_TEST+s);le.mylog(a,p),o.incrementRequestsSent(1);var n=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+p+".edge")||!1;I.ajax({url:a,method:"POST",requestType:"cors",bidder:p,edge:t,data:JSON.stringify(e),success:function(e){try{le.mylog(e,p);var t,e=ProperMedia.utils.safeJsonParse(e),i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(n,i);e.results&&Array.isArray(e.results)&&0<e.results.length?(e.results.forEach(function(e){e=new D({bidder:p,size:l,price:parseFloat(e.price),gross:parseFloat(e.price),adcode:e.ad,tag_id:s,ttl:1e3*(e.exp||d.default_bid_ttl),request_url:a,response:e,response_ms:r,received_ts:i});o.logBidResponse(e)}),function(){try{E.add({type:"iframe",url:"https://static.cootlogix.com/basev/sync/user_sync.html",bidder:p})}catch(e){throw e.bidder=p,e}}()):(t=new D({bidder:p,price:0,gross:0,tag_id:"",request_url:a,response:e,response_ms:r,received_ts:i,ttl:0}),o.logNoBidResponse(t)),o.incrementBidResponseCount(1)}catch(e){throw e.bidder=p,e}},error:function(e){try{o.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(n,t),r={bidder:p,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};o.logBidResponseError(r)}catch(e){throw e.bidder=p,e}}})}(e,i[e][t])})},bidderInfo:d}}(),de.s2s=(xi=ce.eb_endpoint,{send:function(A){if(!A||!A.requests)return!1;var t=ge.isMobile()?"mobile":"desktop",i=ProperMedia.utils.deepCopy(ce.floors[t]||{backup:.01,sizes:{}});ProperMedia.utils.deepAccess(ue,"sessionData.bid_avg")&&Object.keys(ue.sessionData.bid_avg).forEach(function(e){(!ProperMedia.utils.deepAccess(i,"sizes."+e)||i.sizes[e]<ue.sessionData.bid_avg[e])&&ProperMedia.utils.deepSetValue(i,"sizes."+e,ue.sessionData.bid_avg[e])});var r={openRTBBidRequest:(s={id:null,at:1,tmax:550,site:{id:"",page:_e.bidder_page_url,ref:_e.referrer,domain:_e.domain,publisher:{id:ce.site_name,name:_e.domain,domain:_e.domain}},device:{connectiontype:0,ua:navigator.userAgent,ip:null,dnt:ProperMedia.utils.getDNT()?1:0,js:1,geo:null,os:window.device.os_group,h:_e.height,w:_e.width,language:navigator.language.split("-")[0]},user:{buyeruid:null,geo:null},source:{pchain:0},regs:{ext:{}},ext:{},test:1==ce.testing_mode.ids?1:0,imp:[]},(t=T.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(s,"user.ext.eids",t),ce.schain&&(s.source={ext:{schain:ce.schain}}),te.cmpPresent&&("boolean"==typeof te.gdprApplies&&ProperMedia.utils.deepSetValue(s,"regs.ext.gdpr",Number(te.gdprApplies)),ProperMedia.utils.deepSetValue(s,"user.ext.consent",te.consentString)),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(s,"regs.ext.us_privacy",J.usPrivacy),s),bidder_ids:A.requests,is_secure:_e.use_ssl?1:0,floors:i,cookies:{}};Object.keys(r.bidder_ids).forEach(function(e){e=e.replace("_s2s",""),he.supported_bidders[e]&&he.bidderUserSyncValues[e]&&(r.cookies[e]=he.bidderUserSyncValues[e])});var E=xi+"?proper_uid="+he.proper_uid;1==ce.testing_mode.ids&&(E+="&d=1"),le.mylog(E,"s2s");var C=0;Object.keys(A.requests).forEach(function(e){A.requests[e]&&A.requests[e].tag_ids&&(C+=A.requests[e].tag_ids.length)}),A.incrementRequestsSent(C);var R=ProperMedia.utils.getTimestampMs(),s=ProperMedia.utils.deepAccess(ce,"bidders.header.s2s.edge")||!1;I.ajax({url:E,method:"POST",requestType:"cors",bidder:"s2s",edge:s,data:JSON.stringify(r),success:function(t){try{t=ProperMedia.utils.safeJsonParse(t);le.mylog(t,"s2s");var e=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(R,e);if(t&&t.bids&&0<t.bids.length)for(var r=ge.isMobile()?"mobile":"desktop",s=0;s<t.bids.length;s++){var a=t.bids[s],n=a.adcode||"",o=a.vast_tag||"",d=a.vast_type||"",p=a.vpaid||!1,l=a.bidder+"_s2s",c=a.media_type,u=a.price||0,g=a.impid||"",m=a.burl||"",h=a.nurl||"",_=a.dealid||"",f=a.adid||"",b=a.adomain||[],v=a.cid||"",y=a.crid||"",w=a.cat||[],x=a.ext||{},P=parseInt(a.w||0),M=parseInt(a.h||0),k=ProperMedia.utils.deepAccess(ce,"bidder_info."+l)||k,S=a.exp||k.default_bid_ttl||12e4;h&&(n+='<img src="'+a.nurl+'" width=1 height=1>');var I=g.split("@"),T=P&&M?P+"x"+M:I[1].replace(/\-\d+$/,""),T=ProperMedia.utils.deepAccess(k,"native_sizes."+r+"."+T)||T,j=new D({bidder:l,type:c,size:T,burl:m,nurl:h,price:parseFloat(u*k.rev_share),gross:parseFloat(u),tag_id:g,request_url:xi,response:a,response_ms:i,received_ts:e,dealid:_,adid:f,adomain:b,cid:v,crid:y,cat:w,ext:x,ttl:S});"video"==c?(j.vast_tag=o,j.vast_type=d,j.vpaid=p,j.video_type=k.video_type):j.adcode=n,A.logBidResponse(j)}else{j=new D({bidder:"s2s",price:0,gross:0,tag_id:"",request_url:E,response:t,response_ms:i,received_ts:e,ttl:0});A.logNoBidResponse(j)}A.incrementBidResponseCount(C),t&&t.cookies&&Object.keys(t.cookies).map(function(e){t.cookies[e]&&he.updateBidderUserSyncData(e,t.cookies[e])})}catch(e){throw e.bidder="s2s",e}},error:function(t){try{A.incrementBidResponseCount(C);var i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(R,i),s={bidder:"s2s",status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:r};A.logBidResponseError(s)}catch(e){throw e.bidder="s2s",e}}})},onBidWon:function(e){return e.burl&&I.ajax({url:e.burl,method:"GET",withCredentials:!0}),!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4},removeCreative:function(e){"gumgum_s2s"==e.displayed_ad.bidder&&function(){try{var e,t=window.top.document.getElementById("GG_PXS");!t||(e=t.parentNode)&&e.parentNode.removeChild(e)}catch(e){console.error(e)}}()}}),de.aol_instream=(Pi=["https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc","https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}","https://sync-tm.everesttech.net/upi/pid/m7y5t93k?redir=https%3A%2F%2Fsync.adap.tv%2Fsync%3Ftype%3Dgif%26key%3Dtubemogul%26uid%3D%24%7BUSER_ID%7D","https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1"],Mi=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],{send:function(h){var _=h.bidder,f=ce.bidder_info[_]||f,e=(ProperMedia.utils.deepAccess(ce,"bidders.header."+_+".site_id")||"").toString().split("-")||["",""],e=ge.isMobile()&&2==e.length?e[1]:e[0];if(!(e=1==ce.testing_mode.ids?"HBExchange":e))return le.mylog("Error: AOL Video Site ID is Required."),!1;var i=h.requests,b="https://ads.adaptv.advertising.com/rtb/openrtb?ext_id="+e;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,g,t){var m=e.split("x"),t={id:ProperMedia.utils.generateUUID(),at:2,cur:"USD",imp:[{id:parseInt(t+1).toString(),secure:_e.use_ssl?1:0,bidfloor:Er(_,e),video:{mimes:["video/mp4","application/javascript"],w:parseInt(m[0]),h:parseInt(m[1]),linearity:"outstream"==f.video_type?2:1,protocols:[2,5],api:[2],delivery:[2],playbackmethod:[2],minduration:1,maxduration:15},ext:{hb:1}}],site:{page:_e.url,ref:_e.referrer},device:{ua:navigator.userAgent,js:1},tmax:550},e=(userIdAsEids=T.getEidsArray(),userIdAsEids.filter(function(e){return-1!==Mi.indexOf(e.source)}));e&&e.length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",e);ce.schain&&ProperMedia.utils.deepSetValue(t,"source.ext.schain",ce.schain);te.cmpPresent&&("boolean"==typeof te.gdprApplies&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",te.gdprApplies),ProperMedia.utils.deepSetValue(t,"user.ext.consent",te.consentString));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);le.mylog(b,_),le.mylog(_+": sending bid request"),h.incrementRequestsSent(1);var s=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+_+".edge")||!1;I.ajax({method:"POST",requestType:"cors",bidder:_,edge:e,data:JSON.stringify(t),url:b,success:function(e){le.mylog("AOL Video: parsing response");try{var t,c=ProperMedia.utils.getTimestampMs(),u=ProperMedia.utils.calcResponseMs(s,c);(e=ProperMedia.utils.safeJsonParse(e))&&ProperMedia.utils.deepAccess(e,"seatbid.bid")&&0<e.seatbid.bid.length?(le.mylog(e,_),e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.w||m[0],i=e.h||m[1],r=e.price||0,s=e.adm||"",a=e.crid||"",n=e.dealid||"",o=e.adomain||[],d=e.attr||[],p=e.api||0,l=e.protocol||5,l=-1!==[1,2,3,7].indexOf(l)?"url":"tag",p=-1!==d.indexOf(16)||-1!==[1,2].indexOf(p),e=new D({bidder:_,type:"video",size:t+"x"+i,price:parseFloat(r),gross:parseFloat(r),vast_tag:s,vast_type:l,vpaid:p,video_type:f.video_type,tag_id:g,crid:a,dealid:n,adomain:o,request_url:b,response:e,response_ms:u,received_ts:c,ttl:f.default_bid_ttl});h.logBidResponse(e)})})):(le.mylog(_+": no bid returned"),t=new D({bidder:_,price:0,gross:0,tag_id:"",request_url:b,response:e,response_ms:u,received_ts:c,ttl:0}),h.logNoBidResponse(t)),h.incrementBidResponseCount(1)}catch(e){throw le.mylog(_+": unknown error with parsing response - "+e),e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(s,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}}),function(){var e=Pi.map(function(e){return{type:"image",url:e,demand_type:"video",bidder:_}});E.add(e)}()}(e,i[e][t],t)})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e5}}),de.beachfront_instream=(ki="",Si={identityLink:{adapter:pe.identityLink,rtiPartner:"idl"}},L.ready(function(){var e=0,t="",i="1---";te.cmpPresent&&(e=te.gdprApplies?1:0,t=encodeURIComponent(te.consentString||"")),J.cmpPresent&&J.usPrivacy&&(i=encodeURIComponent(J.usPrivacy)),E.add({type:"iframe",url:"https://sync.bfmio.com/sync_iframe?ifg=1&id="+ki+"&gdpr="+e+"&gc="+t+"&gce=1&us_privacy="+i,demand_type:"video",bidder:"beachfront_instream"})}),{send:function(m){var h=m.bidder,_=ce.bidder_info[h]||_;if(ki=ProperMedia.utils.deepAccess(ce,"bidders.header."+h+".site_id")||0,!(ki=1==ce.testing_mode.ids?"11bc5dd5-7421-4dd8-c926-40fa653bec76":ki))return le.mylog("Error: Beachfront Video Site ID is Required."),!1;var i=m.requests,f="https://reachms.bfmio.com/bid.json?exchange_id="+ki;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(c,u){var e=c.split("x"),t={isPrebid:!0,appId:ki,domain:_e.domain,id:ProperMedia.utils.generateUUID(),imp:[{video:{w:parseInt(e[0]),h:parseInt(e[1]),mimes:["video/mp4","application/javascript"]},bidfloor:Er(h,c),secure:_e.use_ssl?1:0}],site:{page:_e.url,domain:_e.domain},device:{ua:navigator.userAgent,language:navigator.language,devicetype:ge.isMobile()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:ProperMedia.utils.getDNT()?1:0,js:1,geo:{}},regs:{ext:{}},user:{ext:{}},cur:["USD"]},e=function(){var r=[];return Object.keys(Si).forEach(function(e){var t,i=Si[e];ProperMedia.utils.deepAccess(i,"adapter.config.enabled")&&(t=i.adapter.getValue(),e=i.adapter.source,i=i.rtiPartner,r.push({source:e,uids:[{id:t,ext:{rtiPartner:i}}]}))}),r}();e&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",e);te.cmpPresent&&("boolean"==typeof te.gdprApplies&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",te.gdprApplies),ProperMedia.utils.deepSetValue(t,"user.ext.consent",te.consentString));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);le.mylog(f,h),le.mylog(h+": sending bid request"),m.incrementRequestsSent(1);var g=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(ce,"bidders.header."+h+".edge")||!1;I.ajax({method:"POST",requestType:"cors",bidder:h,edge:e,data:JSON.stringify(t),url:f,success:function(e){le.mylog(h+": parsing response");try{var t,i,r,s,a,n,o,d,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(g,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.url&&""!=e.url?(t=e.bidPrice||0,i=e.url||"",r=e.attr||[],s=e.api||0,a=e.protocol||2,n=-1!==[1,2,3,7].indexOf(a)?"url":"tag",o=-1!==r.indexOf(16)||-1!==[1,2].indexOf(s),d=new D({bidder:h,type:"video",size:c,price:parseFloat(t),gross:parseFloat(t),vast_tag:i,vast_type:n,vpaid:o,video_type:_.video_type,tag_id:u,request_url:f,response:e,response_ms:l,received_ts:p,ttl:_.default_bid_ttl}),m.logBidResponse(d)):(le.mylog(h+": no bid returned"),d=new D({bidder:h,price:0,gross:0,tag_id:"",request_url:f,response:e,response_ms:l,received_ts:p,ttl:0}),m.logNoBidResponse(d)),m.incrementBidResponseCount(1)}catch(e){throw le.mylog(h+": unknown error with parsing response - "+e),e.bidder=h,e}},error:function(e){try{m.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(g,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5}}),de.openx_instream=(Ii="openx_instream",Ti=!0,ji=[pe.identityLink,pe.id5Id,pe.pubCommonId,pe.sharedId],{send:function(P){var M=P.bidder,k=ce.bidder_info[M]||k,i=P.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,b){var v=e.split("x");tag_id=ProperMedia.utils.deepAccess(ce,"bidders.header."+M+".site_id")||b;e=[{video:{mimes:["video/mp4","application/javascript"],w:parseInt(v[0]),h:parseInt(v[1])},w:parseInt(v[0]),v:parseInt(v[1])}],e={ju:_e.bidder_page_url,jr:_e.referrer,ch:S.charSet||S.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:!1,tz:(new Date).getTimezoneOffset(),tws:window.top.innerWidth+"x"+window.top.innerHeight,be:1,bc:"hb_pb_3.0.3",dddid:ProperMedia.utils.generateUUID(),pubcid:me.pubcid,nocache:(new Date).getTime(),auid:tag_id,vwd:parseInt(v[0]),vht:parseInt(v[1]),vmimes:["video/mp4","application/javascript"],openrtb:e};"outstream"==k.video_type&&(e.vos="101");ce.schain&&(e.schain=ProperMedia.utils.formatSupplyChainString(ce.schain));te.cmpPresent&&(e.gdpr_consent=te.consentString||"","boolean"==typeof te.gdprApplies&&(e.gdpr=te.gdprApplies?1:0),e.x_gdpr_f=1);J.cmpPresent&&J.usPrivacy&&(e.us_privacy=J.usPrivacy);e=function(t){return ji.forEach(function(e){ProperMedia.utils.deepAccess(e,"config.enabled")&&ProperMedia.utils.deepAccess(e,"storage.name")&&(t[e.storage.name]=e.getValue())}),t}(e),1==ce.testing_mode.ids&&(e.vtest="1");var e=ProperMedia.utils.formatQueryString(e,!0),y="https://propermedia-d.openx.net/v/1.0/avjp?"+e;le.mylog(y,M),le.mylog(M+": sending bid request"),P.incrementRequestsSent(1);var w=ProperMedia.utils.getTimestampMs(),x=new Date;I.ajax({method:"GET",requestType:"cors",url:y,success:function(e){le.mylog(M+": parsing response");try{var t,i,r,s,a,n,o,d,p,l,c,u,g=ProperMedia.utils.getTimestampMs(),m=ProperMedia.utils.calcResponseMs(w,g);(e=ProperMedia.utils.safeJsonParse(e))&&e.vastUrl&&e.pub_rev?(t=Number(e.pub_rev)/1e3||0,i=e.vastUrl||"",r=v[0]||e.width,s=v[1]||e.height,a=e.attr||[],n=e.api||0,o=e.protocol||2,d=e.adid||"",p=e.deal_id||"",l=-1!==[1,2,3,7].indexOf(o)?"url":"tag",c=-1!==a.indexOf(16)||-1!==[1,2].indexOf(n),h=e,_=x,Ti&&(Ti=!1,(_={bd:+new Date-_,bp:h.pub_rev,br:"0",bs:ProperMedia.utils.getPageDomain(),bt:3e3,ts:h.ts}).br=_.bt<_.bd?"t":"p",h=(h&&h.creative&&h.creative[0]&&h.creative[0].tracking&&h.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/),(f=h&&1<h.length?h[1]+"bo?"+ProperMedia.utils.formatQueryString(_,!0):f)&&E.add({type:"image",url:f,bidder:Ii})),u=new D({bidder:M,type:"video",size:r+"x"+s,price:parseFloat(t),gross:parseFloat(t),vast_tag:i,vast_type:l,vpaid:c,video_type:k.video_type,tag_id:b,adid:d,deal_id:p,request_url:y,response:e,response_ms:m,received_ts:g,ttl:1e3*e.ttl||k.default_bid_ttl}),P.logBidResponse(u)):(le.mylog(M+": no bid returned"),u=new D({bidder:M,price:0,gross:0,tag_id:"",request_url:y,response:e,response_ms:m,received_ts:g,ttl:0}),P.logNoBidResponse(u)),function(e){var t="//u.openx.net/w/1.0/pd";e&&(e.ads&&e.ads.pixels?t=e.ads.pixels:e.pixels&&(t=e.pixels));e="";te.cmpPresent&&(e+="?gdpr="+(te.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(te.consentString||""));J.cmpPresent&&J.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(J.usPrivacy));E.add({type:"iframe",url:t+e,demand_type:"video",bidder:Ii})}(e),P.incrementBidResponseCount(1)}catch(e){le.mylog(M+": unknown error with parsing response - "+e)}var h,_,f},error:function(e){try{P.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(w,t),r={bidder:M,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};P.logBidResponseError(r)}catch(e){throw e.bidder=M,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5}}),de.pubmatic_instream=(Ai="https://hbopenbid.pubmatic.com/translator?source=prebid-client",Ei="109126",L.ready(function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+Ei;te.cmpPresent&&(e+="&gdpr="+(te.gdprApplies?1:0),e+="&gdpr_consent="+encodeURIComponent(te.consentString||"")),J.cmpPresent&&J.usPrivacy&&(e+="&us_privacy="+encodeURIComponent(J.usPrivacy)),E.add({type:"iframe",url:e,demand_type:"video",bidder:"pubmatic_instream"})}),{send:function(m){var h=m.bidder,_=ce.bidder_info[h]||_,e=Ir(m.requests,h,_),t=e.imps||[],s=e.imps.length;if(1==ce.testing_mode.ids&&(Ei="157593"),0==s)return!1;e={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:t,site:{page:_e.url,ref:S.referrer,publisher:{id:Ei},domain:_e.domain},device:{ua:navigator.userAgent,js:1,dnt:ProperMedia.utils.getDNT()?1:0,h:screen.height,w:screen.width,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wv:"prebid_prebid_"+ce.prebid_version,transactionId:ProperMedia.utils.generateUUID(),wp:"pbjs"}}},ce.testing_mode.enabled&&(e.test=1),(t=T.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.eids",t),ce.schain&&(e.source={ext:{schain:ce.schain}}),te.cmpPresent&&(e.user.ext={consent:te.consentString||""},e.regs={ext:{gdpr:te.gdprApplies?1:0}}),J.cmpPresent&&J.usPrivacy&&(e.regs=e.regs||{},e.regs.ext=e.regs.ext||{},e.regs.ext.us_privacy=J.usPrivacy),le.mylog(Ai,h),le.mylog(h+": sending bid request"),m.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+h+".edge")||!1;I.ajax({method:"POST",requestType:"cors",bidder:h,edge:t,data:JSON.stringify(e),url:Ai,success:function(e){le.mylog(h+": parsing response");try{var t,u=ProperMedia.utils.getTimestampMs(),g=ProperMedia.utils.calcResponseMs(a,u);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.impid,i=e.adm,r=(parseFloat(e.price)||0).toFixed(2),s=e.w||(ge.isMobile()?400:640),a=e.h||(ge.isMobile()?300:480),n=e.attr||[],o=e.api||0,d=e.protocol||5,p=e.adomain||[],l=e.cid||"",c=e.crid||"",d=-1!==[1,2,3,7].indexOf(d)?"url":"tag",o=-1!==n.indexOf(16)||-1!==[1,2].indexOf(o),e=new D({bidder:h,type:"video",size:s+"x"+a,price:parseFloat(r*_.rev_share),gross:parseFloat(r),vast_tag:i,vast_type:d,vpaid:o,video_type:_.video_type,tag_id:t,adomain:p,cid:l,crid:c,request_url:Ai,response:e,response_ms:g,received_ts:u,ttl:_.default_bid_ttl});m.logBidResponse(e)})}):(t=new D({bidder:h,price:0,gross:0,tag_id:"",request_url:Ai,response:e,response_ms:g,received_ts:u,ttl:0}),m.logNoBidResponse(t)),m.incrementBidResponseCount(s)}catch(e){le.mylog(h+": unknown error with parsing response - "+e)}},error:function(e){try{m.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}})},bidderInfo:{rev_share:.81,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5},formatRequest:Ir}),de.rubicon_instream=function(){accountId=8777;var f="https://prebid-server.rubiconproject.com/openrtb2/auction";function i(a,n,o){var d={imps:[]},e=(ProperMedia.utils.deepAccess(ce,"bidders.header."+n+".site_id")||"").toString().split("-")||["",""],p=ge.isMobile()&&2==e.length?e[1]:e[0];if(!p)return le.mylog("Error: Rubicon Video Site ID is Required."),d;var l=1;return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=a[e][t],r=e.split("x"),s=Er(n,e);d.imps.push({id:l.toString(),secure:_e.use_ssl?1:0,bidfloor:s,ext:{rubicon:{accountId:parseInt(accountId),siteId:parseInt(p),zoneId:parseInt(i),position:"btf",floor:s,video:{language:"en",size_id:"outstream"==o.video_type?203:201,playerWidth:parseInt(r[0]),playerHeight:parseInt(r[1])},prebid:{auctiontimestamp:(new Date).getTime()}}},video:{playerSize:[parseInt(r[0]),parseInt(r[1])],context:o.video_type,mimes:["video/mp4","application/javascript"],protocols:[2,5],w:parseInt(r[0]),h:parseInt(r[1]),maxduration:60,linearity:1,api:[2],pos:3}}),l++}}),d}return{send:function(m){var h=m.bidder,_=ce.bidder_info[h]||_,e=i(m.requests,h,_),t=e.imps||[],s=e.imps.length;if(0==s)return!1;e={id:ProperMedia.utils.generateUUID(),test:1==ce.testing_mode.ids?1:0,cur:["USD"],source:{tid:ProperMedia.utils.generateUUID()},tmax:550,imp:t,ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:[{max:20,increment:.01}]}},bidders:{rubicon:{integration:"pbjs"}}}},site:{page:_e.url,content:{language:"en"}}},(t=T.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",t),ce.schain&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",ce.schain),te.cmpPresent&&(ProperMedia.utils.deepSetValue(e,"user.ext.consent",te.consentString),"boolean"==typeof te.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(te.gdprApplies))),J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",J.usPrivacy),le.mylog(f,h),le.mylog(h+": sending bid request"),m.incrementRequestsSent(s);var a=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(ce,"bidders.header."+h+".edge")||!1;I.ajax({method:"POST",requestType:"cors",bidder:h,edge:t,data:JSON.stringify(e),url:f,success:function(e){le.mylog(h+": parsing response");try{var t,u=ProperMedia.utils.getTimestampMs(),g=ProperMedia.utils.calcResponseMs(a,u);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?(le.mylog(e,h),e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.price||0,i=e.w||(ge.isMobile()?400:640),r=e.h||(ge.isMobile()?300:480),s=e.attr||[],a=e.api||0,n=e.protocol||2,o=e.adomain||[],d=e.cid||"",p=e.crid||"",l=-1!==[1,2,3,7].indexOf(n)?"url":"tag",c=-1!==s.indexOf(16)||-1!==[1,2].indexOf(a),n="",s="",a=ProperMedia.utils.deepAccess(e,"ext.prebid.targeting")||{};ProperMedia.utils.deepAccess(e,"ext.prebid.cache.vastXml.url")?n=ProperMedia.utils.deepAccess(e,"ext.prebid.cache.vastXml.url"):a&&a.hb_uuid&&a.hb_cache_host&&a.hb_cache_path&&(n="https://"+a.hb_cache_host+a.hb_cache_path+"?uuid="+a.hb_uuid),e.adm&&(l="tag",n=e.adm),e.nurl&&(s=e.nurl),!n&&e.nurl&&(n=e.nurl);e=new D({bidder:h,type:"video",size:i+"x"+r,price:parseFloat(t*_.rev_share),gross:parseFloat(t),vast_tag:n,vast_type:l,vpaid:c,video_type:_.video_type,nurl:s,tag_id:i+"x"+r,adomain:o,cid:d,crid:p,request_url:f,response:e,response_ms:g,received_ts:u,ttl:1e3*e.ttl||_.default_bid_ttl});m.logBidResponse(e)})})):(le.mylog(h+": no bid returned"),t=new D({bidder:h,price:0,gross:0,tag_id:"",request_url:f,response:e,response_ms:g,received_ts:u,ttl:0}),m.logNoBidResponse(t)),m.incrementBidResponseCount(s)}catch(e){le.mylog(h+": can't parse bid response - "+e)}},error:function(e){try{m.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}}),E.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html",demand_type:"video",bidder:h})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5},formatRequest:i}}(),de.spotx_instream={send:function(m){var h=m.bidder,_=ce.bidder_info[h]||_,e=ProperMedia.utils.deepAccess(ce,"bidders.header."+h+".site_id").split("-")||["",""],r=ge.isMobile()&&2==e.length?e[1]:e[0];if(!(r=1==ce.testing_mode.ids?"79391":r))return le.mylog("Error: SpotX Site ID is Required."),!1;var f="https://search.spotxchange.com/openrtb/2.3/dados/"+r,i=m.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e){var g=e.split("x"),t={id:r,imp:{id:ProperMedia.utils.generateUUID(),secure:!!_e.use_ssl,bidfloor:Er(h,e),video:{w:parseInt(g[0]),h:parseInt(g[1]),ext:{sdk_name:"Prebid 1+",versionOrtb:ce.prebid_version,ad_unit:_.video_type},mimes:["video/mp4","application/javascript"]}},site:{id:"",page:_e.url,content:"content"},device:{h:parseInt(_e.height),w:parseInt(_e.width),dnt:ProperMedia.utils.getDNT()?1:0,language:"en",make:navigator.vendor||"",ua:navigator.userAgent},ext:{wrap_response:1},user:{ext:{}}},e=T.getEidsArray();ProperMedia.utils.deepAccess(e,"id5id.uid")&&((i=[]).push({source:"id5-sync.com",uids:[{id:e.id5id.uid,ext:e.id5id.ext||{}}]}),ProperMedia.utils.deepSetValue(t,"user.ext.eids",i));me.pubcid&&ProperMedia.utils.deepSetValue(t,"user.ext.fpc",me.pubcid);ce.schain&&(t.source={ext:{schain:ce.schain}});te.cmpPresent&&("boolean"==typeof te.gdprApplies&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",te.gdprApplies),ProperMedia.utils.deepSetValue(t,"user.ext.consent",te.consentString));J.cmpPresent&&J.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",J.usPrivacy);le.mylog(f,h),le.mylog(h+": sending bid request"),m.incrementRequestsSent(1);var s=ProperMedia.utils.getTimestampMs(),i=(new Date,ProperMedia.utils.deepAccess(ce,"bidders.header."+h+".edge")||!1);I.ajax({method:"POST",requestType:"cors",bidder:h,edge:i,data:JSON.stringify(t),url:f,success:function(e){le.mylog(h+": parsing response");try{var t,c=ProperMedia.utils.getTimestampMs(),u=ProperMedia.utils.calcResponseMs(s,c);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.price||0,i=g[0]||(ge.isMobile()?400:640),r=g[1]||(ge.isMobile()?300:480),s=e.attr||[],a=e.api||0,n=e.protocol||2,o=e.adomain||[],d=e.cid||"",p=e.crid||"",l=ProperMedia.utils.deepAccess(e,"ext.cache_key"),n=-1!==[1,2,3,7].indexOf(n)?"url":"tag",a=-1!==s.indexOf(16)||-1!==[1,2].indexOf(a),l="https://search.spotxchange.com/ad/vast.html?key="+l,e=new D({bidder:h,type:"video",size:i+"x"+r,price:parseFloat(t*_.rev_share),gross:parseFloat(t),vast_tag:l,vast_type:n,vpaid:a,video_type:_.video_type,tag_id:e.impid,adomain:o,cid:d,crid:p,request_url:f,response:e,response_ms:u,received_ts:c,ttl:_.default_bid_ttl});m.logBidResponse(e)})}):(le.mylog(h+": no bid returned"),t=new D({bidder:h,price:0,gross:0,tag_id:"",request_url:f,response:e,response_ms:u,received_ts:c,ttl:0}),m.logNoBidResponse(t)),m.incrementBidResponseCount(1)}catch(e){le.mylog(h+": unknown error with parsing response - "+e)}},error:function(e){try{m.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(s,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4}},window.addEventListener("unload",function(){le.proper_tracker()}),window.addEventListener("hashchange",Tr,!1),{init:function(){L.ready(function(){for(propertag.cmd.push=function(e){e.call()},propertag.cmd.unshift=function(e){e.call()};propertag.cmd.length;)propertag.cmd.shift().call()})},set_options:function(e){var t;e.extra_js&&Function('"use strict"; '+e.extra_js.replace(/\\n|\\r/g," "))(),function(){if(void 0!==de)for(var e in de)ce.bidder_info[e]=de[e].bidderInfo}(),t=e,Object.keys(t.ad_slots).forEach(function(e){t.ad_slots[e]=ProperMedia.utils.sortProperties(t.ad_slots[e],"number",!0,!1)}),function(e){properSpecialOps.dfp_id&&(e.dfp_id=properSpecialOps.dfp_id,e.thirdPartyAdManager=!0);properSpecialOps.google_advertiser&&(e.google_advertiser=properSpecialOps.google_advertiser,e.thirdPartyAdManager=!0);properSpecialOps.proper_advertiser&&(e.proper_advertiser=properSpecialOps.proper_advertiser,e.thirdPartyAdManager=!0)}(e=t),e=e,ProperMedia.utils.mergeObject(ce,e),A.init(ce.audience_pixels),function(){var e=S.createElement("style");e.type="text/css";var t='.proper-ad-unit{margin:auto;position:relative;display:block;width:100%;min-width:100px;text-align:center;box-sizing:border-box !important}.proper-ad-unit *{box-sizing:border-box !important}.proper-ad-unit>div:first-of-type:not(.sticky-inner){position:relative;margin:auto}.proper-ad-unit>div.active-highlight:first-of-type:not(.sticky-inner):after{content:\'\';margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;background:none;border:5px solid rgba(218,48,48,0.85)}.proper-ad-unit>div:first-of-type:not(.sticky-inner)>.noad{background-color:#c2c2c2}.proper-ad-unit .report-ad{position:relative !important;display:block !important;font-family:sans-serif;left:0;right:0;color:#999 !important;font-size:12px;line-height:23px;white-space:nowrap;text-decoration:none !important;-webkit-font-smoothing:antialiased}.proper-ad-unit .report-ad:hover{color:black;text-decoration:underline !important}.proper-ad-unit.ad-sticky{width:100%;text-align:center;z-index:10000000;pointer-events:none;position:fixed}.proper-ad-unit.ad-sticky.close{display:none !important}.proper-ad-unit.ad-sticky,.proper-ad-unit.ad-sticky .sticky-inner{pointer-events:none}.proper-ad-unit.ad-sticky .sticky-inner>*{pointer-events:all}.proper-ad-unit.ad-sticky .close{pointer-events:all;cursor:pointer}.proper-ad-unit.ad-sticky .close::after{content:"\\00d7";color:black;font-size:21px !important;font-family:\'Futura\', sans-serif !important;line-height:31px !important;border-radius:500px;display:block;width:32px;height:32px;margin:9px 0 0 9px;box-shadow:inset 0 0 0 2px #ccc}.proper-ad-unit.ad-sticky.close:not(.for-mobile):hover:after{box-shadow:inset 0 0 0 2px #333}.proper-ad-unit.ad-sticky iframe{background-color:white;pointer-events:all;vertical-align:bottom;position:relative;cursor:pointer;z-index:2}.proper-ad-unit.ad-sticky .brand{display:none;cursor:pointer;pointer-events:all;position:absolute;width:100%;height:100%;top:0;left:0}.proper-ad-unit.ad-sticky .brand:after{content:\'\';position:relative;width:100%;height:15px;display:block;background:no-repeat center;background-size:42px 15px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3VpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNjViYzk1Ny05OWIxLTRiNGMtYmVhMy05ZmExOGNlZjJjMTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk0MzY2N0FCRjBFMTFFQUJBOTU5NzBBQTVBNDdDOEIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk0MzY2NzlCRjBFMTFFQUJBOTU5NzBBQTVBNDdDOEIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YzBmYWQ1Ny1jNzQ3LTRjM2EtYTY4MC0zN2U1MWFhMzE1MDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjY1YmM5NTctOTliMS00YjRjLWJlYTMtOWZhMThjZWYyYzEwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rPgLLAAAAsFJREFUeNrsWjFLHEEU9uQQDUm4wjaCJGKQNJIygjaCkl+gZRp/QEoRE7AULIKghVUgYGEhGvIX4iE2IRA0CYiNIYXERMzF080beSdvh5mdfTs3u8K+Dz4OZt7Mvbffzbw3c1uJoqhDUBw65REUi0rRDpR9BcoKEAFEAEGBqDLtHwHvA0+BX+Xx5bcCasBF4GdgHfgF+AbbBYEFegE8VgWLgT+wX7ayABgF7mkP/B/wyCCEshuzVZoW/gJuAAc87Vu4B1zArfEcPxewPZRPOn1juEYf8B3wShv8wTWQKUCLJ8BBD3uFB8B9i/0B9of0Ka0ASTFYB6t9f8Ji+yrBCY7zGx72qpD46LDf0QqOED5FHvMbH5hS6SU6XsMKyLRaPjEEoBgh7b897KdJewM4BbyDnw3SNxXApzQ/4jTzx9AELgN7SdsStr8G9iBngX+YK4DiGTNYm/170j6njZkjfVsBfLq5TtGuVLjzxzBsKD8vyMBvwENDct4taAuiFVq/9t39pO84kE8uAdhbEC0/fzomuQS+BT4kOSFLEn7sYU9/HFVDHK2+i0A+ZRFAnz+GMUP5GeEBjG45m8AnCavH5cwp/goGPe3buQK4PnEFsM0fg15+HmICq2DCU2XduDZG5Ys1XBFpcwAnge2StueafdocsB0gqXJyQFIM1i9bxYRrQxdWSicZknDMeRKAyX6GtH0HdmeogqZtPlEfDP60S7CkGKyDz7DaMYkwiashaxXEEeAuVg2t9nntHFB3bBP1hHMAVwDuOSBNDDGsO7ahITwV0/4rPD33BRJAYYW0n2v7vc9JOC8BXDE474EivAdqMu6B2inAU61vO+Eu6C/jLihPAVwx5H8Tagk4V6QQoFDU8O6/iWzg4awWMviykPNWRJB/w8r+VoS8lnIL/vESiADlRVXeDZUVIAIIRIDS4r8AAwBeGBwdcC4MwQAAAABJRU5ErkJggg==")}.proper-ad-unit.ad-sticky .sticky-inner>div:last-of-type{display:inline-block}.proper-ad-unit.sticky-btm{bottom:0;left:0}.proper-ad-unit.sticky-btm:before{content:\'\';position:absolute;width:100%;height:50%;top:50%;left:0;background:rgba(255,255,255,0.79);pointer-events:all;box-shadow:0 0 4px 0 rgba(0,0,0,0.3)}.proper-ad-unit.sticky-btm .sticky-inner{height:inherit;display:inline-block}.proper-ad-unit.sticky-btm .inner-left,.proper-ad-unit.sticky-btm .inner-right{height:100%;width:48px;display:block}.proper-ad-unit.sticky-btm .inner-left{float:left}.proper-ad-unit.sticky-btm .inner-right{float:right;position:inherit}.proper-ad-unit.sticky-btm .brand{position:absolute;width:48px;height:16px;left:0;top:50%}.proper-ad-unit.sticky-btm .close{display:none;position:absolute;bottom:0;right:0;width:48px;height:48px}.proper-ad-unit[class*="sticky-corner-"]:before,.proper-ad-unit.sticky-right:before,.proper-ad-unit.sticky-left:before,.proper-ad-unit.sticky-btm.for-mobile:before{top:-2px;left:0;height:200%;background:white;box-shadow:0 0 0 2px #ccc}.proper-ad-unit[class*="sticky-corner-"] .inner-left,.proper-ad-unit[class*="sticky-corner-"] .inner-right,.proper-ad-unit.sticky-right .inner-left,.proper-ad-unit.sticky-right .inner-right,.proper-ad-unit.sticky-left .inner-left,.proper-ad-unit.sticky-left .inner-right,.proper-ad-unit.sticky-btm.for-mobile .inner-left,.proper-ad-unit.sticky-btm.for-mobile .inner-right{height:0;position:initial}.proper-ad-unit[class*="sticky-corner-"] .brand,.proper-ad-unit[class*="sticky-corner-"] .close,.proper-ad-unit.sticky-right .brand,.proper-ad-unit.sticky-right .close,.proper-ad-unit.sticky-left .brand,.proper-ad-unit.sticky-left .close,.proper-ad-unit.sticky-btm.for-mobile .brand,.proper-ad-unit.sticky-btm.for-mobile .close{bottom:100%;top:auto}.proper-ad-unit[class*="sticky-corner-"] .brand,.proper-ad-unit.sticky-right .brand,.proper-ad-unit.sticky-left .brand,.proper-ad-unit.sticky-btm.for-mobile .brand{top:-18px;width:48px;background-color:white;border-radius:0 6px 0 0;border:solid 2px #ccc;border-left:none;border-bottom:none}.proper-ad-unit[class*="sticky-corner-"] .brand:after,.proper-ad-unit.sticky-right .brand:after,.proper-ad-unit.sticky-left .brand:after,.proper-ad-unit.sticky-btm.for-mobile .brand:after{background-position:1px 0px}.proper-ad-unit[class*="sticky-corner-"] .close:after,.proper-ad-unit.sticky-right .close:after,.proper-ad-unit.sticky-left .close:after,.proper-ad-unit.sticky-btm.for-mobile .close:after{position:absolute;bottom:2px;right:0;box-shadow:none;border-radius:11px 0 0 0;background:#ffffff;border:solid 2px #ccc;border-right:none;border-bottom:none}.proper-ad-unit[class*="sticky-corner-"],.proper-ad-unit.sticky-left,.proper-ad-unit.sticky-right{right:0;width:auto;top:0;height:100% !important;display:table}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner,.proper-ad-unit.sticky-left .sticky-inner,.proper-ad-unit.sticky-right .sticky-inner{display:table-cell;vertical-align:middle}.proper-ad-unit[class*="sticky-corner-"] .inner-left,.proper-ad-unit[class*="sticky-corner-"] .inner-right,.proper-ad-unit.sticky-left .inner-left,.proper-ad-unit.sticky-left .inner-right,.proper-ad-unit.sticky-right .inner-left,.proper-ad-unit.sticky-right .inner-right{position:relative}.proper-ad-unit[class*="sticky-corner-"] .brand,.proper-ad-unit.sticky-left .brand,.proper-ad-unit.sticky-right .brand{height:14px;width:52px;top:-12px;border-left:solid 2px #ccc;border-radius:4px 4px 0 0}.proper-ad-unit[class*="sticky-corner-"] .brand:after,.proper-ad-unit.sticky-left .brand:after,.proper-ad-unit.sticky-right .brand:after{background-position:2px 0px}.proper-ad-unit[class*="sticky-corner-"] .close:after,.proper-ad-unit.sticky-left .close:after,.proper-ad-unit.sticky-right .close:after{bottom:-2px}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner>div:last-of-type,.proper-ad-unit.sticky-left .sticky-inner>div:last-of-type,.proper-ad-unit.sticky-right .sticky-inner>div:last-of-type{border:solid 2px #ccc;border-right:none;padding:4px;padding-right:0;background:white;border-radius:0 0 0 4px}.proper-ad-unit.sticky-corner-left,.proper-ad-unit.sticky-left{right:auto;left:0}.proper-ad-unit.sticky-corner-left .close:after,.proper-ad-unit.sticky-left .close:after{border-radius:6px 6px 0 0;border-right:solid 2px #ccc}.proper-ad-unit.sticky-corner-left .sticky-inner>div:last-of-type,.proper-ad-unit.sticky-left .sticky-inner>div:last-of-type{border-left:none;padding:4px;padding-left:0;border-right:solid 2px #ccc;border-radius:0 0 4px 0}.proper-ad-unit.sticky-left .brand{border-left:none;border-radius:0 4px 0 0;width:48px}.proper-ad-unit.sticky-left .brand:after{background-position:1px 0px}.proper-ad-unit[class*="sticky-corner-"]{padding:15px}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner{vertical-align:bottom}.proper-ad-unit[class*="sticky-corner-"] .brand{border-left:solid 2px #ccc}.proper-ad-unit[class*="sticky-corner-"] .brand:after{background-position:2px 0px}.proper-ad-unit[class*="sticky-corner-"] .close:after{border-radius:6px 6px 0 0;border-right:solid 2px #ccc}.proper-ad-unit[class*="sticky-corner-"] .sticky-inner>div:last-of-type{padding:4px;border:solid 2px #ccc;border-radius:3px}';ce.extra_css&&(t+=ce.extra_css);e.styleSheet?e.styleSheet.cssText=t:e.appendChild(S.createTextNode(t));S.getElementsByTagName("head")[0].appendChild(e)}(),_e.setPageVariables(),pe.pubCommonId.init(),me.init(),he.init(),he.cookieMatch(),T.init(),_e.init(),e=new Event("proper-has-been-loaded"),window.dispatchEvent(e)},proper_log:le.proper_log,proper_debug_console:function(){be.createDebugConsole()},proper_debug_overlay:function(){be.createDebugOverlays()},proper_display:function(e,t){if(jr())return le.mylog("Kill All Ads enabled! Goodbye!"),!1;if(void 0===e){try{var i=S.scripts[S.scripts.length-1],e=i.parentNode.id;if(void 0===i.parentNode||void 0===e||e.indexOf("proper-ad-")<0)return;e=e.replace("proper-ad-","")}catch(e){console.error(e),g(v.computeStackTrace(e))}if(void 0===e)return!1}if(!(i=ProperMedia.utils.extractSlotName(e)))return le.mylog("Couldn't find slot from id: "+e),!1;_e.buildSlot("display",i)},proper_render:Dr,logMatchingResponse:function(e,t,i){he.logMatchingResponse(e,t,i)},disableSlotRefresh:Vr,getReportAdInfo:function(e){var t,i={};return void 0!==e.site_name&&1==e.site_name&&(i.site_name=ce.site_name),void 0!==e.split_version&&1==e.rtp_file_version&&(i.split_version=ce.rtp_file_version),void 0!==e.slot_id&&(t=ProperMedia.utils.extractSlotName(e.slot_id),le.autoplay_html[e.slot_id]&&(i.autoplay_html=le.autoplay_html[e.slot_id]),void 0!==le.log_lines&&(i.log_lines=le.log_lines),void 0!==le.saved_data[t]&&(i.saved_data=le.saved_data[t]),void 0!==le.ad_info[t]&&(i.ad_info=le.ad_info[t])),i},getAdSlots:function(){return Object.keys(_e.slots.display).concat(_e.slots.video)},refreshSlotByName:function(e){return!!(e=_e.getSlotFromPageObject(e,["display"]))&&(e.removeRefreshTimeout(),e.refreshSlot(),!0)},sendError:g,spaNewPage:function(){_e.SpaNextPage()},infScrollNewPage:function(){_e.InfScrollNextPage()},buildSlots:function(){_e.buildSlots()},deleteSlot:function(e){return!!(e=_e.getSlotFromPageObject(e,["display"]))&&(e.deleteSlot(!0),!0)},destroyDfpSlot:function(e){return!!(e=_e.getSlotFromPageObject(e,["display"]))&&(e.destroyDfpSlot(),!0)},getVideoPlayerOps:function(e){return(e=_e.getSlotFromPageObject(e))&&e.video_player instanceof p&&e.video_player.player_settings||{}},createVideoSlot:function(t){try{return le.mylog("Create video slot for: "+t),_e.video_enabled=!0,propertag.cmd.push(function(){var e=_e.getSlotFromPageObject(t,["video"])?_e.getSlotFromPageObject(t,["video"]):_e.buildSlot("video",t);0==fe.vid_auction_count&&fe.sendVideoAuction(e.video_player.player_settings.video_type)}),!0}catch(e){return!1}},runVideoAuction:function(t){propertag.cmd.push(function(){var e=_e.getSlotFromPageObject(t);return!!(e&&e.video_player instanceof p)&&(fe.sendVideoAuction(e.video_player.player_settings.video_type),!0)})},getVideoAd:function(e){var t=_e.getSlotFromPageObject(e);if(t&&t.video_player instanceof p){var i=t.video_player.player_settings.video_type,r=fe.getTimeLeftOnRunningAuctions(),e=!!(0<fe.auction_count&&0==r.length),r=!e&&0<r.length?Math.min(r):0;if(t.getWinningBid(["video"],i))return t.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),{auction:{finished:e,time_remaining:r},ad:{price:t.winning_ad.price,bidder:t.winning_ad.bidder,vast_tag:t.winning_ad.vast_tag,vast_type:t.winning_ad.vast_type,vpaid:t.winning_ad.vpaid,video_type:t.winning_ad.video_type,ad_details:t.winning_ad.ad_details}};if("video"==t.type)return t.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),{auction:{finished:e,time_remaining:r},ad:{price:t.getFloor("dfp_floor"),bidder:"dfp_floor",vast_tag:"",vast_type:"",vpaid:"",video_type:i,ad_details:""}};1!==t.displayed&&"display"==t.type&&e&&(e=ProperMedia.utils.deepAccess(ce,"ad_slots."+t.type+"."+t.name)||{},t.setRefresh(e),t.getWinningBid(["display"]),Rr(t))}return!1},destroyVideoPlayer:function(e){(e=_e.getSlotFromPageObject(e))&&e.video_player instanceof p&&e.video_player.destroyVideoPlayer()},logVideoAdSuccess:function(e,t){var i,r,s=_e.getSlotFromPageObject(e);return s&&s.video_player instanceof p&&(i=ProperMedia.utils.getTimePassed(s.auction_started_ts),r=ge.isMobile()?"640x480":"400x300",e=null,t?(t=parseFloat(t)+.01,e={slot_name:ProperMedia.utils.validateValue(s.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue("dfp_video",{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(t,{type:"number",max:999,max_len:15}),price:ProperMedia.utils.validateValue(t,{type:"number",max:999,max_len:15}),size:ProperMedia.utils.validateValue(r,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(s.refresh.count,{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(i,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(i,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue("",{type:"string",max_len:50})},s.displayed_ad={type:"video",price:t,gross:t,dfp_price:t,bidder:"dfp_video",size:r,adCode:"",tag_id:"",response_ms:i,displayed:1,video_type:s.video_type},s.recycleBid()):s.hasWinningBid()&&(e={slot_name:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"dfp_name"),{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.bidder"),{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.gross"),{type:"number",max:999,max_len:15}),price:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.price"),{type:"number",max:999,max_len:15}),size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(i,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.advertiserId"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.campaignId"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.creativeId"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"winning_ad.dealid"),{type:"string",max_len:50})},s.winning_ad.displayed=1,s.size=s.winning_ad.size,s.displayed_ad=ProperMedia.utils.deepCopy(s.winning_ad),s.winning_ad.onBidWon()),e&&(s.displayed=1,s.refresh.count++,s.last_displayed_ts=ProperMedia.utils.getTimestampMs(),s.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),s.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),s.dispatchCustomEvent("video-ad-played"),s.dispatchCustomEvent("proper-ads-fired",{cpm:e.price,size:e.size,ad_type:ProperMedia.utils.deepAccess(s,"displayed_ad.video_type")}),ue.setSessionRevenue(e.price),fe.displayed_ads.push(ProperMedia.utils.deepCopy(s.displayed_ad)),le.bid_data.ad_slots[s.dfp_name]=e,clearTimeout(le.tracker_timeout),le.tracker_timeout=null,le.tracker_timeout=_.setTimeout.call(_e,function(){le.proper_tracker()},le.tracker_wait),le.mylog("displayed! ("+s.name+", bidder="+e.bidder+", size="+e.size+", price="+e.price+")"))),!0},logVideoUnfilled:function(e){(e=_e.getSlotFromPageObject(e))&&Br(e)},logVideoAdError:function(e,t,i){var r=new Error(JSON.stringify(t.msg));r.bidder=t.bidder,r.event_type="video_exception",g(r),(e=_e.getSlotFromPageObject(e))&&(e.hasWinningBid()&&"dfp"!==t.bidder&&(delete e.winning_ad,e.winning_ad={}),!0===i&&"display"==e.type&&(i=ProperMedia.utils.deepAccess(ce,"ad_slots."+e.type+"."+e.name)||{},e.setRefresh(i),e.refreshSlot()))},proper_remnant:function(e,t){var i=_e.getSlotByNumber(t,["display"]);if(!i)return le.mylog("Couldn't find slot with number: "+t),!1;Br(i)}}}((window,document));var proper_log=ProperMedia.ad_project.proper_log,proper_debug_console=ProperMedia.ad_project.proper_debug_console,proper_debug_overlay=ProperMedia.ad_project.proper_debug_overlay,proper_display=ProperMedia.ad_project.proper_display,proper_render=ProperMedia.ad_project.proper_render,disableSlotRefresh=ProperMedia.ad_project.disableSlotRefresh,logMatchingResponse=ProperMedia.ad_project.logMatchingResponse,properSpaNewPage=ProperMedia.ad_project.spaNewPage,properInfNewPage=ProperMedia.ad_project.infScrollNewPage,properBuildSlots=ProperMedia.ad_project.buildSlots,properDeleteSlot=ProperMedia.ad_project.deleteSlot,properDestroyDfpSlot=ProperMedia.ad_project.destroyDfpSlot,proper_remnant=ProperMedia.ad_project.proper_remnant;ProperMedia.ad_project.init();